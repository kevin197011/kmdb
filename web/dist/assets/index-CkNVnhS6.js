function Bm(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const a=Object.getOwnPropertyDescriptor(s,n);a&&Object.defineProperty(e,n,a.get?a:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();function jd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nd={exports:{}},Qi={},Rd={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ln=Symbol.for("react.element"),Im=Symbol.for("react.portal"),Fm=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Um=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),$m=Symbol.for("react.context"),Wm=Symbol.for("react.forward_ref"),Vm=Symbol.for("react.suspense"),Km=Symbol.for("react.memo"),qm=Symbol.for("react.lazy"),Sc=Symbol.iterator;function Gm(e){return e===null||typeof e!="object"?null:(e=Sc&&e[Sc]||e["@@iterator"],typeof e=="function"?e:null)}var Ld={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dd=Object.assign,Td={};function Ns(e,t,r){this.props=e,this.context=t,this.refs=Td,this.updater=r||Ld}Ns.prototype.isReactComponent={};Ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ad(){}Ad.prototype=Ns.prototype;function hl(e,t,r){this.props=e,this.context=t,this.refs=Td,this.updater=r||Ld}var fl=hl.prototype=new Ad;fl.constructor=hl;Dd(fl,Ns.prototype);fl.isPureReactComponent=!0;var wc=Array.isArray,Pd=Object.prototype.hasOwnProperty,pl={current:null},Od={key:!0,ref:!0,__self:!0,__source:!0};function Md(e,t,r){var s,n={},a=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(a=""+t.key),t)Pd.call(t,s)&&!Od.hasOwnProperty(s)&&(n[s]=t[s]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+2];n.children=l}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)n[s]===void 0&&(n[s]=i[s]);return{$$typeof:Ln,type:e,key:a,ref:h,props:n,_owner:pl.current}}function Xm(e,t){return{$$typeof:Ln,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ln}function Ym(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cc=/\/+/g;function Co(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ym(""+e.key):t.toString(36)}function li(e,t,r,s,n){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(a){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case Ln:case Im:h=!0}}if(h)return h=e,n=n(h),e=s===""?"."+Co(h,0):s,wc(n)?(r="",e!=null&&(r=e.replace(Cc,"$&/")+"/"),li(n,t,r,"",function(p){return p})):n!=null&&(ml(n)&&(n=Xm(n,r+(!n.key||h&&h.key===n.key?"":(""+n.key).replace(Cc,"$&/")+"/")+e)),t.push(n)),1;if(h=0,s=s===""?".":s+":",wc(e))for(var i=0;i<e.length;i++){a=e[i];var l=s+Co(a,i);h+=li(a,t,r,l,n)}else if(l=Gm(e),typeof l=="function")for(e=l.call(e),i=0;!(a=e.next()).done;)a=a.value,l=s+Co(a,i++),h+=li(a,t,r,l,n);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Fn(e,t,r){if(e==null)return e;var s=[],n=0;return li(e,s,"","",function(a){return t.call(r,a,n++)}),s}function Jm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},ci={transition:null},Qm={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:ci,ReactCurrentOwner:pl};function Bd(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Fn,forEach:function(e,t,r){Fn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Fn(e,function(){t++}),t},toArray:function(e){return Fn(e,function(t){return t})||[]},only:function(e){if(!ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Ns;le.Fragment=Fm;le.Profiler=Um;le.PureComponent=hl;le.StrictMode=Hm;le.Suspense=Vm;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qm;le.act=Bd;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Dd({},e.props),n=e.key,a=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,h=pl.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Pd.call(t,l)&&!Od.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){i=Array(l);for(var p=0;p<l;p++)i[p]=arguments[p+2];s.children=i}return{$$typeof:Ln,type:e.type,key:n,ref:a,props:s,_owner:h}};le.createContext=function(e){return e={$$typeof:$m,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zm,_context:e},e.Consumer=e};le.createElement=Md;le.createFactory=function(e){var t=Md.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Wm,render:e}};le.isValidElement=ml;le.lazy=function(e){return{$$typeof:qm,_payload:{_status:-1,_result:e},_init:Jm}};le.memo=function(e,t){return{$$typeof:Km,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=ci.transition;ci.transition={};try{e()}finally{ci.transition=t}};le.unstable_act=Bd;le.useCallback=function(e,t){return Ge.current.useCallback(e,t)};le.useContext=function(e){return Ge.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};le.useEffect=function(e,t){return Ge.current.useEffect(e,t)};le.useId=function(){return Ge.current.useId()};le.useImperativeHandle=function(e,t,r){return Ge.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return Ge.current.useMemo(e,t)};le.useReducer=function(e,t,r){return Ge.current.useReducer(e,t,r)};le.useRef=function(e){return Ge.current.useRef(e)};le.useState=function(e){return Ge.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return Ge.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return Ge.current.useTransition()};le.version="18.3.1";Rd.exports=le;var A=Rd.exports;const Zm=jd(A),vl=Bm({__proto__:null,default:Zm},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=A,tv=Symbol.for("react.element"),rv=Symbol.for("react.fragment"),sv=Object.prototype.hasOwnProperty,nv=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iv={key:!0,ref:!0,__self:!0,__source:!0};function Id(e,t,r){var s,n={},a=null,h=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)sv.call(t,s)&&!iv.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:tv,type:e,key:a,ref:h,props:n,_owner:nv.current}}Qi.Fragment=rv;Qi.jsx=Id;Qi.jsxs=Id;Nd.exports=Qi;var o=Nd.exports,Fd={exports:{}},ut={},Hd={exports:{}},Ud={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,P){var T=R.length;R.push(P);e:for(;0<T;){var M=T-1>>>1,W=R[M];if(0<n(W,P))R[M]=P,R[T]=W,T=M;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var P=R[0],T=R.pop();if(T!==P){R[0]=T;e:for(var M=0,W=R.length,X=W>>>1;M<X;){var Q=2*(M+1)-1,Z=R[Q],V=Q+1,L=R[V];if(0>n(Z,T))V<W&&0>n(L,Z)?(R[M]=L,R[V]=T,M=V):(R[M]=Z,R[Q]=T,M=Q);else if(V<W&&0>n(L,T))R[M]=L,R[V]=T,M=V;else break e}}return P}function n(R,P){var T=R.sortIndex-P.sortIndex;return T!==0?T:R.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var h=Date,i=h.now();e.unstable_now=function(){return h.now()-i}}var l=[],p=[],v=1,m=null,g=3,w=!1,S=!1,_=!1,c=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var P=r(p);P!==null;){if(P.callback===null)s(p);else if(P.startTime<=R)s(p),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(p)}}function y(R){if(_=!1,f(R),!S)if(r(l)!==null)S=!0,K(b);else{var P=r(p);P!==null&&q(y,P.startTime-R)}}function b(R,P){S=!1,_&&(_=!1,d(x),x=-1),w=!0;var T=g;try{for(f(P),m=r(l);m!==null&&(!(m.expirationTime>P)||R&&!j());){var M=m.callback;if(typeof M=="function"){m.callback=null,g=m.priorityLevel;var W=M(m.expirationTime<=P);P=e.unstable_now(),typeof W=="function"?m.callback=W:m===r(l)&&s(l),f(P)}else s(l);m=r(l)}if(m!==null)var X=!0;else{var Q=r(p);Q!==null&&q(y,Q.startTime-P),X=!1}return X}finally{m=null,g=T,w=!1}}var E=!1,C=null,x=-1,k=5,N=-1;function j(){return!(e.unstable_now()-N<k)}function D(){if(C!==null){var R=e.unstable_now();N=R;var P=!0;try{P=C(!0,R)}finally{P?O():(E=!1,C=null)}}else E=!1}var O;if(typeof u=="function")O=function(){u(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,U=I.port2;I.port1.onmessage=D,O=function(){U.postMessage(null)}}else O=function(){c(D,0)};function K(R){C=R,E||(E=!0,O())}function q(R,P){x=c(function(){R(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){S||w||(S=!0,K(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var T=g;g=P;try{return R()}finally{g=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=g;g=R;try{return P()}finally{g=T}},e.unstable_scheduleCallback=function(R,P,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,R){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=T+W,R={id:v++,callback:P,priorityLevel:R,startTime:T,expirationTime:W,sortIndex:-1},T>M?(R.sortIndex=T,t(p,R),r(l)===null&&R===r(p)&&(_?(d(x),x=-1):_=!0,q(y,T-M))):(R.sortIndex=W,t(l,R),S||w||(S=!0,K(b))),R},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(R){var P=g;return function(){var T=g;g=P;try{return R.apply(this,arguments)}finally{g=T}}}})(Ud);Hd.exports=Ud;var ov=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av=A,ct=ov;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zd=new Set,cn={};function Kr(e,t){xs(e,t),xs(e+"Capture",t)}function xs(e,t){for(cn[e]=t,e=0;e<t.length;e++)zd.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,lv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},kc={};function cv(e){return ua.call(kc,e)?!0:ua.call(Ec,e)?!1:lv.test(e)?kc[e]=!0:(Ec[e]=!0,!1)}function uv(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dv(e,t,r,s){if(t===null||typeof t>"u"||uv(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,r,s,n,a,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=h}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Me[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Me[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Me[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Me[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Me[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Me[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Me[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Me[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Me[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function _l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gl,_l);Me[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gl,_l);Me[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gl,_l);Me[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Me[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Me[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,r,s){var n=Me.hasOwnProperty(t)?Me[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dv(t,r,n,s)&&(r=null),s||n===null?cv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Yt=av.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hn=Symbol.for("react.element"),Zr=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),bl=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),Sl=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),Vd=Symbol.for("react.offscreen"),jc=Symbol.iterator;function Is(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Eo;function Xs(e){if(Eo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Eo=t&&t[1]||""}return`
`+Eo+e}var ko=!1;function jo(e,t){if(!e||ko)return"";ko=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var n=p.stack.split(`
`),a=s.stack.split(`
`),h=n.length-1,i=a.length-1;1<=h&&0<=i&&n[h]!==a[i];)i--;for(;1<=h&&0<=i;h--,i--)if(n[h]!==a[i]){if(h!==1||i!==1)do if(h--,i--,0>i||n[h]!==a[i]){var l=`
`+n[h].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=h&&0<=i);break}}}finally{ko=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xs(e):""}function hv(e){switch(e.tag){case 5:return Xs(e.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 2:case 15:return e=jo(e.type,!1),e;case 11:return e=jo(e.type.render,!1),e;case 1:return e=jo(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zr:return"Portal";case da:return"Profiler";case xl:return"StrictMode";case ha:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Wd:return(e.displayName||"Context")+".Consumer";case $d:return(e._context.displayName||"Context")+".Provider";case bl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sl:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function fv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pv(e){var t=Kd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(h){s=""+h,a.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Un(e){e._valueTracker||(e._valueTracker=pv(e))}function qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Kd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Nc(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=br(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gd(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function va(e,t){Gd(e,t);var r=br(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,r):t.hasOwnProperty("defaultValue")&&ga(e,t.type,br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Rc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ga(e,t,r){(t!=="number"||Ei(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ys=Array.isArray;function ds(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+br(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function _a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(Ys(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:br(r)}}function Xd(e,t){var r=br(t.value),s=br(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Yd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Yd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zn,Jd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zn=zn||document.createElement("div"),zn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function un(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys(Zs).forEach(function(e){mv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zs[t]=Zs[e]})});function Qd(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Zs.hasOwnProperty(e)&&Zs[e]?(""+t).trim():t+"px"}function Zd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=Qd(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var vv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(vv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function ba(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sa=null;function wl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wa=null,hs=null,fs=null;function Tc(e){if(e=An(e)){if(typeof wa!="function")throw Error(G(280));var t=e.stateNode;t&&(t=so(t),wa(e.stateNode,e.type,t))}}function eh(e){hs?fs?fs.push(e):fs=[e]:hs=e}function th(){if(hs){var e=hs,t=fs;if(fs=hs=null,Tc(e),t)for(e=0;e<t.length;e++)Tc(t[e])}}function rh(e,t){return e(t)}function sh(){}var No=!1;function nh(e,t,r){if(No)return e(t,r);No=!0;try{return rh(e,t,r)}finally{No=!1,(hs!==null||fs!==null)&&(sh(),th())}}function dn(e,t){var r=e.stateNode;if(r===null)return null;var s=so(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Ca=!1;if(Kt)try{var Fs={};Object.defineProperty(Fs,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",Fs,Fs),window.removeEventListener("test",Fs,Fs)}catch{Ca=!1}function gv(e,t,r,s,n,a,h,i,l){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(v){this.onError(v)}}var en=!1,ki=null,ji=!1,Ea=null,_v={onError:function(e){en=!0,ki=e}};function yv(e,t,r,s,n,a,h,i,l){en=!1,ki=null,gv.apply(_v,arguments)}function xv(e,t,r,s,n,a,h,i,l){if(yv.apply(this,arguments),en){if(en){var p=ki;en=!1,ki=null}else throw Error(G(198));ji||(ji=!0,Ea=p)}}function qr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ac(e){if(qr(e)!==e)throw Error(G(188))}function bv(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var a=n.alternate;if(a===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===a.child){for(a=n.child;a;){if(a===r)return Ac(n),e;if(a===s)return Ac(n),t;a=a.sibling}throw Error(G(188))}if(r.return!==s.return)r=n,s=a;else{for(var h=!1,i=n.child;i;){if(i===r){h=!0,r=n,s=a;break}if(i===s){h=!0,s=n,r=a;break}i=i.sibling}if(!h){for(i=a.child;i;){if(i===r){h=!0,r=a,s=n;break}if(i===s){h=!0,s=a,r=n;break}i=i.sibling}if(!h)throw Error(G(189))}}if(r.alternate!==s)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function oh(e){return e=bv(e),e!==null?ah(e):null}function ah(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ah(e);if(t!==null)return t;e=e.sibling}return null}var lh=ct.unstable_scheduleCallback,Pc=ct.unstable_cancelCallback,Sv=ct.unstable_shouldYield,wv=ct.unstable_requestPaint,ke=ct.unstable_now,Cv=ct.unstable_getCurrentPriorityLevel,Cl=ct.unstable_ImmediatePriority,ch=ct.unstable_UserBlockingPriority,Ni=ct.unstable_NormalPriority,Ev=ct.unstable_LowPriority,uh=ct.unstable_IdlePriority,Zi=null,Ot=null;function kv(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Zi,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Rv,jv=Math.log,Nv=Math.LN2;function Rv(e){return e>>>=0,e===0?32:31-(jv(e)/Nv|0)|0}var $n=64,Wn=4194304;function Js(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ri(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,a=e.pingedLanes,h=r&268435455;if(h!==0){var i=h&~n;i!==0?s=Js(i):(a&=h,a!==0&&(s=Js(a)))}else h=r&~n,h!==0?s=Js(h):a!==0&&(s=Js(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,a=t&-t,n>=a||n===16&&(a&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-Et(t),n=1<<r,s|=e[r],t&=~n;return s}function Lv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dv(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,a=e.pendingLanes;0<a;){var h=31-Et(a),i=1<<h,l=n[h];l===-1?(!(i&r)||i&s)&&(n[h]=Lv(i,t)):l<=t&&(e.expiredLanes|=i),a&=~i}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dh(){var e=$n;return $n<<=1,!($n&4194240)&&($n=64),e}function Ro(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Et(t),e[t]=r}function Tv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Et(r),a=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~a}}function El(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-Et(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var me=0;function hh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fh,kl,ph,mh,vh,ja=!1,Vn=[],hr=null,fr=null,pr=null,hn=new Map,fn=new Map,ar=[],Av="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fn.delete(t.pointerId)}}function Hs(e,t,r,s,n,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[n]},t!==null&&(t=An(t),t!==null&&kl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Pv(e,t,r,s,n){switch(t){case"focusin":return hr=Hs(hr,e,t,r,s,n),!0;case"dragenter":return fr=Hs(fr,e,t,r,s,n),!0;case"mouseover":return pr=Hs(pr,e,t,r,s,n),!0;case"pointerover":var a=n.pointerId;return hn.set(a,Hs(hn.get(a)||null,e,t,r,s,n)),!0;case"gotpointercapture":return a=n.pointerId,fn.set(a,Hs(fn.get(a)||null,e,t,r,s,n)),!0}return!1}function gh(e){var t=Tr(e.target);if(t!==null){var r=qr(t);if(r!==null){if(t=r.tag,t===13){if(t=ih(r),t!==null){e.blockedOn=t,vh(e.priority,function(){ph(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ui(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Sa=s,r.target.dispatchEvent(s),Sa=null}else return t=An(r),t!==null&&kl(t),e.blockedOn=r,!1;t.shift()}return!0}function Mc(e,t,r){ui(e)&&r.delete(t)}function Ov(){ja=!1,hr!==null&&ui(hr)&&(hr=null),fr!==null&&ui(fr)&&(fr=null),pr!==null&&ui(pr)&&(pr=null),hn.forEach(Mc),fn.forEach(Mc)}function Us(e,t){e.blockedOn===t&&(e.blockedOn=null,ja||(ja=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Ov)))}function pn(e){function t(n){return Us(n,e)}if(0<Vn.length){Us(Vn[0],e);for(var r=1;r<Vn.length;r++){var s=Vn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(hr!==null&&Us(hr,e),fr!==null&&Us(fr,e),pr!==null&&Us(pr,e),hn.forEach(t),fn.forEach(t),r=0;r<ar.length;r++)s=ar[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)gh(r),r.blockedOn===null&&ar.shift()}var ps=Yt.ReactCurrentBatchConfig,Li=!0;function Mv(e,t,r,s){var n=me,a=ps.transition;ps.transition=null;try{me=1,jl(e,t,r,s)}finally{me=n,ps.transition=a}}function Bv(e,t,r,s){var n=me,a=ps.transition;ps.transition=null;try{me=4,jl(e,t,r,s)}finally{me=n,ps.transition=a}}function jl(e,t,r,s){if(Li){var n=Na(e,t,r,s);if(n===null)Fo(e,t,s,Di,r),Oc(e,s);else if(Pv(n,e,t,r,s))s.stopPropagation();else if(Oc(e,s),t&4&&-1<Av.indexOf(e)){for(;n!==null;){var a=An(n);if(a!==null&&fh(a),a=Na(e,t,r,s),a===null&&Fo(e,t,s,Di,r),a===n)break;n=a}n!==null&&s.stopPropagation()}else Fo(e,t,s,null,r)}}var Di=null;function Na(e,t,r,s){if(Di=null,e=wl(s),e=Tr(e),e!==null)if(t=qr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ih(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Di=e,null}function _h(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cv()){case Cl:return 1;case ch:return 4;case Ni:case Ev:return 16;case uh:return 536870912;default:return 16}default:return 16}}var cr=null,Nl=null,di=null;function yh(){if(di)return di;var e,t=Nl,r=t.length,s,n="value"in cr?cr.value:cr.textContent,a=n.length;for(e=0;e<r&&t[e]===n[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===n[a-s];s++);return di=n.slice(e,1<s?1-s:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kn(){return!0}function Bc(){return!1}function dt(e){function t(r,s,n,a,h){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=a,this.target=h,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kn:Bc,this.isPropagationStopped=Bc,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=dt(Rs),Tn=we({},Rs,{view:0,detail:0}),Iv=dt(Tn),Lo,Do,zs,eo=we({},Tn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(Lo=e.screenX-zs.screenX,Do=e.screenY-zs.screenY):Do=Lo=0,zs=e),Lo)},movementY:function(e){return"movementY"in e?e.movementY:Do}}),Ic=dt(eo),Fv=we({},eo,{dataTransfer:0}),Hv=dt(Fv),Uv=we({},Tn,{relatedTarget:0}),To=dt(Uv),zv=we({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=dt(zv),Wv=we({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vv=dt(Wv),Kv=we({},Rs,{data:0}),Fc=dt(Kv),qv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xv[e])?!!t[e]:!1}function Ll(){return Yv}var Jv=we({},Tn,{key:function(e){if(e.key){var t=qv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qv=dt(Jv),Zv=we({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=dt(Zv),eg=we({},Tn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),tg=dt(eg),rg=we({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),sg=dt(rg),ng=we({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ig=dt(ng),og=[9,13,27,32],Dl=Kt&&"CompositionEvent"in window,tn=null;Kt&&"documentMode"in document&&(tn=document.documentMode);var ag=Kt&&"TextEvent"in window&&!tn,xh=Kt&&(!Dl||tn&&8<tn&&11>=tn),Uc=" ",zc=!1;function bh(e,t){switch(e){case"keyup":return og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function lg(e,t){switch(e){case"compositionend":return Sh(t);case"keypress":return t.which!==32?null:(zc=!0,Uc);case"textInput":return e=t.data,e===Uc&&zc?null:e;default:return null}}function cg(e,t){if(ts)return e==="compositionend"||!Dl&&bh(e,t)?(e=yh(),di=Nl=cr=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xh&&t.locale!=="ko"?null:t.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ug[e.type]:t==="textarea"}function wh(e,t,r,s){eh(s),t=Ti(t,"onChange"),0<t.length&&(r=new Rl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var rn=null,mn=null;function dg(e){Ph(e,0)}function to(e){var t=ns(e);if(qd(t))return e}function hg(e,t){if(e==="change")return t}var Ch=!1;if(Kt){var Ao;if(Kt){var Po="oninput"in document;if(!Po){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Po=typeof Wc.oninput=="function"}Ao=Po}else Ao=!1;Ch=Ao&&(!document.documentMode||9<document.documentMode)}function Vc(){rn&&(rn.detachEvent("onpropertychange",Eh),mn=rn=null)}function Eh(e){if(e.propertyName==="value"&&to(mn)){var t=[];wh(t,mn,e,wl(e)),nh(dg,t)}}function fg(e,t,r){e==="focusin"?(Vc(),rn=t,mn=r,rn.attachEvent("onpropertychange",Eh)):e==="focusout"&&Vc()}function pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(mn)}function mg(e,t){if(e==="click")return to(t)}function vg(e,t){if(e==="input"||e==="change")return to(t)}function gg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:gg;function vn(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!ua.call(t,n)||!jt(e[n],t[n]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var r=Kc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kc(r)}}function kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=Ei();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ei(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function _g(e){var t=jh(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&kh(r.ownerDocument.documentElement,r)){if(s!==null&&Tl(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,a=Math.min(s.start,n);s=s.end===void 0?a:Math.min(s.end,n),!e.extend&&a>s&&(n=s,s=a,a=n),n=qc(r,a);var h=qc(r,s);n&&h&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yg=Kt&&"documentMode"in document&&11>=document.documentMode,rs=null,Ra=null,sn=null,La=!1;function Gc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;La||rs==null||rs!==Ei(s)||(s=rs,"selectionStart"in s&&Tl(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),sn&&vn(sn,s)||(sn=s,s=Ti(Ra,"onSelect"),0<s.length&&(t=new Rl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=rs)))}function qn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ss={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionend:qn("Transition","TransitionEnd")},Oo={},Nh={};Kt&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function ro(e){if(Oo[e])return Oo[e];if(!ss[e])return e;var t=ss[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Nh)return Oo[e]=t[r];return e}var Rh=ro("animationend"),Lh=ro("animationiteration"),Dh=ro("animationstart"),Th=ro("transitionend"),Ah=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){Ah.set(e,t),Kr(t,[e])}for(var Mo=0;Mo<Xc.length;Mo++){var Bo=Xc[Mo],xg=Bo.toLowerCase(),bg=Bo[0].toUpperCase()+Bo.slice(1);wr(xg,"on"+bg)}wr(Rh,"onAnimationEnd");wr(Lh,"onAnimationIteration");wr(Dh,"onAnimationStart");wr("dblclick","onDoubleClick");wr("focusin","onFocus");wr("focusout","onBlur");wr(Th,"onTransitionEnd");xs("onMouseEnter",["mouseout","mouseover"]);xs("onMouseLeave",["mouseout","mouseover"]);xs("onPointerEnter",["pointerout","pointerover"]);xs("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qs));function Yc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,xv(s,t,void 0,e),e.currentTarget=null}function Ph(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var h=s.length-1;0<=h;h--){var i=s[h],l=i.instance,p=i.currentTarget;if(i=i.listener,l!==a&&n.isPropagationStopped())break e;Yc(n,i,p),a=l}else for(h=0;h<s.length;h++){if(i=s[h],l=i.instance,p=i.currentTarget,i=i.listener,l!==a&&n.isPropagationStopped())break e;Yc(n,i,p),a=l}}}if(ji)throw e=Ea,ji=!1,Ea=null,e}function _e(e,t){var r=t[Oa];r===void 0&&(r=t[Oa]=new Set);var s=e+"__bubble";r.has(s)||(Oh(t,e,2,!1),r.add(s))}function Io(e,t,r){var s=0;t&&(s|=4),Oh(r,e,s,t)}var Gn="_reactListening"+Math.random().toString(36).slice(2);function gn(e){if(!e[Gn]){e[Gn]=!0,zd.forEach(function(r){r!=="selectionchange"&&(Sg.has(r)||Io(r,!1,e),Io(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gn]||(t[Gn]=!0,Io("selectionchange",!1,t))}}function Oh(e,t,r,s){switch(_h(t)){case 1:var n=Mv;break;case 4:n=Bv;break;default:n=jl}r=n.bind(null,t,r,e),n=void 0,!Ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Fo(e,t,r,s,n){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var i=s.stateNode.containerInfo;if(i===n||i.nodeType===8&&i.parentNode===n)break;if(h===4)for(h=s.return;h!==null;){var l=h.tag;if((l===3||l===4)&&(l=h.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;h=h.return}for(;i!==null;){if(h=Tr(i),h===null)return;if(l=h.tag,l===5||l===6){s=a=h;continue e}i=i.parentNode}}s=s.return}nh(function(){var p=a,v=wl(r),m=[];e:{var g=Ah.get(e);if(g!==void 0){var w=Rl,S=e;switch(e){case"keypress":if(hi(r)===0)break e;case"keydown":case"keyup":w=Qv;break;case"focusin":S="focus",w=To;break;case"focusout":S="blur",w=To;break;case"beforeblur":case"afterblur":w=To;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=tg;break;case Rh:case Lh:case Dh:w=$v;break;case Th:w=sg;break;case"scroll":w=Iv;break;case"wheel":w=ig;break;case"copy":case"cut":case"paste":w=Vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Hc}var _=(t&4)!==0,c=!_&&e==="scroll",d=_?g!==null?g+"Capture":null:g;_=[];for(var u=p,f;u!==null;){f=u;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,d!==null&&(y=dn(u,d),y!=null&&_.push(_n(u,y,f)))),c)break;u=u.return}0<_.length&&(g=new w(g,S,null,r,v),m.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",g&&r!==Sa&&(S=r.relatedTarget||r.fromElement)&&(Tr(S)||S[qt]))break e;if((w||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,w?(S=r.relatedTarget||r.toElement,w=p,S=S?Tr(S):null,S!==null&&(c=qr(S),S!==c||S.tag!==5&&S.tag!==6)&&(S=null)):(w=null,S=p),w!==S)){if(_=Ic,y="onMouseLeave",d="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(_=Hc,y="onPointerLeave",d="onPointerEnter",u="pointer"),c=w==null?g:ns(w),f=S==null?g:ns(S),g=new _(y,u+"leave",w,r,v),g.target=c,g.relatedTarget=f,y=null,Tr(v)===p&&(_=new _(d,u+"enter",S,r,v),_.target=f,_.relatedTarget=c,y=_),c=y,w&&S)t:{for(_=w,d=S,u=0,f=_;f;f=Xr(f))u++;for(f=0,y=d;y;y=Xr(y))f++;for(;0<u-f;)_=Xr(_),u--;for(;0<f-u;)d=Xr(d),f--;for(;u--;){if(_===d||d!==null&&_===d.alternate)break t;_=Xr(_),d=Xr(d)}_=null}else _=null;w!==null&&Jc(m,g,w,_,!1),S!==null&&c!==null&&Jc(m,c,S,_,!0)}}e:{if(g=p?ns(p):window,w=g.nodeName&&g.nodeName.toLowerCase(),w==="select"||w==="input"&&g.type==="file")var b=hg;else if($c(g))if(Ch)b=vg;else{b=pg;var E=fg}else(w=g.nodeName)&&w.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(b=mg);if(b&&(b=b(e,p))){wh(m,b,r,v);break e}E&&E(e,g,p),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&ga(g,"number",g.value)}switch(E=p?ns(p):window,e){case"focusin":($c(E)||E.contentEditable==="true")&&(rs=E,Ra=p,sn=null);break;case"focusout":sn=Ra=rs=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Gc(m,r,v);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":Gc(m,r,v)}var C;if(Dl)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ts?bh(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(xh&&r.locale!=="ko"&&(ts||x!=="onCompositionStart"?x==="onCompositionEnd"&&ts&&(C=yh()):(cr=v,Nl="value"in cr?cr.value:cr.textContent,ts=!0)),E=Ti(p,x),0<E.length&&(x=new Fc(x,e,null,r,v),m.push({event:x,listeners:E}),C?x.data=C:(C=Sh(r),C!==null&&(x.data=C)))),(C=ag?lg(e,r):cg(e,r))&&(p=Ti(p,"onBeforeInput"),0<p.length&&(v=new Fc("onBeforeInput","beforeinput",null,r,v),m.push({event:v,listeners:p}),v.data=C))}Ph(m,t)})}function _n(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ti(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,a=n.stateNode;n.tag===5&&a!==null&&(n=a,a=dn(e,r),a!=null&&s.unshift(_n(e,a,n)),a=dn(e,t),a!=null&&s.push(_n(e,a,n))),e=e.return}return s}function Xr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Jc(e,t,r,s,n){for(var a=t._reactName,h=[];r!==null&&r!==s;){var i=r,l=i.alternate,p=i.stateNode;if(l!==null&&l===s)break;i.tag===5&&p!==null&&(i=p,n?(l=dn(r,a),l!=null&&h.unshift(_n(r,l,i))):n||(l=dn(r,a),l!=null&&h.push(_n(r,l,i)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var wg=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function Qc(e){return(typeof e=="string"?e:""+e).replace(wg,`
`).replace(Cg,"")}function Xn(e,t,r){if(t=Qc(t),Qc(e)!==t&&r)throw Error(G(425))}function Ai(){}var Da=null,Ta=null;function Aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pa=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,kg=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(e){return Zc.resolve(null).then(e).catch(jg)}:Pa;function jg(e){setTimeout(function(){throw e})}function Ho(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),pn(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);pn(t)}function mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ls=Math.random().toString(36).slice(2),At="__reactFiber$"+Ls,yn="__reactProps$"+Ls,qt="__reactContainer$"+Ls,Oa="__reactEvents$"+Ls,Ng="__reactListeners$"+Ls,Rg="__reactHandles$"+Ls;function Tr(e){var t=e[At];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qt]||r[At]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=eu(e);e!==null;){if(r=e[At])return r;e=eu(e)}return t}e=r,r=e.parentNode}return null}function An(e){return e=e[At]||e[qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ns(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function so(e){return e[yn]||null}var Ma=[],is=-1;function Cr(e){return{current:e}}function ye(e){0>is||(e.current=Ma[is],Ma[is]=null,is--)}function ve(e,t){is++,Ma[is]=e.current,e.current=t}var Sr={},ze=Cr(Sr),Ze=Cr(!1),Fr=Sr;function bs(e,t){var r=e.type.contextTypes;if(!r)return Sr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},a;for(a in r)n[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function et(e){return e=e.childContextTypes,e!=null}function Pi(){ye(Ze),ye(ze)}function tu(e,t,r){if(ze.current!==Sr)throw Error(G(168));ve(ze,t),ve(Ze,r)}function Mh(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(G(108,fv(e)||"Unknown",n));return we({},r,s)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sr,Fr=ze.current,ve(ze,e),ve(Ze,Ze.current),!0}function ru(e,t,r){var s=e.stateNode;if(!s)throw Error(G(169));r?(e=Mh(e,t,Fr),s.__reactInternalMemoizedMergedChildContext=e,ye(Ze),ye(ze),ve(ze,e)):ye(Ze),ve(Ze,r)}var Ut=null,no=!1,Uo=!1;function Bh(e){Ut===null?Ut=[e]:Ut.push(e)}function Lg(e){no=!0,Bh(e)}function Er(){if(!Uo&&Ut!==null){Uo=!0;var e=0,t=me;try{var r=Ut;for(me=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Ut=null,no=!1}catch(n){throw Ut!==null&&(Ut=Ut.slice(e+1)),lh(Cl,Er),n}finally{me=t,Uo=!1}}return null}var os=[],as=0,Mi=null,Bi=0,ht=[],ft=0,Hr=null,zt=1,$t="";function Lr(e,t){os[as++]=Bi,os[as++]=Mi,Mi=e,Bi=t}function Ih(e,t,r){ht[ft++]=zt,ht[ft++]=$t,ht[ft++]=Hr,Hr=e;var s=zt;e=$t;var n=32-Et(s)-1;s&=~(1<<n),r+=1;var a=32-Et(t)+n;if(30<a){var h=n-n%5;a=(s&(1<<h)-1).toString(32),s>>=h,n-=h,zt=1<<32-Et(t)+n|r<<n|s,$t=a+e}else zt=1<<a|r<<n|s,$t=e}function Al(e){e.return!==null&&(Lr(e,1),Ih(e,1,0))}function Pl(e){for(;e===Mi;)Mi=os[--as],os[as]=null,Bi=os[--as],os[as]=null;for(;e===Hr;)Hr=ht[--ft],ht[ft]=null,$t=ht[--ft],ht[ft]=null,zt=ht[--ft],ht[ft]=null}var lt=null,at=null,xe=!1,Ct=null;function Fh(e,t){var r=pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Hr!==null?{id:zt,overflow:$t}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,lt=e,at=null,!0):!1;default:return!1}}function Ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ia(e){if(xe){var t=at;if(t){var r=t;if(!su(e,t)){if(Ba(e))throw Error(G(418));t=mr(r.nextSibling);var s=lt;t&&su(e,t)?Fh(s,r):(e.flags=e.flags&-4097|2,xe=!1,lt=e)}}else{if(Ba(e))throw Error(G(418));e.flags=e.flags&-4097|2,xe=!1,lt=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function Yn(e){if(e!==lt)return!1;if(!xe)return nu(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Aa(e.type,e.memoizedProps)),t&&(t=at)){if(Ba(e))throw Hh(),Error(G(418));for(;t;)Fh(e,t),t=mr(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){at=mr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?mr(e.stateNode.nextSibling):null;return!0}function Hh(){for(var e=at;e;)e=mr(e.nextSibling)}function Ss(){at=lt=null,xe=!1}function Ol(e){Ct===null?Ct=[e]:Ct.push(e)}var Dg=Yt.ReactCurrentBatchConfig;function $s(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var s=r.stateNode}if(!s)throw Error(G(147,e));var n=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(h){var i=n.refs;h===null?delete i[a]:i[a]=h},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Jn(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iu(e){var t=e._init;return t(e._payload)}function Uh(e){function t(d,u){if(e){var f=d.deletions;f===null?(d.deletions=[u],d.flags|=16):f.push(u)}}function r(d,u){if(!e)return null;for(;u!==null;)t(d,u),u=u.sibling;return null}function s(d,u){for(d=new Map;u!==null;)u.key!==null?d.set(u.key,u):d.set(u.index,u),u=u.sibling;return d}function n(d,u){return d=yr(d,u),d.index=0,d.sibling=null,d}function a(d,u,f){return d.index=f,e?(f=d.alternate,f!==null?(f=f.index,f<u?(d.flags|=2,u):f):(d.flags|=2,u)):(d.flags|=1048576,u)}function h(d){return e&&d.alternate===null&&(d.flags|=2),d}function i(d,u,f,y){return u===null||u.tag!==6?(u=Go(f,d.mode,y),u.return=d,u):(u=n(u,f),u.return=d,u)}function l(d,u,f,y){var b=f.type;return b===es?v(d,u,f.props.children,y,f.key):u!==null&&(u.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ir&&iu(b)===u.type)?(y=n(u,f.props),y.ref=$s(d,u,f),y.return=d,y):(y=yi(f.type,f.key,f.props,null,d.mode,y),y.ref=$s(d,u,f),y.return=d,y)}function p(d,u,f,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=Xo(f,d.mode,y),u.return=d,u):(u=n(u,f.children||[]),u.return=d,u)}function v(d,u,f,y,b){return u===null||u.tag!==7?(u=Br(f,d.mode,y,b),u.return=d,u):(u=n(u,f),u.return=d,u)}function m(d,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Go(""+u,d.mode,f),u.return=d,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Hn:return f=yi(u.type,u.key,u.props,null,d.mode,f),f.ref=$s(d,null,u),f.return=d,f;case Zr:return u=Xo(u,d.mode,f),u.return=d,u;case ir:var y=u._init;return m(d,y(u._payload),f)}if(Ys(u)||Is(u))return u=Br(u,d.mode,f,null),u.return=d,u;Jn(d,u)}return null}function g(d,u,f,y){var b=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return b!==null?null:i(d,u,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Hn:return f.key===b?l(d,u,f,y):null;case Zr:return f.key===b?p(d,u,f,y):null;case ir:return b=f._init,g(d,u,b(f._payload),y)}if(Ys(f)||Is(f))return b!==null?null:v(d,u,f,y,null);Jn(d,f)}return null}function w(d,u,f,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return d=d.get(f)||null,i(u,d,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Hn:return d=d.get(y.key===null?f:y.key)||null,l(u,d,y,b);case Zr:return d=d.get(y.key===null?f:y.key)||null,p(u,d,y,b);case ir:var E=y._init;return w(d,u,f,E(y._payload),b)}if(Ys(y)||Is(y))return d=d.get(f)||null,v(u,d,y,b,null);Jn(u,y)}return null}function S(d,u,f,y){for(var b=null,E=null,C=u,x=u=0,k=null;C!==null&&x<f.length;x++){C.index>x?(k=C,C=null):k=C.sibling;var N=g(d,C,f[x],y);if(N===null){C===null&&(C=k);break}e&&C&&N.alternate===null&&t(d,C),u=a(N,u,x),E===null?b=N:E.sibling=N,E=N,C=k}if(x===f.length)return r(d,C),xe&&Lr(d,x),b;if(C===null){for(;x<f.length;x++)C=m(d,f[x],y),C!==null&&(u=a(C,u,x),E===null?b=C:E.sibling=C,E=C);return xe&&Lr(d,x),b}for(C=s(d,C);x<f.length;x++)k=w(C,d,x,f[x],y),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?x:k.key),u=a(k,u,x),E===null?b=k:E.sibling=k,E=k);return e&&C.forEach(function(j){return t(d,j)}),xe&&Lr(d,x),b}function _(d,u,f,y){var b=Is(f);if(typeof b!="function")throw Error(G(150));if(f=b.call(f),f==null)throw Error(G(151));for(var E=b=null,C=u,x=u=0,k=null,N=f.next();C!==null&&!N.done;x++,N=f.next()){C.index>x?(k=C,C=null):k=C.sibling;var j=g(d,C,N.value,y);if(j===null){C===null&&(C=k);break}e&&C&&j.alternate===null&&t(d,C),u=a(j,u,x),E===null?b=j:E.sibling=j,E=j,C=k}if(N.done)return r(d,C),xe&&Lr(d,x),b;if(C===null){for(;!N.done;x++,N=f.next())N=m(d,N.value,y),N!==null&&(u=a(N,u,x),E===null?b=N:E.sibling=N,E=N);return xe&&Lr(d,x),b}for(C=s(d,C);!N.done;x++,N=f.next())N=w(C,d,x,N.value,y),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?x:N.key),u=a(N,u,x),E===null?b=N:E.sibling=N,E=N);return e&&C.forEach(function(D){return t(d,D)}),xe&&Lr(d,x),b}function c(d,u,f,y){if(typeof f=="object"&&f!==null&&f.type===es&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Hn:e:{for(var b=f.key,E=u;E!==null;){if(E.key===b){if(b=f.type,b===es){if(E.tag===7){r(d,E.sibling),u=n(E,f.props.children),u.return=d,d=u;break e}}else if(E.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ir&&iu(b)===E.type){r(d,E.sibling),u=n(E,f.props),u.ref=$s(d,E,f),u.return=d,d=u;break e}r(d,E);break}else t(d,E);E=E.sibling}f.type===es?(u=Br(f.props.children,d.mode,y,f.key),u.return=d,d=u):(y=yi(f.type,f.key,f.props,null,d.mode,y),y.ref=$s(d,u,f),y.return=d,d=y)}return h(d);case Zr:e:{for(E=f.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){r(d,u.sibling),u=n(u,f.children||[]),u.return=d,d=u;break e}else{r(d,u);break}else t(d,u);u=u.sibling}u=Xo(f,d.mode,y),u.return=d,d=u}return h(d);case ir:return E=f._init,c(d,u,E(f._payload),y)}if(Ys(f))return S(d,u,f,y);if(Is(f))return _(d,u,f,y);Jn(d,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(r(d,u.sibling),u=n(u,f),u.return=d,d=u):(r(d,u),u=Go(f,d.mode,y),u.return=d,d=u),h(d)):r(d,u)}return c}var ws=Uh(!0),zh=Uh(!1),Ii=Cr(null),Fi=null,ls=null,Ml=null;function Bl(){Ml=ls=Fi=null}function Il(e){var t=Ii.current;ye(Ii),e._currentValue=t}function Fa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function ms(e,t){Fi=e,Ml=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(Ml!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(Fi===null)throw Error(G(308));ls=e,Fi.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var Ar=null;function Fl(e){Ar===null?Ar=[e]:Ar.push(e)}function $h(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,Fl(t)):(r.next=n.next,n.next=r),t.interleaved=r,Gt(e,s)}function Gt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var or=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,de&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,Gt(e,r)}return n=s.interleaved,n===null?(t.next=t,Fl(s)):(t.next=n.next,n.next=t),s.interleaved=t,Gt(e,r)}function fi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,El(e,r)}}function ou(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?n=a=h:a=a.next=h,r=r.next}while(r!==null);a===null?n=a=t:a=a.next=t}else n=a=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hi(e,t,r,s){var n=e.updateQueue;or=!1;var a=n.firstBaseUpdate,h=n.lastBaseUpdate,i=n.shared.pending;if(i!==null){n.shared.pending=null;var l=i,p=l.next;l.next=null,h===null?a=p:h.next=p,h=l;var v=e.alternate;v!==null&&(v=v.updateQueue,i=v.lastBaseUpdate,i!==h&&(i===null?v.firstBaseUpdate=p:i.next=p,v.lastBaseUpdate=l))}if(a!==null){var m=n.baseState;h=0,v=p=l=null,i=a;do{var g=i.lane,w=i.eventTime;if((s&g)===g){v!==null&&(v=v.next={eventTime:w,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,_=i;switch(g=t,w=r,_.tag){case 1:if(S=_.payload,typeof S=="function"){m=S.call(w,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,g=typeof S=="function"?S.call(w,m,g):S,g==null)break e;m=we({},m,g);break e;case 2:or=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=n.effects,g===null?n.effects=[i]:g.push(i))}else w={eventTime:w,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},v===null?(p=v=w,l=m):v=v.next=w,h|=g;if(i=i.next,i===null){if(i=n.shared.pending,i===null)break;g=i,i=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);if(v===null&&(l=m),n.baseState=l,n.firstBaseUpdate=p,n.lastBaseUpdate=v,t=n.shared.interleaved,t!==null){n=t;do h|=n.lane,n=n.next;while(n!==t)}else a===null&&(n.shared.lanes=0);zr|=h,e.lanes=h,e.memoizedState=m}}function au(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(G(191,n));n.call(s)}}}var Pn={},Mt=Cr(Pn),xn=Cr(Pn),bn=Cr(Pn);function Pr(e){if(e===Pn)throw Error(G(174));return e}function Ul(e,t){switch(ve(bn,t),ve(xn,e),ve(Mt,Pn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ya(t,e)}ye(Mt),ve(Mt,t)}function Cs(){ye(Mt),ye(xn),ye(bn)}function Vh(e){Pr(bn.current);var t=Pr(Mt.current),r=ya(t,e.type);t!==r&&(ve(xn,e),ve(Mt,r))}function zl(e){xn.current===e&&(ye(Mt),ye(xn))}var be=Cr(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var zo=[];function $l(){for(var e=0;e<zo.length;e++)zo[e]._workInProgressVersionPrimary=null;zo.length=0}var pi=Yt.ReactCurrentDispatcher,$o=Yt.ReactCurrentBatchConfig,Ur=0,Se=null,Re=null,De=null,zi=!1,nn=!1,Sn=0,Tg=0;function Ie(){throw Error(G(321))}function Wl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!jt(e[r],t[r]))return!1;return!0}function Vl(e,t,r,s,n,a){if(Ur=a,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?Mg:Bg,e=r(s,n),nn){a=0;do{if(nn=!1,Sn=0,25<=a)throw Error(G(301));a+=1,De=Re=null,t.updateQueue=null,pi.current=Ig,e=r(s,n)}while(nn)}if(pi.current=$i,t=Re!==null&&Re.next!==null,Ur=0,De=Re=Se=null,zi=!1,t)throw Error(G(300));return e}function Kl(){var e=Sn!==0;return Sn=0,e}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Se.memoizedState=De=e:De=De.next=e,De}function _t(){if(Re===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=De===null?Se.memoizedState:De.next;if(t!==null)De=t,Re=e;else{if(e===null)throw Error(G(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},De===null?Se.memoizedState=De=e:De=De.next=e}return De}function wn(e,t){return typeof t=="function"?t(e):t}function Wo(e){var t=_t(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var s=Re,n=s.baseQueue,a=r.pending;if(a!==null){if(n!==null){var h=n.next;n.next=a.next,a.next=h}s.baseQueue=n=a,r.pending=null}if(n!==null){a=n.next,s=s.baseState;var i=h=null,l=null,p=a;do{var v=p.lane;if((Ur&v)===v)l!==null&&(l=l.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var m={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};l===null?(i=l=m,h=s):l=l.next=m,Se.lanes|=v,zr|=v}p=p.next}while(p!==null&&p!==a);l===null?h=s:l.next=i,jt(s,t.memoizedState)||(Qe=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do a=n.lane,Se.lanes|=a,zr|=a,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Vo(e){var t=_t(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,a=t.memoizedState;if(n!==null){r.pending=null;var h=n=n.next;do a=e(a,h.action),h=h.next;while(h!==n);jt(a,t.memoizedState)||(Qe=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,s]}function Kh(){}function qh(e,t){var r=Se,s=_t(),n=t(),a=!jt(s.memoizedState,n);if(a&&(s.memoizedState=n,Qe=!0),s=s.queue,ql(Yh.bind(null,r,s,e),[e]),s.getSnapshot!==t||a||De!==null&&De.memoizedState.tag&1){if(r.flags|=2048,Cn(9,Xh.bind(null,r,s,n,t),void 0,null),Te===null)throw Error(G(349));Ur&30||Gh(r,t,n)}return n}function Gh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Xh(e,t,r,s){t.value=r,t.getSnapshot=s,Jh(t)&&Qh(e)}function Yh(e,t,r){return r(function(){Jh(t)&&Qh(e)})}function Jh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!jt(e,r)}catch{return!0}}function Qh(e){var t=Gt(e,1);t!==null&&kt(t,e,1,-1)}function lu(e){var t=Tt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t.queue=e,e=e.dispatch=Og.bind(null,Se,e),[t.memoizedState,e]}function Cn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Zh(){return _t().memoizedState}function mi(e,t,r,s){var n=Tt();Se.flags|=e,n.memoizedState=Cn(1|t,r,void 0,s===void 0?null:s)}function io(e,t,r,s){var n=_t();s=s===void 0?null:s;var a=void 0;if(Re!==null){var h=Re.memoizedState;if(a=h.destroy,s!==null&&Wl(s,h.deps)){n.memoizedState=Cn(t,r,a,s);return}}Se.flags|=e,n.memoizedState=Cn(1|t,r,a,s)}function cu(e,t){return mi(8390656,8,e,t)}function ql(e,t){return io(2048,8,e,t)}function ef(e,t){return io(4,2,e,t)}function tf(e,t){return io(4,4,e,t)}function rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sf(e,t,r){return r=r!=null?r.concat([e]):null,io(4,4,rf.bind(null,t,e),r)}function Gl(){}function nf(e,t){var r=_t();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function of(e,t){var r=_t();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function af(e,t,r){return Ur&21?(jt(r,t)||(r=dh(),Se.lanes|=r,zr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=r)}function Ag(e,t){var r=me;me=r!==0&&4>r?r:4,e(!0);var s=$o.transition;$o.transition={};try{e(!1),t()}finally{me=r,$o.transition=s}}function lf(){return _t().memoizedState}function Pg(e,t,r){var s=_r(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},cf(e))uf(t,r);else if(r=$h(e,t,r,s),r!==null){var n=qe();kt(r,e,s,n),df(r,t,s)}}function Og(e,t,r){var s=_r(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(cf(e))uf(t,n);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var h=t.lastRenderedState,i=a(h,r);if(n.hasEagerState=!0,n.eagerState=i,jt(i,h)){var l=t.interleaved;l===null?(n.next=n,Fl(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=$h(e,t,n,s),r!==null&&(n=qe(),kt(r,e,s,n),df(r,t,s))}}function cf(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function uf(e,t){nn=zi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function df(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,El(e,r)}}var $i={readContext:gt,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},Mg={readContext:gt,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:cu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mi(4194308,4,rf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var r=Tt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Tt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Pg.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:lu,useDebugValue:Gl,useDeferredValue:function(e){return Tt().memoizedState=e},useTransition:function(){var e=lu(!1),t=e[0];return e=Ag.bind(null,e[1]),Tt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=Se,n=Tt();if(xe){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Te===null)throw Error(G(349));Ur&30||Gh(s,t,r)}n.memoizedState=r;var a={value:r,getSnapshot:t};return n.queue=a,cu(Yh.bind(null,s,a,e),[e]),s.flags|=2048,Cn(9,Xh.bind(null,s,a,r,t),void 0,null),r},useId:function(){var e=Tt(),t=Te.identifierPrefix;if(xe){var r=$t,s=zt;r=(s&~(1<<32-Et(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Sn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Tg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bg={readContext:gt,useCallback:nf,useContext:gt,useEffect:ql,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Wo,useRef:Zh,useState:function(){return Wo(wn)},useDebugValue:Gl,useDeferredValue:function(e){var t=_t();return af(t,Re.memoizedState,e)},useTransition:function(){var e=Wo(wn)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Kh,useSyncExternalStore:qh,useId:lf,unstable_isNewReconciler:!1},Ig={readContext:gt,useCallback:nf,useContext:gt,useEffect:ql,useImperativeHandle:sf,useInsertionEffect:ef,useLayoutEffect:tf,useMemo:of,useReducer:Vo,useRef:Zh,useState:function(){return Vo(wn)},useDebugValue:Gl,useDeferredValue:function(e){var t=_t();return Re===null?t.memoizedState=e:af(t,Re.memoizedState,e)},useTransition:function(){var e=Vo(wn)[0],t=_t().memoizedState;return[e,t]},useMutableSource:Kh,useSyncExternalStore:qh,useId:lf,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ha(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var oo={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=qe(),n=_r(e),a=Wt(s,n);a.payload=t,r!=null&&(a.callback=r),t=vr(e,a,n),t!==null&&(kt(t,e,n,s),fi(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=qe(),n=_r(e),a=Wt(s,n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=vr(e,a,n),t!==null&&(kt(t,e,n,s),fi(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qe(),s=_r(e),n=Wt(r,s);n.tag=2,t!=null&&(n.callback=t),t=vr(e,n,s),t!==null&&(kt(t,e,s,r),fi(t,e,s))}};function uu(e,t,r,s,n,a,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,h):t.prototype&&t.prototype.isPureReactComponent?!vn(r,s)||!vn(n,a):!0}function hf(e,t,r){var s=!1,n=Sr,a=t.contextType;return typeof a=="object"&&a!==null?a=gt(a):(n=et(t)?Fr:ze.current,s=t.contextTypes,a=(s=s!=null)?bs(e,n):Sr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=oo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),t}function du(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&oo.enqueueReplaceState(t,t.state,null)}function Ua(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Hl(e);var a=t.contextType;typeof a=="object"&&a!==null?n.context=gt(a):(a=et(t)?Fr:ze.current,n.context=bs(e,a)),n.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ha(e,t,a,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&oo.enqueueReplaceState(n,n.state,null),Hi(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Es(e,t){try{var r="",s=t;do r+=hv(s),s=s.return;while(s);var n=r}catch(a){n=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:n,digest:null}}function Ko(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fg=typeof WeakMap=="function"?WeakMap:Map;function ff(e,t,r){r=Wt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Vi||(Vi=!0,Qa=s),za(e,t)},r}function pf(e,t,r){r=Wt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){za(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){za(e,t),typeof s!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function hu(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Fg;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=Zg.bind(null,e,t,r),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pu(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Wt(-1,1),t.tag=2,vr(r,t,1))),r.lanes|=1),e)}var Hg=Yt.ReactCurrentOwner,Qe=!1;function Ke(e,t,r,s){t.child=e===null?zh(t,null,r,s):ws(t,e.child,r,s)}function mu(e,t,r,s,n){r=r.render;var a=t.ref;return ms(t,n),s=Vl(e,t,r,s,a,n),r=Kl(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Xt(e,t,n)):(xe&&r&&Al(t),t.flags|=1,Ke(e,t,s,n),t.child)}function vu(e,t,r,s,n){if(e===null){var a=r.type;return typeof a=="function"&&!rc(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,mf(e,t,a,s,n)):(e=yi(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&n)){var h=a.memoizedProps;if(r=r.compare,r=r!==null?r:vn,r(h,s)&&e.ref===t.ref)return Xt(e,t,n)}return t.flags|=1,e=yr(a,s),e.ref=t.ref,e.return=t,t.child=e}function mf(e,t,r,s,n){if(e!==null){var a=e.memoizedProps;if(vn(a,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=a,(e.lanes&n)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Xt(e,t,n)}return $a(e,t,r,s,n)}function vf(e,t,r){var s=t.pendingProps,n=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(us,ot),ot|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(us,ot),ot|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:r,ve(us,ot),ot|=s}else a!==null?(s=a.baseLanes|r,t.memoizedState=null):s=r,ve(us,ot),ot|=s;return Ke(e,t,n,r),t.child}function gf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,r,s,n){var a=et(r)?Fr:ze.current;return a=bs(t,a),ms(t,n),r=Vl(e,t,r,s,a,n),s=Kl(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Xt(e,t,n)):(xe&&s&&Al(t),t.flags|=1,Ke(e,t,r,n),t.child)}function gu(e,t,r,s,n){if(et(r)){var a=!0;Oi(t)}else a=!1;if(ms(t,n),t.stateNode===null)vi(e,t),hf(t,r,s),Ua(t,r,s,n),s=!0;else if(e===null){var h=t.stateNode,i=t.memoizedProps;h.props=i;var l=h.context,p=r.contextType;typeof p=="object"&&p!==null?p=gt(p):(p=et(r)?Fr:ze.current,p=bs(t,p));var v=r.getDerivedStateFromProps,m=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function";m||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(i!==s||l!==p)&&du(t,h,s,p),or=!1;var g=t.memoizedState;h.state=g,Hi(t,s,h,n),l=t.memoizedState,i!==s||g!==l||Ze.current||or?(typeof v=="function"&&(Ha(t,r,v,s),l=t.memoizedState),(i=or||uu(t,r,i,s,g,l,p))?(m||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),h.props=s,h.state=l,h.context=p,s=i):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Wh(e,t),i=t.memoizedProps,p=t.type===t.elementType?i:St(t.type,i),h.props=p,m=t.pendingProps,g=h.context,l=r.contextType,typeof l=="object"&&l!==null?l=gt(l):(l=et(r)?Fr:ze.current,l=bs(t,l));var w=r.getDerivedStateFromProps;(v=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(i!==m||g!==l)&&du(t,h,s,l),or=!1,g=t.memoizedState,h.state=g,Hi(t,s,h,n);var S=t.memoizedState;i!==m||g!==S||Ze.current||or?(typeof w=="function"&&(Ha(t,r,w,s),S=t.memoizedState),(p=or||uu(t,r,p,s,g,S,l)||!1)?(v||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,S,l),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,S,l)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=l,s=p):(typeof h.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Wa(e,t,r,s,a,n)}function Wa(e,t,r,s,n,a){gf(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return n&&ru(t,r,!1),Xt(e,t,a);s=t.stateNode,Hg.current=t;var i=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=ws(t,e.child,null,a),t.child=ws(t,null,i,a)):Ke(e,t,i,a),t.memoizedState=s.state,n&&ru(t,r,!0),t.child}function _f(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),Ul(e,t.containerInfo)}function _u(e,t,r,s,n){return Ss(),Ol(n),t.flags|=256,Ke(e,t,r,s),t.child}var Va={dehydrated:null,treeContext:null,retryLane:0};function Ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function yf(e,t,r){var s=t.pendingProps,n=be.current,a=!1,h=(t.flags&128)!==0,i;if((i=h)||(i=e!==null&&e.memoizedState===null?!1:(n&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),ve(be,n&1),e===null)return Ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,a?(s=t.mode,a=t.child,h={mode:"hidden",children:h},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=h):a=co(h,s,0,null),e=Br(e,s,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ka(r),t.memoizedState=Va,e):Xl(t,h));if(n=e.memoizedState,n!==null&&(i=n.dehydrated,i!==null))return Ug(e,t,h,s,i,n,r);if(a){a=s.fallback,h=t.mode,n=e.child,i=n.sibling;var l={mode:"hidden",children:s.children};return!(h&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=yr(n,l),s.subtreeFlags=n.subtreeFlags&14680064),i!==null?a=yr(i,a):(a=Br(a,h,r,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,h=e.child.memoizedState,h=h===null?Ka(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},a.memoizedState=h,a.childLanes=e.childLanes&~r,t.memoizedState=Va,s}return a=e.child,e=a.sibling,s=yr(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Xl(e,t){return t=co({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qn(e,t,r,s){return s!==null&&Ol(s),ws(t,e.child,null,r),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ug(e,t,r,s,n,a,h){if(r)return t.flags&256?(t.flags&=-257,s=Ko(Error(G(422))),Qn(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,n=t.mode,s=co({mode:"visible",children:s.children},n,0,null),a=Br(a,n,h,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&ws(t,e.child,null,h),t.child.memoizedState=Ka(h),t.memoizedState=Va,a);if(!(t.mode&1))return Qn(e,t,h,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var i=s.dgst;return s=i,a=Error(G(419)),s=Ko(a,s,void 0),Qn(e,t,h,s)}if(i=(h&e.childLanes)!==0,Qe||i){if(s=Te,s!==null){switch(h&-h){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|h)?0:n,n!==0&&n!==a.retryLane&&(a.retryLane=n,Gt(e,n),kt(s,e,n,-1))}return tc(),s=Ko(Error(G(421))),Qn(e,t,h,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=e_.bind(null,e),n._reactRetry=t,null):(e=a.treeContext,at=mr(n.nextSibling),lt=t,xe=!0,Ct=null,e!==null&&(ht[ft++]=zt,ht[ft++]=$t,ht[ft++]=Hr,zt=e.id,$t=e.overflow,Hr=t),t=Xl(t,s.children),t.flags|=4096,t)}function yu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Fa(e.return,t,r)}function qo(e,t,r,s,n){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=r,a.tailMode=n)}function xf(e,t,r){var s=t.pendingProps,n=s.revealOrder,a=s.tail;if(Ke(e,t,s.children,r),s=be.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,r,t);else if(e.tag===19)yu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ve(be,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Ui(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),qo(t,!1,n,r,a);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Ui(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}qo(t,!0,r,null,a);break;case"together":qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zg(e,t,r){switch(t.tag){case 3:_f(t),Ss();break;case 5:Vh(t);break;case 1:et(t.type)&&Oi(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;ve(Ii,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(ve(be,be.current&1),t.flags|=128,null):r&t.child.childLanes?yf(e,t,r):(ve(be,be.current&1),e=Xt(e,t,r),e!==null?e.sibling:null);ve(be,be.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return xf(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ve(be,be.current),s)break;return null;case 22:case 23:return t.lanes=0,vf(e,t,r)}return Xt(e,t,r)}var bf,qa,Sf,wf;bf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qa=function(){};Sf=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,Pr(Mt.current);var a=null;switch(r){case"input":n=ma(e,n),s=ma(e,s),a=[];break;case"select":n=we({},n,{value:void 0}),s=we({},s,{value:void 0}),a=[];break;case"textarea":n=_a(e,n),s=_a(e,s),a=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ai)}xa(r,s);var h;r=null;for(p in n)if(!s.hasOwnProperty(p)&&n.hasOwnProperty(p)&&n[p]!=null)if(p==="style"){var i=n[p];for(h in i)i.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(cn.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in s){var l=s[p];if(i=n!=null?n[p]:void 0,s.hasOwnProperty(p)&&l!==i&&(l!=null||i!=null))if(p==="style")if(i){for(h in i)!i.hasOwnProperty(h)||l&&l.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in l)l.hasOwnProperty(h)&&i[h]!==l[h]&&(r||(r={}),r[h]=l[h])}else r||(a||(a=[]),a.push(p,r)),r=l;else p==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(a=a||[]).push(p,l)):p==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(p,""+l):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(cn.hasOwnProperty(p)?(l!=null&&p==="onScroll"&&_e("scroll",e),a||i===l||(a=[])):(a=a||[]).push(p,l))}r&&(a=a||[]).push("style",r);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};wf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Ws(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Fe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function $g(e,t,r){var s=t.pendingProps;switch(Pl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(t),null;case 1:return et(t.type)&&Pi(),Fe(t),null;case 3:return s=t.stateNode,Cs(),ye(Ze),ye(ze),$l(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Yn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ct!==null&&(tl(Ct),Ct=null))),qa(e,t),Fe(t),null;case 5:zl(t);var n=Pr(bn.current);if(r=t.type,e!==null&&t.stateNode!=null)Sf(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(G(166));return Fe(t),null}if(e=Pr(Mt.current),Yn(t)){s=t.stateNode,r=t.type;var a=t.memoizedProps;switch(s[At]=t,s[yn]=a,e=(t.mode&1)!==0,r){case"dialog":_e("cancel",s),_e("close",s);break;case"iframe":case"object":case"embed":_e("load",s);break;case"video":case"audio":for(n=0;n<Qs.length;n++)_e(Qs[n],s);break;case"source":_e("error",s);break;case"img":case"image":case"link":_e("error",s),_e("load",s);break;case"details":_e("toggle",s);break;case"input":Nc(s,a),_e("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},_e("invalid",s);break;case"textarea":Lc(s,a),_e("invalid",s)}xa(r,a),n=null;for(var h in a)if(a.hasOwnProperty(h)){var i=a[h];h==="children"?typeof i=="string"?s.textContent!==i&&(a.suppressHydrationWarning!==!0&&Xn(s.textContent,i,e),n=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&Xn(s.textContent,i,e),n=["children",""+i]):cn.hasOwnProperty(h)&&i!=null&&h==="onScroll"&&_e("scroll",s)}switch(r){case"input":Un(s),Rc(s,a,!0);break;case"textarea":Un(s),Dc(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Ai)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Yd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[At]=t,e[yn]=s,bf(e,t,!1,!1),t.stateNode=e;e:{switch(h=ba(r,s),r){case"dialog":_e("cancel",e),_e("close",e),n=s;break;case"iframe":case"object":case"embed":_e("load",e),n=s;break;case"video":case"audio":for(n=0;n<Qs.length;n++)_e(Qs[n],e);n=s;break;case"source":_e("error",e),n=s;break;case"img":case"image":case"link":_e("error",e),_e("load",e),n=s;break;case"details":_e("toggle",e),n=s;break;case"input":Nc(e,s),n=ma(e,s),_e("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=we({},s,{value:void 0}),_e("invalid",e);break;case"textarea":Lc(e,s),n=_a(e,s),_e("invalid",e);break;default:n=s}xa(r,n),i=n;for(a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="style"?Zd(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Jd(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&un(e,l):typeof l=="number"&&un(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cn.hasOwnProperty(a)?l!=null&&a==="onScroll"&&_e("scroll",e):l!=null&&yl(e,a,l,h))}switch(r){case"input":Un(e),Rc(e,s,!1);break;case"textarea":Un(e),Dc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+br(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?ds(e,!!s.multiple,a,!1):s.defaultValue!=null&&ds(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ai)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Fe(t),null;case 6:if(e&&t.stateNode!=null)wf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(G(166));if(r=Pr(bn.current),Pr(Mt.current),Yn(t)){if(s=t.stateNode,r=t.memoizedProps,s[At]=t,(a=s.nodeValue!==r)&&(e=lt,e!==null))switch(e.tag){case 3:Xn(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xn(s.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[At]=t,t.stateNode=s}return Fe(t),null;case 13:if(ye(be),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&at!==null&&t.mode&1&&!(t.flags&128))Hh(),Ss(),t.flags|=98560,a=!1;else if(a=Yn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[At]=t}else Ss(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Fe(t),a=!1}else Ct!==null&&(tl(Ct),Ct=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||be.current&1?Le===0&&(Le=3):tc())),t.updateQueue!==null&&(t.flags|=4),Fe(t),null);case 4:return Cs(),qa(e,t),e===null&&gn(t.stateNode.containerInfo),Fe(t),null;case 10:return Il(t.type._context),Fe(t),null;case 17:return et(t.type)&&Pi(),Fe(t),null;case 19:if(ye(be),a=t.memoizedState,a===null)return Fe(t),null;if(s=(t.flags&128)!==0,h=a.rendering,h===null)if(s)Ws(a,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Ui(e),h!==null){for(t.flags|=128,Ws(a,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)a=r,e=s,a.flags&=14680066,h=a.alternate,h===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,e=h.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(be,be.current&1|2),t.child}e=e.sibling}a.tail!==null&&ke()>ks&&(t.flags|=128,s=!0,Ws(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ui(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ws(a,!0),a.tail===null&&a.tailMode==="hidden"&&!h.alternate&&!xe)return Fe(t),null}else 2*ke()-a.renderingStartTime>ks&&r!==1073741824&&(t.flags|=128,s=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(h.sibling=t.child,t.child=h):(r=a.last,r!==null?r.sibling=h:t.child=h,a.last=h)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ke(),t.sibling=null,r=be.current,ve(be,s?r&1|2:r&1),t):(Fe(t),null);case 22:case 23:return ec(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?ot&1073741824&&(Fe(t),t.subtreeFlags&6&&(t.flags|=8192)):Fe(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function Wg(e,t){switch(Pl(t),t.tag){case 1:return et(t.type)&&Pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(),ye(Ze),ye(ze),$l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zl(t),null;case 13:if(ye(be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(be),null;case 4:return Cs(),null;case 10:return Il(t.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var Zn=!1,He=!1,Vg=typeof WeakSet=="function"?WeakSet:Set,te=null;function cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Ce(e,t,s)}else r.current=null}function Ga(e,t,r){try{r()}catch(s){Ce(e,t,s)}}var xu=!1;function Kg(e,t){if(Da=Li,e=jh(),Tl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var h=0,i=-1,l=-1,p=0,v=0,m=e,g=null;t:for(;;){for(var w;m!==r||n!==0&&m.nodeType!==3||(i=h+n),m!==a||s!==0&&m.nodeType!==3||(l=h+s),m.nodeType===3&&(h+=m.nodeValue.length),(w=m.firstChild)!==null;)g=m,m=w;for(;;){if(m===e)break t;if(g===r&&++p===n&&(i=h),g===a&&++v===s&&(l=h),(w=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=w}r=i===-1||l===-1?null:{start:i,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ta={focusedElem:e,selectionRange:r},Li=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var _=S.memoizedProps,c=S.memoizedState,d=t.stateNode,u=d.getSnapshotBeforeUpdate(t.elementType===t.type?_:St(t.type,_),c);d.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(y){Ce(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return S=xu,xu=!1,S}function on(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,a!==void 0&&Ga(t,r,a)}n=n.next}while(n!==s)}}function ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Xa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Cf(e){var t=e.alternate;t!==null&&(e.alternate=null,Cf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[yn],delete t[Oa],delete t[Ng],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ef(e){return e.tag===5||e.tag===3||e.tag===4}function bu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ef(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ya(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ai));else if(s!==4&&(e=e.child,e!==null))for(Ya(e,t,r),e=e.sibling;e!==null;)Ya(e,t,r),e=e.sibling}function Ja(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ja(e,t,r),e=e.sibling;e!==null;)Ja(e,t,r),e=e.sibling}var Pe=null,wt=!1;function tr(e,t,r){for(r=r.child;r!==null;)kf(e,t,r),r=r.sibling}function kf(e,t,r){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Zi,r)}catch{}switch(r.tag){case 5:He||cs(r,t);case 6:var s=Pe,n=wt;Pe=null,tr(e,t,r),Pe=s,wt=n,Pe!==null&&(wt?(e=Pe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Pe.removeChild(r.stateNode));break;case 18:Pe!==null&&(wt?(e=Pe,r=r.stateNode,e.nodeType===8?Ho(e.parentNode,r):e.nodeType===1&&Ho(e,r),pn(e)):Ho(Pe,r.stateNode));break;case 4:s=Pe,n=wt,Pe=r.stateNode.containerInfo,wt=!0,tr(e,t,r),Pe=s,wt=n;break;case 0:case 11:case 14:case 15:if(!He&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var a=n,h=a.destroy;a=a.tag,h!==void 0&&(a&2||a&4)&&Ga(r,t,h),n=n.next}while(n!==s)}tr(e,t,r);break;case 1:if(!He&&(cs(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(i){Ce(r,t,i)}tr(e,t,r);break;case 21:tr(e,t,r);break;case 22:r.mode&1?(He=(s=He)||r.memoizedState!==null,tr(e,t,r),He=s):tr(e,t,r);break;default:tr(e,t,r)}}function Su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Vg),t.forEach(function(s){var n=t_.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function xt(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var a=e,h=t,i=h;e:for(;i!==null;){switch(i.tag){case 5:Pe=i.stateNode,wt=!1;break e;case 3:Pe=i.stateNode.containerInfo,wt=!0;break e;case 4:Pe=i.stateNode.containerInfo,wt=!0;break e}i=i.return}if(Pe===null)throw Error(G(160));kf(a,h,n),Pe=null,wt=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(p){Ce(n,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jf(t,e),t=t.sibling}function jf(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),Lt(e),s&4){try{on(3,e,e.return),ao(3,e)}catch(_){Ce(e,e.return,_)}try{on(5,e,e.return)}catch(_){Ce(e,e.return,_)}}break;case 1:xt(t,e),Lt(e),s&512&&r!==null&&cs(r,r.return);break;case 5:if(xt(t,e),Lt(e),s&512&&r!==null&&cs(r,r.return),e.flags&32){var n=e.stateNode;try{un(n,"")}catch(_){Ce(e,e.return,_)}}if(s&4&&(n=e.stateNode,n!=null)){var a=e.memoizedProps,h=r!==null?r.memoizedProps:a,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Gd(n,a),ba(i,h);var p=ba(i,a);for(h=0;h<l.length;h+=2){var v=l[h],m=l[h+1];v==="style"?Zd(n,m):v==="dangerouslySetInnerHTML"?Jd(n,m):v==="children"?un(n,m):yl(n,v,m,p)}switch(i){case"input":va(n,a);break;case"textarea":Xd(n,a);break;case"select":var g=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!a.multiple;var w=a.value;w!=null?ds(n,!!a.multiple,w,!1):g!==!!a.multiple&&(a.defaultValue!=null?ds(n,!!a.multiple,a.defaultValue,!0):ds(n,!!a.multiple,a.multiple?[]:"",!1))}n[yn]=a}catch(_){Ce(e,e.return,_)}}break;case 6:if(xt(t,e),Lt(e),s&4){if(e.stateNode===null)throw Error(G(162));n=e.stateNode,a=e.memoizedProps;try{n.nodeValue=a}catch(_){Ce(e,e.return,_)}}break;case 3:if(xt(t,e),Lt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{pn(t.containerInfo)}catch(_){Ce(e,e.return,_)}break;case 4:xt(t,e),Lt(e);break;case 13:xt(t,e),Lt(e),n=e.child,n.flags&8192&&(a=n.memoizedState!==null,n.stateNode.isHidden=a,!a||n.alternate!==null&&n.alternate.memoizedState!==null||(Ql=ke())),s&4&&Su(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(He=(p=He)||v,xt(t,e),He=p):xt(t,e),Lt(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(te=e,v=e.child;v!==null;){for(m=te=v;te!==null;){switch(g=te,w=g.child,g.tag){case 0:case 11:case 14:case 15:on(4,g,g.return);break;case 1:cs(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(_){Ce(s,r,_)}}break;case 5:cs(g,g.return);break;case 22:if(g.memoizedState!==null){Cu(m);continue}}w!==null?(w.return=g,te=w):Cu(m)}v=v.sibling}e:for(v=null,m=e;;){if(m.tag===5){if(v===null){v=m;try{n=m.stateNode,p?(a=n.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=m.stateNode,l=m.memoizedProps.style,h=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=Qd("display",h))}catch(_){Ce(e,e.return,_)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(_){Ce(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xt(t,e),Lt(e),s&4&&Su(e);break;case 21:break;default:xt(t,e),Lt(e)}}function Lt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ef(r)){var s=r;break e}r=r.return}throw Error(G(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(un(n,""),s.flags&=-33);var a=bu(e);Ja(e,a,n);break;case 3:case 4:var h=s.stateNode.containerInfo,i=bu(e);Ya(e,i,h);break;default:throw Error(G(161))}}catch(l){Ce(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qg(e,t,r){te=e,Nf(e)}function Nf(e,t,r){for(var s=(e.mode&1)!==0;te!==null;){var n=te,a=n.child;if(n.tag===22&&s){var h=n.memoizedState!==null||Zn;if(!h){var i=n.alternate,l=i!==null&&i.memoizedState!==null||He;i=Zn;var p=He;if(Zn=h,(He=l)&&!p)for(te=n;te!==null;)h=te,l=h.child,h.tag===22&&h.memoizedState!==null?Eu(n):l!==null?(l.return=h,te=l):Eu(n);for(;a!==null;)te=a,Nf(a),a=a.sibling;te=n,Zn=i,He=p}wu(e)}else n.subtreeFlags&8772&&a!==null?(a.return=n,te=a):wu(e)}}function wu(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||ao(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!He)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:St(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&au(t,a,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}au(t,h,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&pn(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}He||t.flags&512&&Xa(t)}catch(g){Ce(t,t.return,g)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function Cu(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function Eu(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ao(4,t)}catch(l){Ce(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){Ce(t,n,l)}}var a=t.return;try{Xa(t)}catch(l){Ce(t,a,l)}break;case 5:var h=t.return;try{Xa(t)}catch(l){Ce(t,h,l)}}}catch(l){Ce(t,t.return,l)}if(t===e){te=null;break}var i=t.sibling;if(i!==null){i.return=t.return,te=i;break}te=t.return}}var Gg=Math.ceil,Wi=Yt.ReactCurrentDispatcher,Yl=Yt.ReactCurrentOwner,vt=Yt.ReactCurrentBatchConfig,de=0,Te=null,Ne=null,Oe=0,ot=0,us=Cr(0),Le=0,En=null,zr=0,lo=0,Jl=0,an=null,Je=null,Ql=0,ks=1/0,Ht=null,Vi=!1,Qa=null,gr=null,ei=!1,ur=null,Ki=0,ln=0,Za=null,gi=-1,_i=0;function qe(){return de&6?ke():gi!==-1?gi:gi=ke()}function _r(e){return e.mode&1?de&2&&Oe!==0?Oe&-Oe:Dg.transition!==null?(_i===0&&(_i=dh()),_i):(e=me,e!==0||(e=window.event,e=e===void 0?16:_h(e.type)),e):1}function kt(e,t,r,s){if(50<ln)throw ln=0,Za=null,Error(G(185));Dn(e,r,s),(!(de&2)||e!==Te)&&(e===Te&&(!(de&2)&&(lo|=r),Le===4&&lr(e,Oe)),tt(e,s),r===1&&de===0&&!(t.mode&1)&&(ks=ke()+500,no&&Er()))}function tt(e,t){var r=e.callbackNode;Dv(e,t);var s=Ri(e,e===Te?Oe:0);if(s===0)r!==null&&Pc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Pc(r),t===1)e.tag===0?Lg(ku.bind(null,e)):Bh(ku.bind(null,e)),kg(function(){!(de&6)&&Er()}),r=null;else{switch(hh(s)){case 1:r=Cl;break;case 4:r=ch;break;case 16:r=Ni;break;case 536870912:r=uh;break;default:r=Ni}r=Mf(r,Rf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Rf(e,t){if(gi=-1,_i=0,de&6)throw Error(G(327));var r=e.callbackNode;if(vs()&&e.callbackNode!==r)return null;var s=Ri(e,e===Te?Oe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=qi(e,s);else{t=s;var n=de;de|=2;var a=Df();(Te!==e||Oe!==t)&&(Ht=null,ks=ke()+500,Mr(e,t));do try{Jg();break}catch(i){Lf(e,i)}while(!0);Bl(),Wi.current=a,de=n,Ne!==null?t=0:(Te=null,Oe=0,t=Le)}if(t!==0){if(t===2&&(n=ka(e),n!==0&&(s=n,t=el(e,n))),t===1)throw r=En,Mr(e,0),lr(e,s),tt(e,ke()),r;if(t===6)lr(e,s);else{if(n=e.current.alternate,!(s&30)&&!Xg(n)&&(t=qi(e,s),t===2&&(a=ka(e),a!==0&&(s=a,t=el(e,a))),t===1))throw r=En,Mr(e,0),lr(e,s),tt(e,ke()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(G(345));case 2:Dr(e,Je,Ht);break;case 3:if(lr(e,s),(s&130023424)===s&&(t=Ql+500-ke(),10<t)){if(Ri(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){qe(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Pa(Dr.bind(null,e,Je,Ht),t);break}Dr(e,Je,Ht);break;case 4:if(lr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var h=31-Et(s);a=1<<h,h=t[h],h>n&&(n=h),s&=~a}if(s=n,s=ke()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Gg(s/1960))-s,10<s){e.timeoutHandle=Pa(Dr.bind(null,e,Je,Ht),s);break}Dr(e,Je,Ht);break;case 5:Dr(e,Je,Ht);break;default:throw Error(G(329))}}}return tt(e,ke()),e.callbackNode===r?Rf.bind(null,e):null}function el(e,t){var r=an;return e.current.memoizedState.isDehydrated&&(Mr(e,t).flags|=256),e=qi(e,t),e!==2&&(t=Je,Je=r,t!==null&&tl(t)),e}function tl(e){Je===null?Je=e:Je.push.apply(Je,e)}function Xg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],a=n.getSnapshot;n=n.value;try{if(!jt(a(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Jl,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Et(t),s=1<<r;e[r]=-1,t&=~s}}function ku(e){if(de&6)throw Error(G(327));vs();var t=Ri(e,0);if(!(t&1))return tt(e,ke()),null;var r=qi(e,t);if(e.tag!==0&&r===2){var s=ka(e);s!==0&&(t=s,r=el(e,s))}if(r===1)throw r=En,Mr(e,0),lr(e,t),tt(e,ke()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dr(e,Je,Ht),tt(e,ke()),null}function Zl(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(ks=ke()+500,no&&Er())}}function $r(e){ur!==null&&ur.tag===0&&!(de&6)&&vs();var t=de;de|=1;var r=vt.transition,s=me;try{if(vt.transition=null,me=1,e)return e()}finally{me=s,vt.transition=r,de=t,!(de&6)&&Er()}}function ec(){ot=us.current,ye(us)}function Mr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Eg(r)),Ne!==null)for(r=Ne.return;r!==null;){var s=r;switch(Pl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Pi();break;case 3:Cs(),ye(Ze),ye(ze),$l();break;case 5:zl(s);break;case 4:Cs();break;case 13:ye(be);break;case 19:ye(be);break;case 10:Il(s.type._context);break;case 22:case 23:ec()}r=r.return}if(Te=e,Ne=e=yr(e.current,null),Oe=ot=t,Le=0,En=null,Jl=lo=zr=0,Je=an=null,Ar!==null){for(t=0;t<Ar.length;t++)if(r=Ar[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,a=r.pending;if(a!==null){var h=a.next;a.next=n,s.next=h}r.pending=s}Ar=null}return e}function Lf(e,t){do{var r=Ne;try{if(Bl(),pi.current=$i,zi){for(var s=Se.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}zi=!1}if(Ur=0,De=Re=Se=null,nn=!1,Sn=0,Yl.current=null,r===null||r.return===null){Le=1,En=t,Ne=null;break}e:{var a=e,h=r.return,i=r,l=t;if(t=Oe,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=l,v=i,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var w=fu(h);if(w!==null){w.flags&=-257,pu(w,h,i,a,t),w.mode&1&&hu(a,p,t),t=w,l=p;var S=t.updateQueue;if(S===null){var _=new Set;_.add(l),t.updateQueue=_}else S.add(l);break e}else{if(!(t&1)){hu(a,p,t),tc();break e}l=Error(G(426))}}else if(xe&&i.mode&1){var c=fu(h);if(c!==null){!(c.flags&65536)&&(c.flags|=256),pu(c,h,i,a,t),Ol(Es(l,i));break e}}a=l=Es(l,i),Le!==4&&(Le=2),an===null?an=[a]:an.push(a),a=h;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var d=ff(a,l,t);ou(a,d);break e;case 1:i=l;var u=a.type,f=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gr===null||!gr.has(f)))){a.flags|=65536,t&=-t,a.lanes|=t;var y=pf(a,i,t);ou(a,y);break e}}a=a.return}while(a!==null)}Af(r)}catch(b){t=b,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function Df(){var e=Wi.current;return Wi.current=$i,e===null?$i:e}function tc(){(Le===0||Le===3||Le===2)&&(Le=4),Te===null||!(zr&268435455)&&!(lo&268435455)||lr(Te,Oe)}function qi(e,t){var r=de;de|=2;var s=Df();(Te!==e||Oe!==t)&&(Ht=null,Mr(e,t));do try{Yg();break}catch(n){Lf(e,n)}while(!0);if(Bl(),de=r,Wi.current=s,Ne!==null)throw Error(G(261));return Te=null,Oe=0,Le}function Yg(){for(;Ne!==null;)Tf(Ne)}function Jg(){for(;Ne!==null&&!Sv();)Tf(Ne)}function Tf(e){var t=Of(e.alternate,e,ot);e.memoizedProps=e.pendingProps,t===null?Af(e):Ne=t,Yl.current=null}function Af(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wg(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Ne=null;return}}else if(r=$g(r,t,ot),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Le===0&&(Le=5)}function Dr(e,t,r){var s=me,n=vt.transition;try{vt.transition=null,me=1,Qg(e,t,r,s)}finally{vt.transition=n,me=s}return null}function Qg(e,t,r,s){do vs();while(ur!==null);if(de&6)throw Error(G(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Tv(e,a),e===Te&&(Ne=Te=null,Oe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ei||(ei=!0,Mf(Ni,function(){return vs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=vt.transition,vt.transition=null;var h=me;me=1;var i=de;de|=4,Yl.current=null,Kg(e,r),jf(r,e),_g(Ta),Li=!!Da,Ta=Da=null,e.current=r,qg(r),wv(),de=i,me=h,vt.transition=a}else e.current=r;if(ei&&(ei=!1,ur=e,Ki=n),a=e.pendingLanes,a===0&&(gr=null),kv(r.stateNode),tt(e,ke()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Vi)throw Vi=!1,e=Qa,Qa=null,e;return Ki&1&&e.tag!==0&&vs(),a=e.pendingLanes,a&1?e===Za?ln++:(ln=0,Za=e):ln=0,Er(),null}function vs(){if(ur!==null){var e=hh(Ki),t=vt.transition,r=me;try{if(vt.transition=null,me=16>e?16:e,ur===null)var s=!1;else{if(e=ur,ur=null,Ki=0,de&6)throw Error(G(331));var n=de;for(de|=4,te=e.current;te!==null;){var a=te,h=a.child;if(te.flags&16){var i=a.deletions;if(i!==null){for(var l=0;l<i.length;l++){var p=i[l];for(te=p;te!==null;){var v=te;switch(v.tag){case 0:case 11:case 15:on(8,v,a)}var m=v.child;if(m!==null)m.return=v,te=m;else for(;te!==null;){v=te;var g=v.sibling,w=v.return;if(Cf(v),v===p){te=null;break}if(g!==null){g.return=w,te=g;break}te=w}}}var S=a.alternate;if(S!==null){var _=S.child;if(_!==null){S.child=null;do{var c=_.sibling;_.sibling=null,_=c}while(_!==null)}}te=a}}if(a.subtreeFlags&2064&&h!==null)h.return=a,te=h;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:on(9,a,a.return)}var d=a.sibling;if(d!==null){d.return=a.return,te=d;break e}te=a.return}}var u=e.current;for(te=u;te!==null;){h=te;var f=h.child;if(h.subtreeFlags&2064&&f!==null)f.return=h,te=f;else e:for(h=u;te!==null;){if(i=te,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:ao(9,i)}}catch(b){Ce(i,i.return,b)}if(i===h){te=null;break e}var y=i.sibling;if(y!==null){y.return=i.return,te=y;break e}te=i.return}}if(de=n,Er(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Zi,e)}catch{}s=!0}return s}finally{me=r,vt.transition=t}}return!1}function ju(e,t,r){t=Es(r,t),t=ff(e,t,1),e=vr(e,t,1),t=qe(),e!==null&&(Dn(e,1,t),tt(e,t))}function Ce(e,t,r){if(e.tag===3)ju(e,e,r);else for(;t!==null;){if(t.tag===3){ju(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(gr===null||!gr.has(s))){e=Es(r,e),e=pf(t,e,1),t=vr(t,e,1),e=qe(),t!==null&&(Dn(t,1,e),tt(t,e));break}}t=t.return}}function Zg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=qe(),e.pingedLanes|=e.suspendedLanes&r,Te===e&&(Oe&r)===r&&(Le===4||Le===3&&(Oe&130023424)===Oe&&500>ke()-Ql?Mr(e,0):Jl|=r),tt(e,t)}function Pf(e,t){t===0&&(e.mode&1?(t=Wn,Wn<<=1,!(Wn&130023424)&&(Wn=4194304)):t=1);var r=qe();e=Gt(e,t),e!==null&&(Dn(e,t,r),tt(e,r))}function e_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Pf(e,r)}function t_(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(G(314))}s!==null&&s.delete(t),Pf(e,r)}var Of;Of=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Qe=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Qe=!1,zg(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,xe&&t.flags&1048576&&Ih(t,Bi,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;vi(e,t),e=t.pendingProps;var n=bs(t,ze.current);ms(t,r),n=Vl(null,t,s,e,n,r);var a=Kl();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,et(s)?(a=!0,Oi(t)):a=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Hl(t),n.updater=oo,t.stateNode=n,n._reactInternals=t,Ua(t,s,e,r),t=Wa(null,t,s,!0,a,r)):(t.tag=0,xe&&a&&Al(t),Ke(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=s_(s),e=St(s,e),n){case 0:t=$a(null,t,s,e,r);break e;case 1:t=gu(null,t,s,e,r);break e;case 11:t=mu(null,t,s,e,r);break e;case 14:t=vu(null,t,s,St(s.type,e),r);break e}throw Error(G(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:St(s,n),$a(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:St(s,n),gu(e,t,s,n,r);case 3:e:{if(_f(t),e===null)throw Error(G(387));s=t.pendingProps,a=t.memoizedState,n=a.element,Wh(e,t),Hi(t,s,null,r);var h=t.memoizedState;if(s=h.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){n=Es(Error(G(423)),t),t=_u(e,t,s,r,n);break e}else if(s!==n){n=Es(Error(G(424)),t),t=_u(e,t,s,r,n);break e}else for(at=mr(t.stateNode.containerInfo.firstChild),lt=t,xe=!0,Ct=null,r=zh(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ss(),s===n){t=Xt(e,t,r);break e}Ke(e,t,s,r)}t=t.child}return t;case 5:return Vh(t),e===null&&Ia(t),s=t.type,n=t.pendingProps,a=e!==null?e.memoizedProps:null,h=n.children,Aa(s,n)?h=null:a!==null&&Aa(s,a)&&(t.flags|=32),gf(e,t),Ke(e,t,h,r),t.child;case 6:return e===null&&Ia(t),null;case 13:return yf(e,t,r);case 4:return Ul(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ws(t,null,s,r):Ke(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:St(s,n),mu(e,t,s,n,r);case 7:return Ke(e,t,t.pendingProps,r),t.child;case 8:return Ke(e,t,t.pendingProps.children,r),t.child;case 12:return Ke(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,a=t.memoizedProps,h=n.value,ve(Ii,s._currentValue),s._currentValue=h,a!==null)if(jt(a.value,h)){if(a.children===n.children&&!Ze.current){t=Xt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){h=a.child;for(var l=i.firstContext;l!==null;){if(l.context===s){if(a.tag===1){l=Wt(-1,r&-r),l.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?l.next=l:(l.next=v.next,v.next=l),p.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Fa(a.return,r,t),i.lanes|=r;break}l=l.next}}else if(a.tag===10)h=a.type===t.type?null:a.child;else if(a.tag===18){if(h=a.return,h===null)throw Error(G(341));h.lanes|=r,i=h.alternate,i!==null&&(i.lanes|=r),Fa(h,r,t),h=a.sibling}else h=a.child;if(h!==null)h.return=a;else for(h=a;h!==null;){if(h===t){h=null;break}if(a=h.sibling,a!==null){a.return=h.return,h=a;break}h=h.return}a=h}Ke(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,ms(t,r),n=gt(n),s=s(n),t.flags|=1,Ke(e,t,s,r),t.child;case 14:return s=t.type,n=St(s,t.pendingProps),n=St(s.type,n),vu(e,t,s,n,r);case 15:return mf(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:St(s,n),vi(e,t),t.tag=1,et(s)?(e=!0,Oi(t)):e=!1,ms(t,r),hf(t,s,n),Ua(t,s,n,r),Wa(null,t,s,!0,e,r);case 19:return xf(e,t,r);case 22:return vf(e,t,r)}throw Error(G(156,t.tag))};function Mf(e,t){return lh(e,t)}function r_(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,r,s){return new r_(e,t,r,s)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function s_(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===bl)return 11;if(e===Sl)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function yi(e,t,r,s,n,a){var h=2;if(s=e,typeof e=="function")rc(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case es:return Br(r.children,n,a,t);case xl:h=8,n|=8;break;case da:return e=pt(12,r,t,n|2),e.elementType=da,e.lanes=a,e;case ha:return e=pt(13,r,t,n),e.elementType=ha,e.lanes=a,e;case fa:return e=pt(19,r,t,n),e.elementType=fa,e.lanes=a,e;case Vd:return co(r,n,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $d:h=10;break e;case Wd:h=9;break e;case bl:h=11;break e;case Sl:h=14;break e;case ir:h=16,s=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=pt(h,r,t,n),t.elementType=e,t.type=s,t.lanes=a,t}function Br(e,t,r,s){return e=pt(7,e,s,t),e.lanes=r,e}function co(e,t,r,s){return e=pt(22,e,s,t),e.elementType=Vd,e.lanes=r,e.stateNode={isHidden:!1},e}function Go(e,t,r){return e=pt(6,e,null,t),e.lanes=r,e}function Xo(e,t,r){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n_(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ro(0),this.expirationTimes=Ro(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ro(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function sc(e,t,r,s,n,a,h,i,l){return e=new n_(e,t,r,i,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(a),e}function i_(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zr,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Bf(e){if(!e)return Sr;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(et(r))return Mh(e,r,t)}return t}function If(e,t,r,s,n,a,h,i,l){return e=sc(r,s,!0,e,n,a,h,i,l),e.context=Bf(null),r=e.current,s=qe(),n=_r(r),a=Wt(s,n),a.callback=t??null,vr(r,a,n),e.current.lanes=n,Dn(e,n,s),tt(e,s),e}function uo(e,t,r,s){var n=t.current,a=qe(),h=_r(n);return r=Bf(r),t.context===null?t.context=r:t.pendingContext=r,t=Wt(a,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=vr(n,t,h),e!==null&&(kt(e,n,h,a),fi(e,n,h)),h}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nc(e,t){Nu(e,t),(e=e.alternate)&&Nu(e,t)}function o_(){return null}var Ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function ic(e){this._internalRoot=e}ho.prototype.render=ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));uo(e,t,null,null)};ho.prototype.unmount=ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$r(function(){uo(null,e,null,null)}),t[qt]=null}};function ho(e){this._internalRoot=e}ho.prototype.unstable_scheduleHydration=function(e){if(e){var t=mh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ar.length&&t!==0&&t<ar[r].priority;r++);ar.splice(r,0,e),r===0&&gh(e)}};function oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ru(){}function a_(e,t,r,s,n){if(n){if(typeof s=="function"){var a=s;s=function(){var p=Gi(h);a.call(p)}}var h=If(t,s,e,0,null,!1,!1,"",Ru);return e._reactRootContainer=h,e[qt]=h.current,gn(e.nodeType===8?e.parentNode:e),$r(),h}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var i=s;s=function(){var p=Gi(l);i.call(p)}}var l=sc(e,0,!1,null,null,!1,!1,"",Ru);return e._reactRootContainer=l,e[qt]=l.current,gn(e.nodeType===8?e.parentNode:e),$r(function(){uo(t,l,r,s)}),l}function po(e,t,r,s,n){var a=r._reactRootContainer;if(a){var h=a;if(typeof n=="function"){var i=n;n=function(){var l=Gi(h);i.call(l)}}uo(t,h,e,n)}else h=a_(r,t,e,n,s);return Gi(h)}fh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Js(t.pendingLanes);r!==0&&(El(t,r|1),tt(t,ke()),!(de&6)&&(ks=ke()+500,Er()))}break;case 13:$r(function(){var s=Gt(e,1);if(s!==null){var n=qe();kt(s,e,1,n)}}),nc(e,1)}};kl=function(e){if(e.tag===13){var t=Gt(e,134217728);if(t!==null){var r=qe();kt(t,e,134217728,r)}nc(e,134217728)}};ph=function(e){if(e.tag===13){var t=_r(e),r=Gt(e,t);if(r!==null){var s=qe();kt(r,e,t,s)}nc(e,t)}};mh=function(){return me};vh=function(e,t){var r=me;try{return me=e,t()}finally{me=r}};wa=function(e,t,r){switch(t){case"input":if(va(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=so(s);if(!n)throw Error(G(90));qd(s),va(s,n)}}}break;case"textarea":Xd(e,r);break;case"select":t=r.value,t!=null&&ds(e,!!r.multiple,t,!1)}};rh=Zl;sh=$r;var l_={usingClientEntryPoint:!1,Events:[An,ns,so,eh,th,Zl]},Vs={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c_={bundleType:Vs.bundleType,version:Vs.version,rendererPackageName:Vs.rendererPackageName,rendererConfig:Vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:Vs.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ti=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ti.isDisabled&&ti.supportsFiber)try{Zi=ti.inject(c_),Ot=ti}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l_;ut.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(t))throw Error(G(200));return i_(e,t,null,r)};ut.createRoot=function(e,t){if(!oc(e))throw Error(G(299));var r=!1,s="",n=Ff;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=sc(e,1,!1,null,null,r,!1,s,n),e[qt]=t.current,gn(e.nodeType===8?e.parentNode:e),new ic(t)};ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};ut.flushSync=function(e){return $r(e)};ut.hydrate=function(e,t,r){if(!fo(t))throw Error(G(200));return po(null,e,t,!0,r)};ut.hydrateRoot=function(e,t,r){if(!oc(e))throw Error(G(405));var s=r!=null&&r.hydratedSources||null,n=!1,a="",h=Ff;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=If(t,null,e,1,r??null,n,!1,a,h),e[qt]=t.current,gn(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new ho(t)};ut.render=function(e,t,r){if(!fo(t))throw Error(G(200));return po(null,e,t,!1,r)};ut.unmountComponentAtNode=function(e){if(!fo(e))throw Error(G(40));return e._reactRootContainer?($r(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[qt]=null})}),!0):!1};ut.unstable_batchedUpdates=Zl;ut.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!fo(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return po(e,t,r,!1,s)};ut.version="18.3.1-next-f1338f8080-20240426";function Hf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hf)}catch(e){console.error(e)}}Hf(),Fd.exports=ut;var ac=Fd.exports;const u_=jd(ac);var Uf,Lu=ac;Uf=Lu.createRoot,Lu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kn(){return kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},kn.apply(this,arguments)}var dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dr||(dr={}));const Du="popstate";function d_(e){e===void 0&&(e={});function t(s,n){let{pathname:a,search:h,hash:i}=s.location;return rl("",{pathname:a,search:h,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:Xi(n)}return f_(t,r,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h_(){return Math.random().toString(36).substr(2,8)}function Tu(e,t){return{usr:e.state,key:e.key,idx:t}}function rl(e,t,r,s){return r===void 0&&(r=null),kn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ds(t):t,{state:r,key:t&&t.key||s||h_()})}function Xi(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ds(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function f_(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:a=!1}=s,h=n.history,i=dr.Pop,l=null,p=v();p==null&&(p=0,h.replaceState(kn({},h.state,{idx:p}),""));function v(){return(h.state||{idx:null}).idx}function m(){i=dr.Pop;let c=v(),d=c==null?null:c-p;p=c,l&&l({action:i,location:_.location,delta:d})}function g(c,d){i=dr.Push;let u=rl(_.location,c,d);p=v()+1;let f=Tu(u,p),y=_.createHref(u);try{h.pushState(f,"",y)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;n.location.assign(y)}a&&l&&l({action:i,location:_.location,delta:1})}function w(c,d){i=dr.Replace;let u=rl(_.location,c,d);p=v();let f=Tu(u,p),y=_.createHref(u);h.replaceState(f,"",y),a&&l&&l({action:i,location:_.location,delta:0})}function S(c){let d=n.location.origin!=="null"?n.location.origin:n.location.href,u=typeof c=="string"?c:Xi(c);return u=u.replace(/ $/,"%20"),je(d,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,d)}let _={get action(){return i},get location(){return e(n,h)},listen(c){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Du,m),l=c,()=>{n.removeEventListener(Du,m),l=null}},createHref(c){return t(n,c)},createURL:S,encodeLocation(c){let d=S(c);return{pathname:d.pathname,search:d.search,hash:d.hash}},push:g,replace:w,go(c){return h.go(c)}};return _}var Au;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Au||(Au={}));function p_(e,t,r){return r===void 0&&(r="/"),m_(e,t,r)}function m_(e,t,r,s){let n=typeof t=="string"?Ds(t):t,a=cc(n.pathname||"/",r);if(a==null)return null;let h=zf(e);v_(h);let i=null;for(let l=0;i==null&&l<h.length;++l){let p=N_(a);i=E_(h[l],p)}return i}function zf(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(a,h,i)=>{let l={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:h,route:a};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let p=xr([s,l.relativePath]),v=r.concat(l);a.children&&a.children.length>0&&(je(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),zf(a.children,t,v,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:w_(p,a.index),routesMeta:v})};return e.forEach((a,h)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))n(a,h);else for(let l of $f(a.path))n(a,h,l)}),t}function $f(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return n?[a,""]:[a];let h=$f(s.join("/")),i=[];return i.push(...h.map(l=>l===""?a:[a,l].join("/"))),n&&i.push(...h),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function v_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:C_(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const g_=/^:[\w-]+$/,__=3,y_=2,x_=1,b_=10,S_=-2,Pu=e=>e==="*";function w_(e,t){let r=e.split("/"),s=r.length;return r.some(Pu)&&(s+=S_),t&&(s+=y_),r.filter(n=>!Pu(n)).reduce((n,a)=>n+(g_.test(a)?__:a===""?x_:b_),s)}function C_(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function E_(e,t,r){let{routesMeta:s}=e,n={},a="/",h=[];for(let i=0;i<s.length;++i){let l=s[i],p=i===s.length-1,v=a==="/"?t:t.slice(a.length)||"/",m=k_({path:l.relativePath,caseSensitive:l.caseSensitive,end:p},v),g=l.route;if(!m)return null;Object.assign(n,m.params),h.push({params:n,pathname:xr([a,m.pathname]),pathnameBase:A_(xr([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=xr([a,m.pathnameBase]))}return h}function k_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=j_(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let a=n[0],h=a.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:s.reduce((p,v,m)=>{let{paramName:g,isOptional:w}=v;if(g==="*"){let _=i[m]||"";h=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const S=i[m];return w&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:h,pattern:e}}function j_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,i,l)=>(s.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function N_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const R_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L_=e=>R_.test(e);function D_(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?Ds(e):e,a;if(r)if(L_(r))a=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+r))}r.startsWith("/")?a=Ou(r.substring(1),"/"):a=Ou(r,t)}else a=t;return{pathname:a,search:P_(s),hash:O_(n)}}function Ou(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Yo(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uc(e,t){let r=T_(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function dc(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=Ds(e):(n=kn({},e),je(!n.pathname||!n.pathname.includes("?"),Yo("?","pathname","search",n)),je(!n.pathname||!n.pathname.includes("#"),Yo("#","pathname","hash",n)),je(!n.search||!n.search.includes("#"),Yo("#","search","hash",n)));let a=e===""||n.pathname==="",h=a?"/":n.pathname,i;if(h==null)i=r;else{let m=t.length-1;if(!s&&h.startsWith("..")){let g=h.split("/");for(;g[0]==="..";)g.shift(),m-=1;n.pathname=g.join("/")}i=m>=0?t[m]:"/"}let l=D_(n,i),p=h&&h!=="/"&&h.endsWith("/"),v=(a||h===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(p||v)&&(l.pathname+="/"),l}const xr=e=>e.join("/").replace(/\/\/+/g,"/"),A_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,O_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Wf=["post","put","patch","delete"];new Set(Wf);const B_=["get",...Wf];new Set(B_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jn(){return jn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jn.apply(this,arguments)}const hc=A.createContext(null),I_=A.createContext(null),kr=A.createContext(null),mo=A.createContext(null),jr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Vf=A.createContext(null);function F_(e,t){let{relative:r}=t===void 0?{}:t;Ts()||je(!1);let{basename:s,navigator:n}=A.useContext(kr),{hash:a,pathname:h,search:i}=qf(e,{relative:r}),l=h;return s!=="/"&&(l=h==="/"?s:xr([s,h])),n.createHref({pathname:l,search:i,hash:a})}function Ts(){return A.useContext(mo)!=null}function As(){return Ts()||je(!1),A.useContext(mo).location}function Kf(e){A.useContext(kr).static||A.useLayoutEffect(e)}function Ps(){let{isDataRoute:e}=A.useContext(jr);return e?Q_():H_()}function H_(){Ts()||je(!1);let e=A.useContext(hc),{basename:t,future:r,navigator:s}=A.useContext(kr),{matches:n}=A.useContext(jr),{pathname:a}=As(),h=JSON.stringify(uc(n,r.v7_relativeSplatPath)),i=A.useRef(!1);return Kf(()=>{i.current=!0}),A.useCallback(function(p,v){if(v===void 0&&(v={}),!i.current)return;if(typeof p=="number"){s.go(p);return}let m=dc(p,JSON.parse(h),a,v.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:xr([t,m.pathname])),(v.replace?s.replace:s.push)(m,v.state,v)},[t,s,h,a,e])}function qf(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=A.useContext(kr),{matches:n}=A.useContext(jr),{pathname:a}=As(),h=JSON.stringify(uc(n,s.v7_relativeSplatPath));return A.useMemo(()=>dc(e,JSON.parse(h),a,r==="path"),[e,h,a,r])}function U_(e,t){return z_(e,t)}function z_(e,t,r,s){Ts()||je(!1);let{navigator:n}=A.useContext(kr),{matches:a}=A.useContext(jr),h=a[a.length-1],i=h?h.params:{};h&&h.pathname;let l=h?h.pathnameBase:"/";h&&h.route;let p=As(),v;if(t){var m;let c=typeof t=="string"?Ds(t):t;l==="/"||(m=c.pathname)!=null&&m.startsWith(l)||je(!1),v=c}else v=p;let g=v.pathname||"/",w=g;if(l!=="/"){let c=l.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(c.length).join("/")}let S=p_(e,{pathname:w}),_=q_(S&&S.map(c=>Object.assign({},c,{params:Object.assign({},i,c.params),pathname:xr([l,n.encodeLocation?n.encodeLocation(c.pathname).pathname:c.pathname]),pathnameBase:c.pathnameBase==="/"?l:xr([l,n.encodeLocation?n.encodeLocation(c.pathnameBase).pathname:c.pathnameBase])})),a,r,s);return t&&_?A.createElement(mo.Provider,{value:{location:jn({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:dr.Pop}},_):_}function $_(){let e=J_(),t=M_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),r?A.createElement("pre",{style:n},r):null,null)}const W_=A.createElement($_,null);class V_ extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?A.createElement(jr.Provider,{value:this.props.routeContext},A.createElement(Vf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K_(e){let{routeContext:t,match:r,children:s}=e,n=A.useContext(hc);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(jr.Provider,{value:t},s)}function q_(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,i=(n=r)==null?void 0:n.errors;if(i!=null){let v=h.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);v>=0||je(!1),h=h.slice(0,Math.min(h.length,v+1))}let l=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let v=0;v<h.length;v++){let m=h[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=v),m.route.id){let{loaderData:g,errors:w}=r,S=m.route.loader&&g[m.route.id]===void 0&&(!w||w[m.route.id]===void 0);if(m.route.lazy||S){l=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((v,m,g)=>{let w,S=!1,_=null,c=null;r&&(w=i&&m.route.id?i[m.route.id]:void 0,_=m.route.errorElement||W_,l&&(p<0&&g===0?(Z_("route-fallback"),S=!0,c=null):p===g&&(S=!0,c=m.route.hydrateFallbackElement||null)));let d=t.concat(h.slice(0,g+1)),u=()=>{let f;return w?f=_:S?f=c:m.route.Component?f=A.createElement(m.route.Component,null):m.route.element?f=m.route.element:f=v,A.createElement(K_,{match:m,routeContext:{outlet:v,matches:d,isDataRoute:r!=null},children:f})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?A.createElement(V_,{location:r.location,revalidation:r.revalidation,component:_,error:w,children:u(),routeContext:{outlet:null,matches:d,isDataRoute:!0}}):u()},null)}var Gf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Gf||{}),Xf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xf||{});function G_(e){let t=A.useContext(hc);return t||je(!1),t}function X_(e){let t=A.useContext(I_);return t||je(!1),t}function Y_(e){let t=A.useContext(jr);return t||je(!1),t}function Yf(e){let t=Y_(),r=t.matches[t.matches.length-1];return r.route.id||je(!1),r.route.id}function J_(){var e;let t=A.useContext(Vf),r=X_(),s=Yf();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function Q_(){let{router:e}=G_(Gf.UseNavigateStable),t=Yf(Xf.UseNavigateStable),r=A.useRef(!1);return Kf(()=>{r.current=!0}),A.useCallback(function(n,a){a===void 0&&(a={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,jn({fromRouteId:t},a)))},[e,t])}const Mu={};function Z_(e,t,r){Mu[e]||(Mu[e]=!0)}function e0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function it(e){let{to:t,replace:r,state:s,relative:n}=e;Ts()||je(!1);let{future:a,static:h}=A.useContext(kr),{matches:i}=A.useContext(jr),{pathname:l}=As(),p=Ps(),v=dc(t,uc(i,a.v7_relativeSplatPath),l,n==="path"),m=JSON.stringify(v);return A.useEffect(()=>p(JSON.parse(m),{replace:r,state:s,relative:n}),[p,m,n,r,s]),null}function Ve(e){je(!1)}function t0(e){let{basename:t="/",children:r=null,location:s,navigationType:n=dr.Pop,navigator:a,static:h=!1,future:i}=e;Ts()&&je(!1);let l=t.replace(/^\/*/,"/"),p=A.useMemo(()=>({basename:l,navigator:a,static:h,future:jn({v7_relativeSplatPath:!1},i)}),[l,i,a,h]);typeof s=="string"&&(s=Ds(s));let{pathname:v="/",search:m="",hash:g="",state:w=null,key:S="default"}=s,_=A.useMemo(()=>{let c=cc(v,l);return c==null?null:{location:{pathname:c,search:m,hash:g,state:w,key:S},navigationType:n}},[l,v,m,g,w,S,n]);return _==null?null:A.createElement(kr.Provider,{value:p},A.createElement(mo.Provider,{children:r,value:_}))}function r0(e){let{children:t,location:r}=e;return U_(sl(t),r)}new Promise(()=>{});function sl(e,t){t===void 0&&(t=[]);let r=[];return A.Children.forEach(e,(s,n)=>{if(!A.isValidElement(s))return;let a=[...t,n];if(s.type===A.Fragment){r.push.apply(r,sl(s.props.children,a));return}s.type!==Ve&&je(!1),!s.props.index||!s.props.children||je(!1);let h={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sl(s.props.children,a)),r.push(h)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nl.apply(this,arguments)}function s0(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,a;for(a=0;a<s.length;a++)n=s[a],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function n0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function i0(e,t){return e.button===0&&(!t||t==="_self")&&!n0(e)}const o0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],a0="6";try{window.__reactRouterVersion=a0}catch{}const l0="startTransition",Bu=vl[l0];function c0(e){let{basename:t,children:r,future:s,window:n}=e,a=A.useRef();a.current==null&&(a.current=d_({window:n,v5Compat:!0}));let h=a.current,[i,l]=A.useState({action:h.action,location:h.location}),{v7_startTransition:p}=s||{},v=A.useCallback(m=>{p&&Bu?Bu(()=>l(m)):l(m)},[l,p]);return A.useLayoutEffect(()=>h.listen(v),[h,v]),A.useEffect(()=>e0(s),[s]),A.createElement(t0,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:h,future:s})}const u0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Iu=A.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:a,replace:h,state:i,target:l,to:p,preventScrollReset:v,viewTransition:m}=t,g=s0(t,o0),{basename:w}=A.useContext(kr),S,_=!1;if(typeof p=="string"&&d0.test(p)&&(S=p,u0))try{let f=new URL(window.location.href),y=p.startsWith("//")?new URL(f.protocol+p):new URL(p),b=cc(y.pathname,w);y.origin===f.origin&&b!=null?p=b+y.search+y.hash:_=!0}catch{}let c=F_(p,{relative:n}),d=h0(p,{replace:h,state:i,target:l,preventScrollReset:v,relative:n,viewTransition:m});function u(f){s&&s(f),f.defaultPrevented||d(f)}return A.createElement("a",nl({},g,{href:S||c,onClick:_||a?s:u,ref:r,target:l}))});var Fu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fu||(Fu={}));var Hu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hu||(Hu={}));function h0(e,t){let{target:r,replace:s,state:n,preventScrollReset:a,relative:h,viewTransition:i}=t===void 0?{}:t,l=Ps(),p=As(),v=qf(e,{relative:h});return A.useCallback(m=>{if(i0(m,r)){m.preventDefault();let g=s!==void 0?s:Xi(p)===Xi(v);l(e,{replace:g,state:n,preventScrollReset:a,relative:h,viewTransition:i})}},[p,l,v,s,n,r,e,a,h,i])}function Jf({size:e=40}){return o.jsxs("svg",{width:e,height:e,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"bgGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),o.jsx("stop",{offset:"100%",stopColor:"#1D4ED8"})]}),o.jsxs("linearGradient",{id:"serverGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:"#60A5FA"}),o.jsx("stop",{offset:"100%",stopColor:"#3B82F6"})]}),o.jsxs("linearGradient",{id:"infinityGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[o.jsx("stop",{offset:"0%",stopColor:"#10B981"}),o.jsx("stop",{offset:"50%",stopColor:"#34D399"}),o.jsx("stop",{offset:"100%",stopColor:"#10B981"})]})]}),o.jsx("rect",{x:"4",y:"4",width:"56",height:"56",rx:"12",fill:"url(#bgGradient)"}),o.jsxs("g",{children:[o.jsx("rect",{x:"10",y:"16",width:"18",height:"8",rx:"2",fill:"white",fillOpacity:"0.9"}),o.jsx("circle",{cx:"14",cy:"20",r:"1.5",fill:"#10B981"}),o.jsx("rect",{x:"18",y:"19",width:"6",height:"2",rx:"1",fill:"#CBD5E1"}),o.jsx("rect",{x:"10",y:"28",width:"18",height:"8",rx:"2",fill:"white",fillOpacity:"0.9"}),o.jsx("circle",{cx:"14",cy:"32",r:"1.5",fill:"#10B981"}),o.jsx("rect",{x:"18",y:"31",width:"6",height:"2",rx:"1",fill:"#CBD5E1"}),o.jsx("rect",{x:"10",y:"40",width:"18",height:"8",rx:"2",fill:"white",fillOpacity:"0.9"}),o.jsx("circle",{cx:"14",cy:"44",r:"1.5",fill:"#F59E0B"}),o.jsx("rect",{x:"18",y:"43",width:"6",height:"2",rx:"1",fill:"#CBD5E1"})]}),o.jsxs("g",{transform:"translate(34, 24)",children:[o.jsx("path",{d:"M8 8C8 4 11 2 14 2C17 2 20 4 20 8C20 12 17 14 14 14C11 14 8 12 8 8Z",stroke:"url(#infinityGradient)",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M20 8C20 12 17 14 14 14",stroke:"#34D399",strokeWidth:"2.5",fill:"none",strokeLinecap:"round"}),o.jsx("path",{d:"M18 5L20.5 8L18 11",stroke:"#34D399",strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),o.jsx("path",{d:"M28 32 L34 32",stroke:"white",strokeWidth:"2",strokeDasharray:"2 2",strokeOpacity:"0.7"}),o.jsxs("g",{transform:"translate(44, 44)",children:[o.jsx("circle",{cx:"6",cy:"6",r:"4",stroke:"white",strokeWidth:"1.5",fill:"none",strokeOpacity:"0.8"}),o.jsx("circle",{cx:"6",cy:"6",r:"1.5",fill:"white",fillOpacity:"0.8"}),o.jsx("path",{d:"M6 1V0M6 12V11M1 6H0M12 6H11M2.5 2.5L1.8 1.8M10.2 10.2L9.5 9.5M2.5 9.5L1.8 10.2M10.2 1.8L9.5 2.5",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeOpacity:"0.8"})]})]})}function Qf(e,t){return function(){return e.apply(t,arguments)}}const{toString:f0}=Object.prototype,{getPrototypeOf:fc}=Object,{iterator:vo,toStringTag:Zf}=Symbol,go=(e=>t=>{const r=f0.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Nt=e=>(e=e.toLowerCase(),t=>go(t)===e),_o=e=>t=>typeof t===e,{isArray:Os}=Array,js=_o("undefined");function On(e){return e!==null&&!js(e)&&e.constructor!==null&&!js(e.constructor)&&rt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ep=Nt("ArrayBuffer");function p0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&ep(e.buffer),t}const m0=_o("string"),rt=_o("function"),tp=_o("number"),Mn=e=>e!==null&&typeof e=="object",v0=e=>e===!0||e===!1,xi=e=>{if(go(e)!=="object")return!1;const t=fc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Zf in e)&&!(vo in e)},g0=e=>{if(!Mn(e)||On(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},_0=Nt("Date"),y0=Nt("File"),x0=Nt("Blob"),b0=Nt("FileList"),S0=e=>Mn(e)&&rt(e.pipe),w0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rt(e.append)&&((t=go(e))==="formdata"||t==="object"&&rt(e.toString)&&e.toString()==="[object FormData]"))},C0=Nt("URLSearchParams"),[E0,k0,j0,N0]=["ReadableStream","Request","Response","Headers"].map(Nt),R0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bn(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Os(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(On(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),h=a.length;let i;for(s=0;s<h;s++)i=a[s],t.call(null,e[i],i,e)}}function rp(e,t){if(On(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Or=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,sp=e=>!js(e)&&e!==Or;function il(){const{caseless:e,skipUndefined:t}=sp(this)&&this||{},r={},s=(n,a)=>{const h=e&&rp(r,a)||a;xi(r[h])&&xi(n)?r[h]=il(r[h],n):xi(n)?r[h]=il({},n):Os(n)?r[h]=n.slice():(!t||!js(n))&&(r[h]=n)};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Bn(arguments[n],s);return r}const L0=(e,t,r,{allOwnKeys:s}={})=>(Bn(t,(n,a)=>{r&&rt(n)?e[a]=Qf(n,r):e[a]=n},{allOwnKeys:s}),e),D0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),T0=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},A0=(e,t,r,s)=>{let n,a,h;const i={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)h=n[a],(!s||s(h,e,t))&&!i[h]&&(t[h]=e[h],i[h]=!0);e=r!==!1&&fc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},P0=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},O0=e=>{if(!e)return null;if(Os(e))return e;let t=e.length;if(!tp(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},M0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&fc(Uint8Array)),B0=(e,t)=>{const s=(e&&e[vo]).call(e);let n;for(;(n=s.next())&&!n.done;){const a=n.value;t.call(e,a[0],a[1])}},I0=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},F0=Nt("HTMLFormElement"),H0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),Uu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),U0=Nt("RegExp"),np=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Bn(r,(n,a)=>{let h;(h=t(n,a,e))!==!1&&(s[a]=h||n)}),Object.defineProperties(e,s)},z0=e=>{np(e,(t,r)=>{if(rt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(rt(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$0=(e,t)=>{const r={},s=n=>{n.forEach(a=>{r[a]=!0})};return Os(e)?s(e):s(String(e).split(t)),r},W0=()=>{},V0=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function K0(e){return!!(e&&rt(e.append)&&e[Zf]==="FormData"&&e[vo])}const q0=e=>{const t=new Array(10),r=(s,n)=>{if(Mn(s)){if(t.indexOf(s)>=0)return;if(On(s))return s;if(!("toJSON"in s)){t[n]=s;const a=Os(s)?[]:{};return Bn(s,(h,i)=>{const l=r(h,n+1);!js(l)&&(a[i]=l)}),t[n]=void 0,a}}return s};return r(e,0)},G0=Nt("AsyncFunction"),X0=e=>e&&(Mn(e)||rt(e))&&rt(e.then)&&rt(e.catch),ip=((e,t)=>e?setImmediate:t?((r,s)=>(Or.addEventListener("message",({source:n,data:a})=>{n===Or&&a===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Or.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",rt(Or.postMessage)),Y0=typeof queueMicrotask<"u"?queueMicrotask.bind(Or):typeof process<"u"&&process.nextTick||ip,J0=e=>e!=null&&rt(e[vo]),$={isArray:Os,isArrayBuffer:ep,isBuffer:On,isFormData:w0,isArrayBufferView:p0,isString:m0,isNumber:tp,isBoolean:v0,isObject:Mn,isPlainObject:xi,isEmptyObject:g0,isReadableStream:E0,isRequest:k0,isResponse:j0,isHeaders:N0,isUndefined:js,isDate:_0,isFile:y0,isBlob:x0,isRegExp:U0,isFunction:rt,isStream:S0,isURLSearchParams:C0,isTypedArray:M0,isFileList:b0,forEach:Bn,merge:il,extend:L0,trim:R0,stripBOM:D0,inherits:T0,toFlatObject:A0,kindOf:go,kindOfTest:Nt,endsWith:P0,toArray:O0,forEachEntry:B0,matchAll:I0,isHTMLForm:F0,hasOwnProperty:Uu,hasOwnProp:Uu,reduceDescriptors:np,freezeMethods:z0,toObjectSet:$0,toCamelCase:H0,noop:W0,toFiniteNumber:V0,findKey:rp,global:Or,isContextDefined:sp,isSpecCompliantForm:K0,toJSONObject:q0,isAsyncFn:G0,isThenable:X0,setImmediate:ip,asap:Y0,isIterable:J0};function oe(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}$.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$.toJSONObject(this.config),code:this.code,status:this.status}}});const op=oe.prototype,ap={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ap[e]={value:e}});Object.defineProperties(oe,ap);Object.defineProperty(op,"isAxiosError",{value:!0});oe.from=(e,t,r,s,n,a)=>{const h=Object.create(op);$.toFlatObject(e,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const i=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return oe.call(h,i,l,r,s,n),e&&h.cause==null&&Object.defineProperty(h,"cause",{value:e,configurable:!0}),h.name=e&&e.name||"Error",a&&Object.assign(h,a),h};const Q0=null;function ol(e){return $.isPlainObject(e)||$.isArray(e)}function lp(e){return $.endsWith(e,"[]")?e.slice(0,-2):e}function zu(e,t,r){return e?e.concat(t).map(function(n,a){return n=lp(n),!r&&a?"["+n+"]":n}).join(r?".":""):t}function Z0(e){return $.isArray(e)&&!e.some(ol)}const ey=$.toFlatObject($,{},null,function(t){return/^is[A-Z]/.test(t)});function yo(e,t,r){if(!$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=$.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,c){return!$.isUndefined(c[_])});const s=r.metaTokens,n=r.visitor||v,a=r.dots,h=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&$.isSpecCompliantForm(t);if(!$.isFunction(n))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if($.isDate(S))return S.toISOString();if($.isBoolean(S))return S.toString();if(!l&&$.isBlob(S))throw new oe("Blob is not supported. Use a Buffer instead.");return $.isArrayBuffer(S)||$.isTypedArray(S)?l&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,_,c){let d=S;if(S&&!c&&typeof S=="object"){if($.endsWith(_,"{}"))_=s?_:_.slice(0,-2),S=JSON.stringify(S);else if($.isArray(S)&&Z0(S)||($.isFileList(S)||$.endsWith(_,"[]"))&&(d=$.toArray(S)))return _=lp(_),d.forEach(function(f,y){!($.isUndefined(f)||f===null)&&t.append(h===!0?zu([_],y,a):h===null?_:_+"[]",p(f))}),!1}return ol(S)?!0:(t.append(zu(c,_,a),p(S)),!1)}const m=[],g=Object.assign(ey,{defaultVisitor:v,convertValue:p,isVisitable:ol});function w(S,_){if(!$.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+_.join("."));m.push(S),$.forEach(S,function(d,u){(!($.isUndefined(d)||d===null)&&n.call(t,d,$.isString(u)?u.trim():u,_,g))===!0&&w(d,_?_.concat(u):[u])}),m.pop()}}if(!$.isObject(e))throw new TypeError("data must be an object");return w(e),t}function $u(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function pc(e,t){this._pairs=[],e&&yo(e,this,t)}const cp=pc.prototype;cp.append=function(t,r){this._pairs.push([t,r])};cp.toString=function(t){const r=t?function(s){return t.call(this,s,$u)}:$u;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function ty(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function up(e,t,r){if(!t)return e;const s=r&&r.encode||ty;$.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let a;if(n?a=n(t,r):a=$.isURLSearchParams(t)?t.toString():new pc(t,r).toString(s),a){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Wu{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){$.forEach(this.handlers,function(s){s!==null&&t(s)})}}const dp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ry=typeof URLSearchParams<"u"?URLSearchParams:pc,sy=typeof FormData<"u"?FormData:null,ny=typeof Blob<"u"?Blob:null,iy={isBrowser:!0,classes:{URLSearchParams:ry,FormData:sy,Blob:ny},protocols:["http","https","file","blob","url","data"]},mc=typeof window<"u"&&typeof document<"u",al=typeof navigator=="object"&&navigator||void 0,oy=mc&&(!al||["ReactNative","NativeScript","NS"].indexOf(al.product)<0),ay=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ly=mc&&window.location.href||"http://localhost",cy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mc,hasStandardBrowserEnv:oy,hasStandardBrowserWebWorkerEnv:ay,navigator:al,origin:ly},Symbol.toStringTag,{value:"Module"})),Ue={...cy,...iy};function uy(e,t){return yo(e,new Ue.classes.URLSearchParams,{visitor:function(r,s,n,a){return Ue.isNode&&$.isBuffer(r)?(this.append(s,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function dy(e){return $.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function hy(e){const t={},r=Object.keys(e);let s;const n=r.length;let a;for(s=0;s<n;s++)a=r[s],t[a]=e[a];return t}function hp(e){function t(r,s,n,a){let h=r[a++];if(h==="__proto__")return!0;const i=Number.isFinite(+h),l=a>=r.length;return h=!h&&$.isArray(n)?n.length:h,l?($.hasOwnProp(n,h)?n[h]=[n[h],s]:n[h]=s,!i):((!n[h]||!$.isObject(n[h]))&&(n[h]=[]),t(r,s,n[h],a)&&$.isArray(n[h])&&(n[h]=hy(n[h])),!i)}if($.isFormData(e)&&$.isFunction(e.entries)){const r={};return $.forEachEntry(e,(s,n)=>{t(dy(s),n,r,0)}),r}return null}function fy(e,t,r){if($.isString(e))try{return(t||JSON.parse)(e),$.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const In={transitional:dp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,a=$.isObject(t);if(a&&$.isHTMLForm(t)&&(t=new FormData(t)),$.isFormData(t))return n?JSON.stringify(hp(t)):t;if($.isArrayBuffer(t)||$.isBuffer(t)||$.isStream(t)||$.isFile(t)||$.isBlob(t)||$.isReadableStream(t))return t;if($.isArrayBufferView(t))return t.buffer;if($.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return uy(t,this.formSerializer).toString();if((i=$.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yo(i?{"files[]":t}:t,l&&new l,this.formSerializer)}}return a||n?(r.setContentType("application/json",!1),fy(t)):t}],transformResponse:[function(t){const r=this.transitional||In.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if($.isResponse(t)||$.isReadableStream(t))return t;if(t&&$.isString(t)&&(s&&!this.responseType||n)){const h=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(i){if(h)throw i.name==="SyntaxError"?oe.from(i,oe.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ue.classes.FormData,Blob:Ue.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$.forEach(["delete","get","head","post","put","patch"],e=>{In.headers[e]={}});const py=$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),my=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(h){n=h.indexOf(":"),r=h.substring(0,n).trim().toLowerCase(),s=h.substring(n+1).trim(),!(!r||t[r]&&py[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Vu=Symbol("internals");function Ks(e){return e&&String(e).trim().toLowerCase()}function bi(e){return e===!1||e==null?e:$.isArray(e)?e.map(bi):String(e)}function vy(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const gy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Jo(e,t,r,s,n){if($.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!$.isString(t)){if($.isString(s))return t.indexOf(s)!==-1;if($.isRegExp(s))return s.test(t)}}function _y(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function yy(e,t){const r=$.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,a,h){return this[s].call(this,t,n,a,h)},configurable:!0})})}let st=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function a(i,l,p){const v=Ks(l);if(!v)throw new Error("header name must be a non-empty string");const m=$.findKey(n,v);(!m||n[m]===void 0||p===!0||p===void 0&&n[m]!==!1)&&(n[m||l]=bi(i))}const h=(i,l)=>$.forEach(i,(p,v)=>a(p,v,l));if($.isPlainObject(t)||t instanceof this.constructor)h(t,r);else if($.isString(t)&&(t=t.trim())&&!gy(t))h(my(t),r);else if($.isObject(t)&&$.isIterable(t)){let i={},l,p;for(const v of t){if(!$.isArray(v))throw TypeError("Object iterator must return a key-value pair");i[p=v[0]]=(l=i[p])?$.isArray(l)?[...l,v[1]]:[l,v[1]]:v[1]}h(i,r)}else t!=null&&a(r,t,s);return this}get(t,r){if(t=Ks(t),t){const s=$.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return vy(n);if($.isFunction(r))return r.call(this,n,s);if($.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Ks(t),t){const s=$.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Jo(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function a(h){if(h=Ks(h),h){const i=$.findKey(s,h);i&&(!r||Jo(s,s[i],i,r))&&(delete s[i],n=!0)}}return $.isArray(t)?t.forEach(a):a(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const a=r[s];(!t||Jo(this,this[a],a,t,!0))&&(delete this[a],n=!0)}return n}normalize(t){const r=this,s={};return $.forEach(this,(n,a)=>{const h=$.findKey(s,a);if(h){r[h]=bi(n),delete r[a];return}const i=t?_y(a):String(a).trim();i!==a&&delete r[a],r[i]=bi(n),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return $.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&$.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Vu]=this[Vu]={accessors:{}}).accessors,n=this.prototype;function a(h){const i=Ks(h);s[i]||(yy(n,h),s[i]=!0)}return $.isArray(t)?t.forEach(a):a(t),this}};st.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$.reduceDescriptors(st.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});$.freezeMethods(st);function Qo(e,t){const r=this||In,s=t||r,n=st.from(s.headers);let a=s.data;return $.forEach(e,function(i){a=i.call(r,a,n.normalize(),t?t.status:void 0)}),n.normalize(),a}function fp(e){return!!(e&&e.__CANCEL__)}function Ms(e,t,r){oe.call(this,e??"canceled",oe.ERR_CANCELED,t,r),this.name="CanceledError"}$.inherits(Ms,oe,{__CANCEL__:!0});function pp(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new oe("Request failed with status code "+r.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function by(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,a=0,h;return t=t!==void 0?t:1e3,function(l){const p=Date.now(),v=s[a];h||(h=p),r[n]=l,s[n]=p;let m=a,g=0;for(;m!==n;)g+=r[m++],m=m%e;if(n=(n+1)%e,n===a&&(a=(a+1)%e),p-h<t)return;const w=v&&p-v;return w?Math.round(g*1e3/w):void 0}}function Sy(e,t){let r=0,s=1e3/t,n,a;const h=(p,v=Date.now())=>{r=v,n=null,a&&(clearTimeout(a),a=null),e(...p)};return[(...p)=>{const v=Date.now(),m=v-r;m>=s?h(p,v):(n=p,a||(a=setTimeout(()=>{a=null,h(n)},s-m)))},()=>n&&h(n)]}const Yi=(e,t,r=3)=>{let s=0;const n=by(50,250);return Sy(a=>{const h=a.loaded,i=a.lengthComputable?a.total:void 0,l=h-s,p=n(l),v=h<=i;s=h;const m={loaded:h,total:i,progress:i?h/i:void 0,bytes:l,rate:p||void 0,estimated:p&&i&&v?(i-h)/p:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},r)},Ku=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},qu=e=>(...t)=>$.asap(()=>e(...t)),wy=Ue.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ue.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ue.origin),Ue.navigator&&/(msie|trident)/i.test(Ue.navigator.userAgent)):()=>!0,Cy=Ue.hasStandardBrowserEnv?{write(e,t,r,s,n,a,h){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];$.isNumber(r)&&i.push(`expires=${new Date(r).toUTCString()}`),$.isString(s)&&i.push(`path=${s}`),$.isString(n)&&i.push(`domain=${n}`),a===!0&&i.push("secure"),$.isString(h)&&i.push(`SameSite=${h}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ey(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ky(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function mp(e,t,r){let s=!Ey(t);return e&&(s||r==!1)?ky(e,t):t}const Gu=e=>e instanceof st?{...e}:e;function Wr(e,t){t=t||{};const r={};function s(p,v,m,g){return $.isPlainObject(p)&&$.isPlainObject(v)?$.merge.call({caseless:g},p,v):$.isPlainObject(v)?$.merge({},v):$.isArray(v)?v.slice():v}function n(p,v,m,g){if($.isUndefined(v)){if(!$.isUndefined(p))return s(void 0,p,m,g)}else return s(p,v,m,g)}function a(p,v){if(!$.isUndefined(v))return s(void 0,v)}function h(p,v){if($.isUndefined(v)){if(!$.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function i(p,v,m){if(m in t)return s(p,v);if(m in e)return s(void 0,p)}const l={url:a,method:a,data:a,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:i,headers:(p,v,m)=>n(Gu(p),Gu(v),m,!0)};return $.forEach(Object.keys({...e,...t}),function(v){const m=l[v]||n,g=m(e[v],t[v],v);$.isUndefined(g)&&m!==i||(r[v]=g)}),r}const vp=e=>{const t=Wr({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:a,headers:h,auth:i}=t;if(t.headers=h=st.from(h),t.url=up(mp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&h.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),$.isFormData(r)){if(Ue.hasStandardBrowserEnv||Ue.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if($.isFunction(r.getHeaders)){const l=r.getHeaders(),p=["content-type","content-length"];Object.entries(l).forEach(([v,m])=>{p.includes(v.toLowerCase())&&h.set(v,m)})}}if(Ue.hasStandardBrowserEnv&&(s&&$.isFunction(s)&&(s=s(t)),s||s!==!1&&wy(t.url))){const l=n&&a&&Cy.read(a);l&&h.set(n,l)}return t},jy=typeof XMLHttpRequest<"u",Ny=jy&&function(e){return new Promise(function(r,s){const n=vp(e);let a=n.data;const h=st.from(n.headers).normalize();let{responseType:i,onUploadProgress:l,onDownloadProgress:p}=n,v,m,g,w,S;function _(){w&&w(),S&&S(),n.cancelToken&&n.cancelToken.unsubscribe(v),n.signal&&n.signal.removeEventListener("abort",v)}let c=new XMLHttpRequest;c.open(n.method.toUpperCase(),n.url,!0),c.timeout=n.timeout;function d(){if(!c)return;const f=st.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!i||i==="text"||i==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};pp(function(C){r(C),_()},function(C){s(C),_()},b),c=null}"onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(s(new oe("Request aborted",oe.ECONNABORTED,e,c)),c=null)},c.onerror=function(y){const b=y&&y.message?y.message:"Network Error",E=new oe(b,oe.ERR_NETWORK,e,c);E.event=y||null,s(E),c=null},c.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const b=n.transitional||dp;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),s(new oe(y,b.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,e,c)),c=null},a===void 0&&h.setContentType(null),"setRequestHeader"in c&&$.forEach(h.toJSON(),function(y,b){c.setRequestHeader(b,y)}),$.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),i&&i!=="json"&&(c.responseType=n.responseType),p&&([g,S]=Yi(p,!0),c.addEventListener("progress",g)),l&&c.upload&&([m,w]=Yi(l),c.upload.addEventListener("progress",m),c.upload.addEventListener("loadend",w)),(n.cancelToken||n.signal)&&(v=f=>{c&&(s(!f||f.type?new Ms(null,e,c):f),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(v),n.signal&&(n.signal.aborted?v():n.signal.addEventListener("abort",v)));const u=xy(n.url);if(u&&Ue.protocols.indexOf(u)===-1){s(new oe("Unsupported protocol "+u+":",oe.ERR_BAD_REQUEST,e));return}c.send(a||null)})},Ry=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const a=function(p){if(!n){n=!0,i();const v=p instanceof Error?p:this.reason;s.abort(v instanceof oe?v:new Ms(v instanceof Error?v.message:v))}};let h=t&&setTimeout(()=>{h=null,a(new oe(`timeout ${t} of ms exceeded`,oe.ETIMEDOUT))},t);const i=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(a):p.removeEventListener("abort",a)}),e=null)};e.forEach(p=>p.addEventListener("abort",a));const{signal:l}=s;return l.unsubscribe=()=>$.asap(i),l}},Ly=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},Dy=async function*(e,t){for await(const r of Ty(e))yield*Ly(r,t)},Ty=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Xu=(e,t,r,s)=>{const n=Dy(e,t);let a=0,h,i=l=>{h||(h=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:p,value:v}=await n.next();if(p){i(),l.close();return}let m=v.byteLength;if(r){let g=a+=m;r(g)}l.enqueue(new Uint8Array(v))}catch(p){throw i(p),p}},cancel(l){return i(l),n.return()}},{highWaterMark:2})},Yu=64*1024,{isFunction:ri}=$,Ay=(({Request:e,Response:t})=>({Request:e,Response:t}))($.global),{ReadableStream:Ju,TextEncoder:Qu}=$.global,Zu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Py=e=>{e=$.merge.call({skipUndefined:!0},Ay,e);const{fetch:t,Request:r,Response:s}=e,n=t?ri(t):typeof fetch=="function",a=ri(r),h=ri(s);if(!n)return!1;const i=n&&ri(Ju),l=n&&(typeof Qu=="function"?(S=>_=>S.encode(_))(new Qu):async S=>new Uint8Array(await new r(S).arrayBuffer())),p=a&&i&&Zu(()=>{let S=!1;const _=new r(Ue.origin,{body:new Ju,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!_}),v=h&&i&&Zu(()=>$.isReadableStream(new s("").body)),m={stream:v&&(S=>S.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(_,c)=>{let d=_&&_[S];if(d)return d.call(_);throw new oe(`Response type '${S}' is not supported`,oe.ERR_NOT_SUPPORT,c)})});const g=async S=>{if(S==null)return 0;if($.isBlob(S))return S.size;if($.isSpecCompliantForm(S))return(await new r(Ue.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if($.isArrayBufferView(S)||$.isArrayBuffer(S))return S.byteLength;if($.isURLSearchParams(S)&&(S=S+""),$.isString(S))return(await l(S)).byteLength},w=async(S,_)=>{const c=$.toFiniteNumber(S.getContentLength());return c??g(_)};return async S=>{let{url:_,method:c,data:d,signal:u,cancelToken:f,timeout:y,onDownloadProgress:b,onUploadProgress:E,responseType:C,headers:x,withCredentials:k="same-origin",fetchOptions:N}=vp(S),j=t||fetch;C=C?(C+"").toLowerCase():"text";let D=Ry([u,f&&f.toAbortSignal()],y),O=null;const I=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let U;try{if(E&&p&&c!=="get"&&c!=="head"&&(U=await w(x,d))!==0){let M=new r(_,{method:"POST",body:d,duplex:"half"}),W;if($.isFormData(d)&&(W=M.headers.get("content-type"))&&x.setContentType(W),M.body){const[X,Q]=Ku(U,Yi(qu(E)));d=Xu(M.body,Yu,X,Q)}}$.isString(k)||(k=k?"include":"omit");const K=a&&"credentials"in r.prototype,q={...N,signal:D,method:c.toUpperCase(),headers:x.normalize().toJSON(),body:d,duplex:"half",credentials:K?k:void 0};O=a&&new r(_,q);let R=await(a?j(O,N):j(_,q));const P=v&&(C==="stream"||C==="response");if(v&&(b||P&&I)){const M={};["status","statusText","headers"].forEach(Z=>{M[Z]=R[Z]});const W=$.toFiniteNumber(R.headers.get("content-length")),[X,Q]=b&&Ku(W,Yi(qu(b),!0))||[];R=new s(Xu(R.body,Yu,X,()=>{Q&&Q(),I&&I()}),M)}C=C||"text";let T=await m[$.findKey(m,C)||"text"](R,S);return!P&&I&&I(),await new Promise((M,W)=>{pp(M,W,{data:T,headers:st.from(R.headers),status:R.status,statusText:R.statusText,config:S,request:O})})}catch(K){throw I&&I(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new oe("Network Error",oe.ERR_NETWORK,S,O),{cause:K.cause||K}):oe.from(K,K&&K.code,S,O)}}},Oy=new Map,gp=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:n}=t,a=[s,n,r];let h=a.length,i=h,l,p,v=Oy;for(;i--;)l=a[i],p=v.get(l),p===void 0&&v.set(l,p=i?new Map:Py(t)),v=p;return p};gp();const vc={http:Q0,xhr:Ny,fetch:{get:gp}};$.forEach(vc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ed=e=>`- ${e}`,My=e=>$.isFunction(e)||e===null||e===!1;function By(e,t){e=$.isArray(e)?e:[e];const{length:r}=e;let s,n;const a={};for(let h=0;h<r;h++){s=e[h];let i;if(n=s,!My(s)&&(n=vc[(i=String(s)).toLowerCase()],n===void 0))throw new oe(`Unknown adapter '${i}'`);if(n&&($.isFunction(n)||(n=n.get(t))))break;a[i||"#"+h]=n}if(!n){const h=Object.entries(a).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build"));let i=r?h.length>1?`since :
`+h.map(ed).join(`
`):" "+ed(h[0]):"as no adapter specified";throw new oe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n}const _p={getAdapter:By,adapters:vc};function Zo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ms(null,e)}function td(e){return Zo(e),e.headers=st.from(e.headers),e.data=Qo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_p.getAdapter(e.adapter||In.adapter,e)(e).then(function(s){return Zo(e),s.data=Qo.call(e,e.transformResponse,s),s.headers=st.from(s.headers),s},function(s){return fp(s)||(Zo(e),s&&s.response&&(s.response.data=Qo.call(e,e.transformResponse,s.response),s.response.headers=st.from(s.response.headers))),Promise.reject(s)})}const yp="1.13.2",xo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{xo[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const rd={};xo.transitional=function(t,r,s){function n(a,h){return"[Axios v"+yp+"] Transitional option '"+a+"'"+h+(s?". "+s:"")}return(a,h,i)=>{if(t===!1)throw new oe(n(h," has been removed"+(r?" in "+r:"")),oe.ERR_DEPRECATED);return r&&!rd[h]&&(rd[h]=!0,console.warn(n(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,h,i):!0}};xo.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Iy(e,t,r){if(typeof e!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const a=s[n],h=t[a];if(h){const i=e[a],l=i===void 0||h(i,a,e);if(l!==!0)throw new oe("option "+a+" must be "+l,oe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new oe("Unknown option "+a,oe.ERR_BAD_OPTION)}}const Si={assertOptions:Iy,validators:xo},Dt=Si.validators;let Ir=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wu,response:new Wu}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const a=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Wr(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:a}=r;s!==void 0&&Si.assertOptions(s,{silentJSONParsing:Dt.transitional(Dt.boolean),forcedJSONParsing:Dt.transitional(Dt.boolean),clarifyTimeoutError:Dt.transitional(Dt.boolean)},!1),n!=null&&($.isFunction(n)?r.paramsSerializer={serialize:n}:Si.assertOptions(n,{encode:Dt.function,serialize:Dt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Si.assertOptions(r,{baseUrl:Dt.spelling("baseURL"),withXsrfToken:Dt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=a&&$.merge(a.common,a[r.method]);a&&$.forEach(["delete","get","head","post","put","patch","common"],S=>{delete a[S]}),r.headers=st.concat(h,a);const i=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(l=l&&_.synchronous,i.unshift(_.fulfilled,_.rejected))});const p=[];this.interceptors.response.forEach(function(_){p.push(_.fulfilled,_.rejected)});let v,m=0,g;if(!l){const S=[td.bind(this),void 0];for(S.unshift(...i),S.push(...p),g=S.length,v=Promise.resolve(r);m<g;)v=v.then(S[m++],S[m++]);return v}g=i.length;let w=r;for(;m<g;){const S=i[m++],_=i[m++];try{w=S(w)}catch(c){_.call(this,c);break}}try{v=td.call(this,w)}catch(S){return Promise.reject(S)}for(m=0,g=p.length;m<g;)v=v.then(p[m++],p[m++]);return v}getUri(t){t=Wr(this.defaults,t);const r=mp(t.baseURL,t.url,t.allowAbsoluteUrls);return up(r,t.params,t.paramsSerializer)}};$.forEach(["delete","get","head","options"],function(t){Ir.prototype[t]=function(r,s){return this.request(Wr(s||{},{method:t,url:r,data:(s||{}).data}))}});$.forEach(["post","put","patch"],function(t){function r(s){return function(a,h,i){return this.request(Wr(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:h}))}}Ir.prototype[t]=r(),Ir.prototype[t+"Form"]=r(!0)});let Fy=class xp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const s=this;this.promise.then(n=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](n);s._listeners=null}),this.promise.then=n=>{let a;const h=new Promise(i=>{s.subscribe(i),a=i}).then(n);return h.cancel=function(){s.unsubscribe(a)},h},t(function(a,h,i){s.reason||(s.reason=new Ms(a,h,i),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new xp(function(n){t=n}),cancel:t}}};function Hy(e){return function(r){return e.apply(null,r)}}function Uy(e){return $.isObject(e)&&e.isAxiosError===!0}const ll={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ll).forEach(([e,t])=>{ll[t]=e});function bp(e){const t=new Ir(e),r=Qf(Ir.prototype.request,t);return $.extend(r,Ir.prototype,t,{allOwnKeys:!0}),$.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return bp(Wr(e,n))},r}const Ee=bp(In);Ee.Axios=Ir;Ee.CanceledError=Ms;Ee.CancelToken=Fy;Ee.isCancel=fp;Ee.VERSION=yp;Ee.toFormData=yo;Ee.AxiosError=oe;Ee.Cancel=Ee.CanceledError;Ee.all=function(t){return Promise.all(t)};Ee.spread=Hy;Ee.isAxiosError=Uy;Ee.mergeConfig=Wr;Ee.AxiosHeaders=st;Ee.formToJSON=e=>hp($.isHTMLForm(e)?new FormData(e):e);Ee.getAdapter=_p.getAdapter;Ee.HttpStatusCode=ll;Ee.default=Ee;const{Axios:sw,AxiosError:nw,CanceledError:iw,isCancel:ow,CancelToken:aw,VERSION:lw,all:cw,Cancel:uw,isAxiosError:dw,spread:hw,toFormData:fw,AxiosHeaders:pw,HttpStatusCode:mw,formToJSON:vw,getAdapter:gw,mergeConfig:_w}=Ee,ee=Ee.create({baseURL:"/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});ee.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ee.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;const s=localStorage.getItem("refresh_token");if(s)try{const n=await Ee.post("/api/v1/auth/refresh",{refresh_token:s}),{access_token:a,refresh_token:h}=n.data;return localStorage.setItem("access_token",a),localStorage.setItem("refresh_token",h),t.headers.Authorization=`Bearer ${a}`,ee(t)}catch(n){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(n)}else localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}return Promise.reject(e)});function bt({children:e}){const t=As(),r=Ps(),[s,n]=A.useState(null);A.useEffect(()=>{a()},[]);const a=async()=>{try{const m=await ee.get("/auth/me");n(m.data)}catch(m){console.error(":",m)}},h=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),r("/login")},i=()=>s?s.username:"",l=()=>i().charAt(0).toUpperCase(),p=()=>{if(!s)return"from-gray-400 to-gray-500";const m=["from-blue-500 to-indigo-500","from-purple-500 to-pink-500","from-green-500 to-teal-500","from-orange-500 to-red-500","from-cyan-500 to-blue-500","from-pink-500 to-rose-500"],g=s.username.charCodeAt(0)%m.length;return m[g]},v=[{title:"",items:[{path:"/dashboard",label:"",icon:""}]},{title:"",items:[{path:"/projects",label:"",icon:""},{path:"/assets",label:"",icon:""},{path:"/asset-credentials",label:"",icon:""},{path:"/webssh",label:"WebSSH",icon:""}]},{title:"",items:[{path:"/users",label:"",icon:""},{path:"/teams",label:"",icon:""},{path:"/roles",label:"",icon:""},{path:"/scoped-permissions",label:"",icon:""}]},{title:"",items:[{path:"/api-tokens",label:"API Token",icon:""},{path:"/audit",label:"",icon:""}]}];return o.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsxs("aside",{className:"w-64 bg-white shadow-sm border-r flex flex-col flex-shrink-0",children:[o.jsxs(Iu,{to:"/dashboard",className:"h-16 flex items-center px-4 border-b flex-shrink-0 gap-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[o.jsx(Jf,{size:40}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-lg font-bold text-gray-900 leading-tight",children:"KMDB"}),o.jsx("span",{className:"text-xs text-gray-500 leading-tight",children:"DevOps "})]})]}),o.jsx("nav",{className:"flex-1 overflow-y-auto py-4 min-w-0",children:o.jsx("div",{className:"space-y-4 px-3",children:v.map(m=>o.jsxs("div",{children:[o.jsx("div",{className:"px-4 py-1 text-xs font-semibold text-gray-400 uppercase tracking-wider",children:m.title}),o.jsx("div",{className:"space-y-1 mt-1",children:m.items.map(g=>o.jsxs(Iu,{to:g.path,className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap w-full ${t.pathname===g.path?"bg-blue-50 text-blue-700 border-l-4 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[o.jsx("span",{className:"mr-3 text-lg flex-shrink-0",children:g.icon}),o.jsx("span",{className:"truncate",children:g.label})]},g.path))})]},m.title))})}),o.jsxs("div",{className:"border-t p-3",children:[o.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 mb-2",children:[o.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${p()} flex items-center justify-center text-white font-bold text-sm shadow-sm flex-shrink-0`,children:s!=null&&s.avatar?o.jsx("img",{src:s.avatar,alt:"avatar",className:"w-full h-full rounded-full object-cover"}):l()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-sm text-gray-900 truncate",children:i()}),(s==null?void 0:s.email)&&o.jsx("div",{className:"text-xs text-gray-500 truncate",children:s.email})]})]}),o.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[o.jsx("span",{className:"mr-2",children:""}),""]})]})]}),o.jsxs("main",{className:"flex-1 overflow-y-auto flex flex-col",children:[o.jsx("div",{className:"p-6 flex-1",children:e}),o.jsxs("footer",{className:"py-4 px-6 text-center text-sm text-gray-400 border-t bg-white",children:[o.jsx("span",{children:""}),o.jsx("span",{className:"mx-2",children:""}),o.jsx("span",{children:"KMDB DevOps "})]})]})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Wy=(e,t)=>{const r=A.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:h,className:i="",children:l,...p},v)=>A.createElement("svg",{ref:v,...zy,width:n,height:n,stroke:s,strokeWidth:h?Number(a)*24/Number(n):a,className:["lucide",`lucide-${$y(e)}`,i].join(" "),...p},[...t.map(([m,g])=>A.createElement(m,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Wy("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Sp(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=Sp(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function Ky(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=Sp(e))&&(s&&(s+=" "),s+=t);return s}const gc="-",qy=e=>{const t=Xy(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:h=>{const i=h.split(gc);return i[0]===""&&i.length!==1&&i.shift(),wp(i,t)||Gy(h)},getConflictingClassGroupIds:(h,i)=>{const l=r[h]||[];return i&&s[h]?[...l,...s[h]]:l}}},wp=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?wp(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const a=e.join(gc);return(h=t.validators.find(({validator:i})=>i(a)))==null?void 0:h.classGroupId},sd=/^\[(.+)\]$/,Gy=e=>{if(sd.test(e)){const t=sd.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Xy=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return Jy(Object.entries(e.classGroups),r).forEach(([a,h])=>{cl(h,s,a,t)}),s},cl=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const a=n===""?t:nd(t,n);a.classGroupId=r;return}if(typeof n=="function"){if(Yy(n)){cl(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,h])=>{cl(h,nd(t,a),r,s)})})},nd=(e,t)=>{let r=e;return t.split(gc).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Yy=e=>e.isThemeGetter,Jy=(e,t)=>t?e.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([h,i])=>[t+h,i])):a);return[r,n]}):e,Qy=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(a,h)=>{r.set(a,h),t++,t>e&&(t=0,s=r,r=new Map)};return{get(a){let h=r.get(a);if(h!==void 0)return h;if((h=s.get(a))!==void 0)return n(a,h),h},set(a,h){r.has(a)?r.set(a,h):n(a,h)}}},Cp="!",Zy=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,n=t[0],a=t.length,h=i=>{const l=[];let p=0,v=0,m;for(let c=0;c<i.length;c++){let d=i[c];if(p===0){if(d===n&&(s||i.slice(c,c+a)===t)){l.push(i.slice(v,c)),v=c+a;continue}if(d==="/"){m=c;continue}}d==="["?p++:d==="]"&&p--}const g=l.length===0?i:i.substring(v),w=g.startsWith(Cp),S=w?g.substring(1):g,_=m&&m>v?m-v:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:_}};return r?i=>r({className:i,parseClassName:h}):h},ex=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},tx=e=>({cache:Qy(e.cacheSize),parseClassName:Zy(e),...qy(e)}),rx=/\s+/,sx=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=t,a=[],h=e.trim().split(rx);let i="";for(let l=h.length-1;l>=0;l-=1){const p=h[l],{modifiers:v,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:w}=r(p);let S=!!w,_=s(S?g.substring(0,w):g);if(!_){if(!S){i=p+(i.length>0?" "+i:i);continue}if(_=s(g),!_){i=p+(i.length>0?" "+i:i);continue}S=!1}const c=ex(v).join(":"),d=m?c+Cp:c,u=d+_;if(a.includes(u))continue;a.push(u);const f=n(_,S);for(let y=0;y<f.length;++y){const b=f[y];a.push(d+b)}i=p+(i.length>0?" "+i:i)}return i};function nx(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ep(t))&&(s&&(s+=" "),s+=r);return s}const Ep=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=Ep(e[s]))&&(r&&(r+=" "),r+=t);return r};function ix(e,...t){let r,s,n,a=h;function h(l){const p=t.reduce((v,m)=>m(v),e());return r=tx(p),s=r.cache.get,n=r.cache.set,a=i,i(l)}function i(l){const p=s(l);if(p)return p;const v=sx(l,r);return n(l,v),v}return function(){return a(nx.apply(null,arguments))}}const ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},kp=/^\[(?:([a-z-]+):)?(.+)\]$/i,ox=/^\d+\/\d+$/,ax=new Set(["px","full","screen"]),lx=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cx=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ux=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dx=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hx=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ft=e=>gs(e)||ax.has(e)||ox.test(e),rr=e=>Bs(e,"length",xx),gs=e=>!!e&&!Number.isNaN(Number(e)),ea=e=>Bs(e,"number",gs),qs=e=>!!e&&Number.isInteger(Number(e)),fx=e=>e.endsWith("%")&&gs(e.slice(0,-1)),ae=e=>kp.test(e),sr=e=>lx.test(e),px=new Set(["length","size","percentage"]),mx=e=>Bs(e,px,jp),vx=e=>Bs(e,"position",jp),gx=new Set(["image","url"]),_x=e=>Bs(e,gx,Sx),yx=e=>Bs(e,"",bx),Gs=()=>!0,Bs=(e,t,r)=>{const s=kp.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},xx=e=>cx.test(e)&&!ux.test(e),jp=()=>!1,bx=e=>dx.test(e),Sx=e=>hx.test(e),wx=()=>{const e=ge("colors"),t=ge("spacing"),r=ge("blur"),s=ge("brightness"),n=ge("borderColor"),a=ge("borderRadius"),h=ge("borderSpacing"),i=ge("borderWidth"),l=ge("contrast"),p=ge("grayscale"),v=ge("hueRotate"),m=ge("invert"),g=ge("gap"),w=ge("gradientColorStops"),S=ge("gradientColorStopPositions"),_=ge("inset"),c=ge("margin"),d=ge("opacity"),u=ge("padding"),f=ge("saturate"),y=ge("scale"),b=ge("sepia"),E=ge("skew"),C=ge("space"),x=ge("translate"),k=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto",ae,t],D=()=>[ae,t],O=()=>["",Ft,rr],I=()=>["auto",gs,ae],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",ae],T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[gs,ae];return{cacheSize:500,separator:":",theme:{colors:[Gs],spacing:[Ft,rr],blur:["none","",sr,ae],brightness:M(),borderColor:[e],borderRadius:["none","","full",sr,ae],borderSpacing:D(),borderWidth:O(),contrast:M(),grayscale:P(),hueRotate:M(),invert:P(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[fx,rr],inset:j(),margin:j(),opacity:M(),padding:D(),saturate:M(),scale:M(),sepia:P(),skew:M(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ae]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),ae]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qs,ae]}],basis:[{basis:j()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ae]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",qs,ae]}],"grid-cols":[{"grid-cols":[Gs]}],"col-start-end":[{col:["auto",{span:["full",qs,ae]},ae]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Gs]}],"row-start-end":[{row:["auto",{span:[qs,ae]},ae]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ae]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ae]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[u]}],px:[{px:[u]}],py:[{py:[u]}],ps:[{ps:[u]}],pe:[{pe:[u]}],pt:[{pt:[u]}],pr:[{pr:[u]}],pb:[{pb:[u]}],pl:[{pl:[u]}],m:[{m:[c]}],mx:[{mx:[c]}],my:[{my:[c]}],ms:[{ms:[c]}],me:[{me:[c]}],mt:[{mt:[c]}],mr:[{mr:[c]}],mb:[{mb:[c]}],ml:[{ml:[c]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ae,t]}],"min-w":[{"min-w":[ae,t,"min","max","fit"]}],"max-w":[{"max-w":[ae,t,"none","full","min","max","fit","prose",{screen:[sr]},sr]}],h:[{h:[ae,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ae,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ae,t,"auto","min","max","fit"]}],"font-size":[{text:["base",sr,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ea]}],"font-family":[{font:[Gs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ae]}],"line-clamp":[{"line-clamp":["none",gs,ea]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ft,ae]}],"list-image":[{"list-image":["none",ae]}],"list-style-type":[{list:["none","disc","decimal",ae]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[d]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[d]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ft,rr]}],"underline-offset":[{"underline-offset":["auto",Ft,ae]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ae]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ae]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[d]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),vx]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mx]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_x]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[d]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[d]}],"divide-style":[{divide:K()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[Ft,ae]}],"outline-w":[{outline:[Ft,rr]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[d]}],"ring-offset-w":[{"ring-offset":[Ft,rr]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",sr,yx]}],"shadow-color":[{shadow:[Gs]}],opacity:[{opacity:[d]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",sr,ae]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[m]}],saturate:[{saturate:[f]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[d]}],"backdrop-saturate":[{"backdrop-saturate":[f]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ae]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",ae]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",ae]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[y]}],"scale-x":[{"scale-x":[y]}],"scale-y":[{"scale-y":[y]}],rotate:[{rotate:[qs,ae]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ae]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ae]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ae]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ft,rr,ea]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cx=ix(wx);function mt(...e){return Cx(Ky(e))}function Ex({title:e,description:t,variant:r="default",onClose:s}){const n={default:"bg-white border-gray-200",success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200"},a={default:"text-gray-900",success:"text-green-900",error:"text-red-900",warning:"text-yellow-900"};return o.jsx("div",{className:mt("pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border shadow-lg",n[r]),children:o.jsx("div",{className:"p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsxs("div",{className:"flex-1",children:[e&&o.jsx("p",{className:mt("text-sm font-semibold",a[r]),children:e}),t&&o.jsx("p",{className:mt("mt-1 text-sm",a[r]),children:t})]}),s&&o.jsx("button",{onClick:s,className:mt("ml-4 inline-flex rounded-md p-1.5 transition-colors hover:bg-black/5 focus:outline-none",a[r]),children:o.jsx(Vy,{className:"h-4 w-4"})})]})})})}function kx({toasts:e,onRemove:t}){return o.jsx("div",{className:"pointer-events-none fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e.map(r=>o.jsx(Ex,{...r,onClose:()=>t(r.id)},r.id))})}let jx=0;function yt(){const[e,t]=A.useState([]),r=A.useCallback(a=>{const h=`toast-${++jx}`,i={...a,id:h};return t(l=>[...l,i]),setTimeout(()=>{t(l=>l.filter(p=>p.id!==h))},3e3),h},[]),s=A.useCallback(a=>{t(h=>h.filter(i=>i.id!==a))},[]);return{toast:r,ToastProvider:()=>o.jsx(kx,{toasts:e,onRemove:s})}}function Nx(){const[e,t]=A.useState(null),[r,s]=A.useState(!0),{toast:n}=yt();A.useEffect(()=>{a()},[]);const a=async()=>{s(!0);try{const v=await ee.get("/dashboard/stats");t(v.data)}catch(v){console.error(":",v),n({title:"",description:"",variant:"error"})}finally{s(!1)}},h=v=>{switch(v){case"active":return"bg-green-100 text-green-800 border-green-300";case"inactive":return"bg-gray-100 text-gray-800 border-gray-300";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},i=v=>{switch(v){case"active":return"";case"inactive":return"";case"maintenance":return"";default:return v}},l=v=>({server:"",vm:"",network_device:"",application:""})[v]||v,p=v=>({create:"",update:"",delete:"",connect:"",view:""})[v]||v;return r?o.jsx("div",{className:"p-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):e?o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-3xl font-bold mb-6",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[o.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),o.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.overview.total_assets})]}),o.jsx("div",{className:"text-4xl",children:""})]})}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),o.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.overview.total_users})]}),o.jsx("div",{className:"text-4xl",children:""})]})}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),o.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.overview.total_projects})]}),o.jsx("div",{className:"text-4xl",children:""})]})}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),o.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.overview.total_groups})]}),o.jsx("div",{className:"text-4xl",children:""})]})}),o.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),o.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:e.overview.total_roles})]}),o.jsx("div",{className:"text-4xl",children:""})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),o.jsx("div",{className:"space-y-3",children:Object.entries(e.assets_by_status).map(([v,m])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:`px-3 py-1 rounded border text-sm font-medium ${h(v)}`,children:i(v)})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${v==="active"?"bg-green-500":v==="inactive"?"bg-gray-500":"bg-yellow-500"}`,style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),o.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v))})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),o.jsxs("div",{className:"space-y-3",children:[Object.entries(e.assets_by_type).sort((v,m)=>m[1]-v[1]).map(([v,m])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:l(v)}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),o.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v)),Object.keys(e.assets_by_type).length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),o.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[Object.entries(e.project_distribution).sort((v,m)=>m[1]-v[1]).map(([v,m])=>o.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[o.jsx("span",{className:"text-sm font-medium",children:v}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),o.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v)),Object.keys(e.project_distribution).length===0&&o.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]}),o.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[o.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),o.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.recent_activities&&e.recent_activities.length>0?e.recent_activities.map(v=>o.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:o.jsx("div",{className:"flex items-start justify-between",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:v.module}),o.jsx("span",{className:"text-sm font-medium",children:p(v.action)})]}),v.details&&o.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:v.details}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.created_at).toLocaleString("zh-CN")})]})})},v.id)):o.jsx("p",{className:"text-gray-500 text-center py-4",children:""})})]})]})]}):o.jsx("div",{className:"p-8",children:o.jsx("div",{className:"text-center py-12 text-red-500",children:""})})}function Rx(e,t){const r=A.createContext(t),s=a=>{const{children:h,...i}=a,l=A.useMemo(()=>i,Object.values(i));return o.jsx(r.Provider,{value:l,children:h})};s.displayName=e+"Provider";function n(a){const h=A.useContext(r);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,n]}function Np(e,t=[]){let r=[];function s(a,h){const i=A.createContext(h),l=r.length;r=[...r,h];const p=m=>{var d;const{scope:g,children:w,...S}=m,_=((d=g==null?void 0:g[e])==null?void 0:d[l])||i,c=A.useMemo(()=>S,Object.values(S));return o.jsx(_.Provider,{value:c,children:w})};p.displayName=a+"Provider";function v(m,g){var _;const w=((_=g==null?void 0:g[e])==null?void 0:_[l])||i,S=A.useContext(w);if(S)return S;if(h!==void 0)return h;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[p,v]}const n=()=>{const a=r.map(h=>A.createContext(h));return function(i){const l=(i==null?void 0:i[e])||a;return A.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return n.scopeName=e,[s,Lx(n,...t)]}function Lx(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const h=s.reduce((i,{useScope:l,scopeName:p})=>{const m=l(a)[`__scope${p}`];return{...i,...m}},{});return A.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return r.scopeName=t.scopeName,r}function id(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _c(...e){return t=>{let r=!1;const s=e.map(n=>{const a=id(n,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let n=0;n<s.length;n++){const a=s[n];typeof a=="function"?a():id(e[n],null)}}}}function Jt(...e){return A.useCallback(_c(...e),e)}function Vt(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}var Nn=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{},Dx=vl[" useId ".trim().toString()]||(()=>{}),Tx=0;function ta(e){const[t,r]=A.useState(Dx());return Nn(()=>{r(s=>s??String(Tx++))},[e]),e||(t?`radix-${t}`:"")}var Ax=vl[" useInsertionEffect ".trim().toString()]||Nn;function Px({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[n,a,h]=Ox({defaultProp:t,onChange:r}),i=e!==void 0,l=i?e:n;{const v=A.useRef(e!==void 0);A.useEffect(()=>{const m=v.current;m!==i&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=i},[i,s])}const p=A.useCallback(v=>{var m;if(i){const g=Mx(v)?v(e):v;g!==e&&((m=h.current)==null||m.call(h,g))}else a(v)},[i,e,a,h]);return[l,p]}function Ox({defaultProp:e,onChange:t}){const[r,s]=A.useState(e),n=A.useRef(r),a=A.useRef(t);return Ax(()=>{a.current=t},[t]),A.useEffect(()=>{var h;n.current!==r&&((h=a.current)==null||h.call(a,r),n.current=r)},[r,n]),[r,s,a]}function Mx(e){return typeof e=="function"}function Bx(e){const t=Ix(e),r=A.forwardRef((s,n)=>{const{children:a,...h}=s,i=A.Children.toArray(a),l=i.find(Hx);if(l){const p=l.props.children,v=i.map(m=>m===l?A.Children.count(p)>1?A.Children.only(null):A.isValidElement(p)?p.props.children:null:m);return o.jsx(t,{...h,ref:n,children:A.isValidElement(p)?A.cloneElement(p,void 0,v):null})}return o.jsx(t,{...h,ref:n,children:a})});return r.displayName=`${e}.Slot`,r}function Ix(e){const t=A.forwardRef((r,s)=>{const{children:n,...a}=r;if(A.isValidElement(n)){const h=zx(n),i=Ux(a,n.props);return n.type!==A.Fragment&&(i.ref=s?_c(s,h):h),A.cloneElement(n,i)}return A.Children.count(n)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Fx=Symbol("radix.slottable");function Hx(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Fx}function Ux(e,t){const r={...t};for(const s in t){const n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...i)=>{const l=a(...i);return n(...i),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...a}:s==="className"&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}function zx(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $x=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qt=$x.reduce((e,t)=>{const r=Bx(`Primitive.${t}`),s=A.forwardRef((n,a)=>{const{asChild:h,...i}=n,l=h?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(l,{...i,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Wx(e,t){e&&ac.flushSync(()=>e.dispatchEvent(t))}function Rn(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e}),A.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Vx(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e);A.useEffect(()=>{const s=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Kx="DismissableLayer",ul="dismissableLayer.update",qx="dismissableLayer.pointerDownOutside",Gx="dismissableLayer.focusOutside",od,Rp=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lp=A.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:a,onInteractOutside:h,onDismiss:i,...l}=e,p=A.useContext(Rp),[v,m]=A.useState(null),g=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=A.useState({}),S=Jt(t,C=>m(C)),_=Array.from(p.layers),[c]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),d=_.indexOf(c),u=v?_.indexOf(v):-1,f=p.layersWithOutsidePointerEventsDisabled.size>0,y=u>=d,b=Jx(C=>{const x=C.target,k=[...p.branches].some(N=>N.contains(x));!y||k||(n==null||n(C),h==null||h(C),C.defaultPrevented||i==null||i())},g),E=Qx(C=>{const x=C.target;[...p.branches].some(N=>N.contains(x))||(a==null||a(C),h==null||h(C),C.defaultPrevented||i==null||i())},g);return Vx(C=>{u===p.layers.size-1&&(s==null||s(C),!C.defaultPrevented&&i&&(C.preventDefault(),i()))},g),A.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(od=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),ad(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=od)}},[v,g,r,p]),A.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),ad())},[v,p]),A.useEffect(()=>{const C=()=>w({});return document.addEventListener(ul,C),()=>document.removeEventListener(ul,C)},[]),o.jsx(Qt.div,{...l,ref:S,style:{pointerEvents:f?y?"auto":"none":void 0,...e.style},onFocusCapture:Vt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Vt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Vt(e.onPointerDownCapture,b.onPointerDownCapture)})});Lp.displayName=Kx;var Xx="DismissableLayerBranch",Yx=A.forwardRef((e,t)=>{const r=A.useContext(Rp),s=A.useRef(null),n=Jt(t,s);return A.useEffect(()=>{const a=s.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),o.jsx(Qt.div,{...e,ref:n})});Yx.displayName=Xx;function Jx(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e),s=A.useRef(!1),n=A.useRef(()=>{});return A.useEffect(()=>{const a=i=>{if(i.target&&!s.current){let l=function(){Dp(qx,r,p,{discrete:!0})};const p={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=l,t.addEventListener("click",n.current,{once:!0})):l()}else t.removeEventListener("click",n.current);s.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",a),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Qx(e,t=globalThis==null?void 0:globalThis.document){const r=Rn(e),s=A.useRef(!1);return A.useEffect(()=>{const n=a=>{a.target&&!s.current&&Dp(Gx,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function ad(){const e=new CustomEvent(ul);document.dispatchEvent(e)}function Dp(e,t,r,{discrete:s}){const n=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),s?Wx(n,a):n.dispatchEvent(a)}var ra="focusScope.autoFocusOnMount",sa="focusScope.autoFocusOnUnmount",ld={bubbles:!1,cancelable:!0},Zx="FocusScope",Tp=A.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:a,...h}=e,[i,l]=A.useState(null),p=Rn(n),v=Rn(a),m=A.useRef(null),g=Jt(t,_=>l(_)),w=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(s){let _=function(f){if(w.paused||!i)return;const y=f.target;i.contains(y)?m.current=y:nr(m.current,{select:!0})},c=function(f){if(w.paused||!i)return;const y=f.relatedTarget;y!==null&&(i.contains(y)||nr(m.current,{select:!0}))},d=function(f){if(document.activeElement===document.body)for(const b of f)b.removedNodes.length>0&&nr(i)};document.addEventListener("focusin",_),document.addEventListener("focusout",c);const u=new MutationObserver(d);return i&&u.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",c),u.disconnect()}}},[s,i,w.paused]),A.useEffect(()=>{if(i){ud.add(w);const _=document.activeElement;if(!i.contains(_)){const d=new CustomEvent(ra,ld);i.addEventListener(ra,p),i.dispatchEvent(d),d.defaultPrevented||(eb(ib(Ap(i)),{select:!0}),document.activeElement===_&&nr(i))}return()=>{i.removeEventListener(ra,p),setTimeout(()=>{const d=new CustomEvent(sa,ld);i.addEventListener(sa,v),i.dispatchEvent(d),d.defaultPrevented||nr(_??document.body,{select:!0}),i.removeEventListener(sa,v),ud.remove(w)},0)}}},[i,p,v,w]);const S=A.useCallback(_=>{if(!r&&!s||w.paused)return;const c=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,d=document.activeElement;if(c&&d){const u=_.currentTarget,[f,y]=tb(u);f&&y?!_.shiftKey&&d===y?(_.preventDefault(),r&&nr(f,{select:!0})):_.shiftKey&&d===f&&(_.preventDefault(),r&&nr(y,{select:!0})):d===u&&_.preventDefault()}},[r,s,w.paused]);return o.jsx(Qt.div,{tabIndex:-1,...h,ref:g,onKeyDown:S})});Tp.displayName=Zx;function eb(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(nr(s,{select:t}),document.activeElement!==r)return}function tb(e){const t=Ap(e),r=cd(t,e),s=cd(t.reverse(),e);return[r,s]}function Ap(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cd(e,t){for(const r of e)if(!rb(r,{upTo:t}))return r}function rb(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sb(e){return e instanceof HTMLInputElement&&"select"in e}function nr(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&sb(e)&&t&&e.select()}}var ud=nb();function nb(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=dd(e,t),e.unshift(t)},remove(t){var r;e=dd(e,t),(r=e[0])==null||r.resume()}}}function dd(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function ib(e){return e.filter(t=>t.tagName!=="A")}var ob="Portal",Pp=A.forwardRef((e,t)=>{var i;const{container:r,...s}=e,[n,a]=A.useState(!1);Nn(()=>a(!0),[]);const h=r||n&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return h?u_.createPortal(o.jsx(Qt.div,{...s,ref:t}),h):null});Pp.displayName=ob;function ab(e,t){return A.useReducer((r,s)=>t[r][s]??r,e)}var bo=e=>{const{present:t,children:r}=e,s=lb(t),n=typeof r=="function"?r({present:s.isPresent}):A.Children.only(r),a=Jt(s.ref,cb(n));return typeof r=="function"||s.isPresent?A.cloneElement(n,{ref:a}):null};bo.displayName="Presence";function lb(e){const[t,r]=A.useState(),s=A.useRef(null),n=A.useRef(e),a=A.useRef("none"),h=e?"mounted":"unmounted",[i,l]=ab(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const p=si(s.current);a.current=i==="mounted"?p:"none"},[i]),Nn(()=>{const p=s.current,v=n.current;if(v!==e){const g=a.current,w=si(p);e?l("MOUNT"):w==="none"||(p==null?void 0:p.display)==="none"?l("UNMOUNT"):l(v&&g!==w?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,l]),Nn(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,m=w=>{const _=si(s.current).includes(CSS.escape(w.animationName));if(w.target===t&&_&&(l("ANIMATION_END"),!n.current)){const c=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=c)})}},g=w=>{w.target===t&&(a.current=si(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:A.useCallback(p=>{s.current=p?getComputedStyle(p):null,r(p)},[])}}function si(e){return(e==null?void 0:e.animationName)||"none"}function cb(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var na=0;function ub(){A.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hd()),document.body.insertAdjacentElement("beforeend",e[1]??hd()),na++,()=>{na===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),na--}},[])}function hd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Pt=function(){return Pt=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Pt.apply(this,arguments)};function Op(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function db(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,a;s<n;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}var wi="right-scroll-bar-position",Ci="width-before-scroll-bar",hb="with-scroll-bars-hidden",fb="--removed-body-scroll-bar-size";function ia(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pb(e,t){var r=A.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var n=r.value;n!==s&&(r.value=s,r.callback(s,n))}}}})[0];return r.callback=t,r.facade}var mb=typeof window<"u"?A.useLayoutEffect:A.useEffect,fd=new WeakMap;function vb(e,t){var r=pb(null,function(s){return e.forEach(function(n){return ia(n,s)})});return mb(function(){var s=fd.get(r);if(s){var n=new Set(s),a=new Set(e),h=r.current;n.forEach(function(i){a.has(i)||ia(i,null)}),a.forEach(function(i){n.has(i)||ia(i,h)})}fd.set(r,e)},[e]),r}function gb(e){return e}function _b(e,t){t===void 0&&(t=gb);var r=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var h=t(a,s);return r.push(h),function(){r=r.filter(function(i){return i!==h})}},assignSyncMedium:function(a){for(s=!0;r.length;){var h=r;r=[],h.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){s=!0;var h=[];if(r.length){var i=r;r=[],i.forEach(a),h=r}var l=function(){var v=h;h=[],v.forEach(a)},p=function(){return Promise.resolve().then(l)};p(),r={push:function(v){h.push(v),p()},filter:function(v){return h=h.filter(v),r}}}};return n}function yb(e){e===void 0&&(e={});var t=_b(null);return t.options=Pt({async:!0,ssr:!1},e),t}var Mp=function(e){var t=e.sideCar,r=Op(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return A.createElement(s,Pt({},r))};Mp.isSideCarExport=!0;function xb(e,t){return e.useMedium(t),Mp}var Bp=yb(),oa=function(){},So=A.forwardRef(function(e,t){var r=A.useRef(null),s=A.useState({onScrollCapture:oa,onWheelCapture:oa,onTouchMoveCapture:oa}),n=s[0],a=s[1],h=e.forwardProps,i=e.children,l=e.className,p=e.removeScrollBar,v=e.enabled,m=e.shards,g=e.sideCar,w=e.noRelative,S=e.noIsolation,_=e.inert,c=e.allowPinchZoom,d=e.as,u=d===void 0?"div":d,f=e.gapMode,y=Op(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=g,E=vb([r,t]),C=Pt(Pt({},y),n);return A.createElement(A.Fragment,null,v&&A.createElement(b,{sideCar:Bp,removeScrollBar:p,shards:m,noRelative:w,noIsolation:S,inert:_,setCallbacks:a,allowPinchZoom:!!c,lockRef:r,gapMode:f}),h?A.cloneElement(A.Children.only(i),Pt(Pt({},C),{ref:E})):A.createElement(u,Pt({},C,{className:l,ref:E}),i))});So.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};So.classNames={fullWidth:Ci,zeroRight:wi};var bb=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Sb(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bb();return t&&e.setAttribute("nonce",t),e}function wb(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Cb(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Eb=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Sb())&&(wb(t,r),Cb(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kb=function(){var e=Eb();return function(t,r){A.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Ip=function(){var e=kb(),t=function(r){var s=r.styles,n=r.dynamic;return e(s,n),null};return t},jb={left:0,top:0,right:0,gap:0},aa=function(e){return parseInt(e||"",10)||0},Nb=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[aa(r),aa(s),aa(n)]},Rb=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return jb;var t=Nb(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},Lb=Ip(),_s="data-scroll-locked",Db=function(e,t,r,s){var n=e.left,a=e.top,h=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hb,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(i,"px ").concat(s,`;
  }
  body[`).concat(_s,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wi,` {
    right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(Ci,` {
    margin-right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(wi," .").concat(wi,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ci," .").concat(Ci,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(_s,`] {
    `).concat(fb,": ").concat(i,`px;
  }
`)},pd=function(){var e=parseInt(document.body.getAttribute(_s)||"0",10);return isFinite(e)?e:0},Tb=function(){A.useEffect(function(){return document.body.setAttribute(_s,(pd()+1).toString()),function(){var e=pd()-1;e<=0?document.body.removeAttribute(_s):document.body.setAttribute(_s,e.toString())}},[])},Ab=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,n=s===void 0?"margin":s;Tb();var a=A.useMemo(function(){return Rb(n)},[n]);return A.createElement(Lb,{styles:Db(a,!t,n,r?"":"!important")})},dl=!1;if(typeof window<"u")try{var ni=Object.defineProperty({},"passive",{get:function(){return dl=!0,!0}});window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{dl=!1}var Yr=dl?{passive:!1}:!1,Pb=function(e){return e.tagName==="TEXTAREA"},Fp=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Pb(e)&&r[t]==="visible")},Ob=function(e){return Fp(e,"overflowY")},Mb=function(e){return Fp(e,"overflowX")},md=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=Hp(e,s);if(n){var a=Up(e,s),h=a[1],i=a[2];if(h>i)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},Bb=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},Ib=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},Hp=function(e,t){return e==="v"?Ob(t):Mb(t)},Up=function(e,t){return e==="v"?Bb(t):Ib(t)},Fb=function(e,t){return e==="h"&&t==="rtl"?-1:1},Hb=function(e,t,r,s,n){var a=Fb(e,window.getComputedStyle(t).direction),h=a*s,i=r.target,l=t.contains(i),p=!1,v=h>0,m=0,g=0;do{if(!i)break;var w=Up(e,i),S=w[0],_=w[1],c=w[2],d=_-c-a*S;(S||d)&&Hp(e,i)&&(m+=d,g+=S);var u=i.parentNode;i=u&&u.nodeType===Node.DOCUMENT_FRAGMENT_NODE?u.host:u}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(v&&Math.abs(m)<1||!v&&Math.abs(g)<1)&&(p=!0),p},ii=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vd=function(e){return[e.deltaX,e.deltaY]},gd=function(e){return e&&"current"in e?e.current:e},Ub=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zb=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},$b=0,Jr=[];function Wb(e){var t=A.useRef([]),r=A.useRef([0,0]),s=A.useRef(),n=A.useState($b++)[0],a=A.useState(Ip)[0],h=A.useRef(e);A.useEffect(function(){h.current=e},[e]),A.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var _=db([e.lockRef.current],(e.shards||[]).map(gd),!0).filter(Boolean);return _.forEach(function(c){return c.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),_.forEach(function(c){return c.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var i=A.useCallback(function(_,c){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!h.current.allowPinchZoom;var d=ii(_),u=r.current,f="deltaX"in _?_.deltaX:u[0]-d[0],y="deltaY"in _?_.deltaY:u[1]-d[1],b,E=_.target,C=Math.abs(f)>Math.abs(y)?"h":"v";if("touches"in _&&C==="h"&&E.type==="range")return!1;var x=window.getSelection(),k=x&&x.anchorNode,N=k?k===E||k.contains(E):!1;if(N)return!1;var j=md(C,E);if(!j)return!0;if(j?b=C:(b=C==="v"?"h":"v",j=md(C,E)),!j)return!1;if(!s.current&&"changedTouches"in _&&(f||y)&&(s.current=b),!b)return!0;var D=s.current||b;return Hb(D,c,_,D==="h"?f:y)},[]),l=A.useCallback(function(_){var c=_;if(!(!Jr.length||Jr[Jr.length-1]!==a)){var d="deltaY"in c?vd(c):ii(c),u=t.current.filter(function(b){return b.name===c.type&&(b.target===c.target||c.target===b.shadowParent)&&Ub(b.delta,d)})[0];if(u&&u.should){c.cancelable&&c.preventDefault();return}if(!u){var f=(h.current.shards||[]).map(gd).filter(Boolean).filter(function(b){return b.contains(c.target)}),y=f.length>0?i(c,f[0]):!h.current.noIsolation;y&&c.cancelable&&c.preventDefault()}}},[]),p=A.useCallback(function(_,c,d,u){var f={name:_,delta:c,target:d,should:u,shadowParent:Vb(d)};t.current.push(f),setTimeout(function(){t.current=t.current.filter(function(y){return y!==f})},1)},[]),v=A.useCallback(function(_){r.current=ii(_),s.current=void 0},[]),m=A.useCallback(function(_){p(_.type,vd(_),_.target,i(_,e.lockRef.current))},[]),g=A.useCallback(function(_){p(_.type,ii(_),_.target,i(_,e.lockRef.current))},[]);A.useEffect(function(){return Jr.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Yr),document.addEventListener("touchmove",l,Yr),document.addEventListener("touchstart",v,Yr),function(){Jr=Jr.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,Yr),document.removeEventListener("touchmove",l,Yr),document.removeEventListener("touchstart",v,Yr)}},[]);var w=e.removeScrollBar,S=e.inert;return A.createElement(A.Fragment,null,S?A.createElement(a,{styles:zb(n)}):null,w?A.createElement(Ab,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Vb(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kb=xb(Bp,Wb);var zp=A.forwardRef(function(e,t){return A.createElement(So,Pt({},e,{ref:t,sideCar:Kb}))});zp.classNames=So.classNames;var qb=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Qr=new WeakMap,oi=new WeakMap,ai={},la=0,$p=function(e){return e&&(e.host||$p(e.parentNode))},Gb=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=$p(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Xb=function(e,t,r,s){var n=Gb(t,Array.isArray(e)?e:[e]);ai[r]||(ai[r]=new WeakMap);var a=ai[r],h=[],i=new Set,l=new Set(n),p=function(m){!m||i.has(m)||(i.add(m),p(m.parentNode))};n.forEach(p);var v=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(g){if(i.has(g))v(g);else try{var w=g.getAttribute(s),S=w!==null&&w!=="false",_=(Qr.get(g)||0)+1,c=(a.get(g)||0)+1;Qr.set(g,_),a.set(g,c),h.push(g),_===1&&S&&oi.set(g,!0),c===1&&g.setAttribute(r,"true"),S||g.setAttribute(s,"true")}catch(d){console.error("aria-hidden: cannot operate on ",g,d)}})};return v(t),i.clear(),la++,function(){h.forEach(function(m){var g=Qr.get(m)-1,w=a.get(m)-1;Qr.set(m,g),a.set(m,w),g||(oi.has(m)||m.removeAttribute(s),oi.delete(m)),w||m.removeAttribute(r)}),la--,la||(Qr=new WeakMap,Qr=new WeakMap,oi=new WeakMap,ai={})}},Yb=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),n=qb(e);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),Xb(s,n,r,"aria-hidden")):function(){return null}};function Jb(e){const t=Qb(e),r=A.forwardRef((s,n)=>{const{children:a,...h}=s,i=A.Children.toArray(a),l=i.find(eS);if(l){const p=l.props.children,v=i.map(m=>m===l?A.Children.count(p)>1?A.Children.only(null):A.isValidElement(p)?p.props.children:null:m);return o.jsx(t,{...h,ref:n,children:A.isValidElement(p)?A.cloneElement(p,void 0,v):null})}return o.jsx(t,{...h,ref:n,children:a})});return r.displayName=`${e}.Slot`,r}function Qb(e){const t=A.forwardRef((r,s)=>{const{children:n,...a}=r;if(A.isValidElement(n)){const h=rS(n),i=tS(a,n.props);return n.type!==A.Fragment&&(i.ref=s?_c(s,h):h),A.cloneElement(n,i)}return A.Children.count(n)>1?A.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zb=Symbol("radix.slottable");function eS(e){return A.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zb}function tS(e,t){const r={...t};for(const s in t){const n=e[s],a=t[s];/^on[A-Z]/.test(s)?n&&a?r[s]=(...i)=>{const l=a(...i);return n(...i),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...a}:s==="className"&&(r[s]=[n,a].filter(Boolean).join(" "))}return{...e,...r}}function rS(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var wo="Dialog",[Wp,Vp]=Np(wo),[sS,Rt]=Wp(wo),Kp=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:n,onOpenChange:a,modal:h=!0}=e,i=A.useRef(null),l=A.useRef(null),[p,v]=Px({prop:s,defaultProp:n??!1,onChange:a,caller:wo});return o.jsx(sS,{scope:t,triggerRef:i,contentRef:l,contentId:ta(),titleId:ta(),descriptionId:ta(),open:p,onOpenChange:v,onOpenToggle:A.useCallback(()=>v(m=>!m),[v]),modal:h,children:r})};Kp.displayName=wo;var qp="DialogTrigger",Gp=A.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Rt(qp,r),a=Jt(t,n.triggerRef);return o.jsx(Qt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":bc(n.open),...s,ref:a,onClick:Vt(e.onClick,n.onOpenToggle)})});Gp.displayName=qp;var yc="DialogPortal",[nS,Xp]=Wp(yc,{forceMount:void 0}),Yp=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:n}=e,a=Rt(yc,t);return o.jsx(nS,{scope:t,forceMount:r,children:A.Children.map(s,h=>o.jsx(bo,{present:r||a.open,children:o.jsx(Pp,{asChild:!0,container:n,children:h})}))})};Yp.displayName=yc;var Ji="DialogOverlay",Jp=A.forwardRef((e,t)=>{const r=Xp(Ji,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,a=Rt(Ji,e.__scopeDialog);return a.modal?o.jsx(bo,{present:s||a.open,children:o.jsx(oS,{...n,ref:t})}):null});Jp.displayName=Ji;var iS=Jb("DialogOverlay.RemoveScroll"),oS=A.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Rt(Ji,r);return o.jsx(zp,{as:iS,allowPinchZoom:!0,shards:[n.contentRef],children:o.jsx(Qt.div,{"data-state":bc(n.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Vr="DialogContent",Qp=A.forwardRef((e,t)=>{const r=Xp(Vr,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,a=Rt(Vr,e.__scopeDialog);return o.jsx(bo,{present:s||a.open,children:a.modal?o.jsx(aS,{...n,ref:t}):o.jsx(lS,{...n,ref:t})})});Qp.displayName=Vr;var aS=A.forwardRef((e,t)=>{const r=Rt(Vr,e.__scopeDialog),s=A.useRef(null),n=Jt(t,r.contentRef,s);return A.useEffect(()=>{const a=s.current;if(a)return Yb(a)},[]),o.jsx(Zp,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Vt(e.onCloseAutoFocus,a=>{var h;a.preventDefault(),(h=r.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Vt(e.onPointerDownOutside,a=>{const h=a.detail.originalEvent,i=h.button===0&&h.ctrlKey===!0;(h.button===2||i)&&a.preventDefault()}),onFocusOutside:Vt(e.onFocusOutside,a=>a.preventDefault())})}),lS=A.forwardRef((e,t)=>{const r=Rt(Vr,e.__scopeDialog),s=A.useRef(!1),n=A.useRef(!1);return o.jsx(Zp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var h,i;(h=e.onCloseAutoFocus)==null||h.call(e,a),a.defaultPrevented||(s.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{var l,p;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const h=a.target;((p=r.triggerRef.current)==null?void 0:p.contains(h))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),Zp=A.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:a,...h}=e,i=Rt(Vr,r),l=A.useRef(null),p=Jt(t,l);return ub(),o.jsxs(o.Fragment,{children:[o.jsx(Tp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:a,children:o.jsx(Lp,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":bc(i.open),...h,ref:p,onDismiss:()=>i.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(uS,{titleId:i.titleId}),o.jsx(hS,{contentRef:l,descriptionId:i.descriptionId})]})]})}),xc="DialogTitle",em=A.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Rt(xc,r);return o.jsx(Qt.h2,{id:n.titleId,...s,ref:t})});em.displayName=xc;var tm="DialogDescription",rm=A.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Rt(tm,r);return o.jsx(Qt.p,{id:n.descriptionId,...s,ref:t})});rm.displayName=tm;var sm="DialogClose",nm=A.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=Rt(sm,r);return o.jsx(Qt.button,{type:"button",...s,ref:t,onClick:Vt(e.onClick,()=>n.onOpenChange(!1))})});nm.displayName=sm;function bc(e){return e?"open":"closed"}var im="DialogTitleWarning",[cS,om]=Rx(im,{contentName:Vr,titleName:xc,docsSlug:"dialog"}),uS=({titleId:e})=>{const t=om(im),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return A.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dS="DialogDescriptionWarning",hS=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${om(dS).contentName}}.`;return A.useEffect(()=>{var a;const n=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},fS=Kp,pS=Gp,mS=Yp,vS=Jp,gS=Qp,_S=em,yS=rm,am=nm,xS=Symbol("radix.slottable");function bS(e){const t=({children:r})=>o.jsx(o.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=xS,t}var lm="AlertDialog",[SS]=Np(lm,[Vp]),Zt=Vp(),cm=e=>{const{__scopeAlertDialog:t,...r}=e,s=Zt(t);return o.jsx(fS,{...s,...r,modal:!0})};cm.displayName=lm;var wS="AlertDialogTrigger",CS=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Zt(r);return o.jsx(pS,{...n,...s,ref:t})});CS.displayName=wS;var ES="AlertDialogPortal",um=e=>{const{__scopeAlertDialog:t,...r}=e,s=Zt(t);return o.jsx(mS,{...s,...r})};um.displayName=ES;var kS="AlertDialogOverlay",dm=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Zt(r);return o.jsx(vS,{...n,...s,ref:t})});dm.displayName=kS;var ys="AlertDialogContent",[jS,NS]=SS(ys),RS=bS("AlertDialogContent"),hm=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...n}=e,a=Zt(r),h=A.useRef(null),i=Jt(t,h),l=A.useRef(null);return o.jsx(cS,{contentName:ys,titleName:fm,docsSlug:"alert-dialog",children:o.jsx(jS,{scope:r,cancelRef:l,children:o.jsxs(gS,{role:"alertdialog",...a,...n,ref:i,onOpenAutoFocus:Vt(n.onOpenAutoFocus,p=>{var v;p.preventDefault(),(v=l.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[o.jsx(RS,{children:s}),o.jsx(DS,{contentRef:h})]})})})});hm.displayName=ys;var fm="AlertDialogTitle",pm=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Zt(r);return o.jsx(_S,{...n,...s,ref:t})});pm.displayName=fm;var mm="AlertDialogDescription",vm=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Zt(r);return o.jsx(yS,{...n,...s,ref:t})});vm.displayName=mm;var LS="AlertDialogAction",gm=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Zt(r);return o.jsx(am,{...n,...s,ref:t})});gm.displayName=LS;var _m="AlertDialogCancel",ym=A.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:n}=NS(_m,r),a=Zt(r),h=Jt(t,n);return o.jsx(am,{...a,...s,ref:h})});ym.displayName=_m;var DS=({contentRef:e})=>{const t=`\`${ys}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ys}\` by passing a \`${mm}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ys}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},TS=cm,AS=um,xm=dm,bm=hm,Sm=gm,wm=ym,Cm=pm,Em=vm;const PS=TS,OS=AS,km=A.forwardRef(({className:e,...t},r)=>o.jsx(xm,{className:mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));km.displayName=xm.displayName;const jm=A.forwardRef(({className:e,...t},r)=>o.jsxs(OS,{children:[o.jsx(km,{}),o.jsx(bm,{ref:r,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...t})]}));jm.displayName=bm.displayName;const Nm=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col space-y-2 text-center sm:text-left",e),...t});Nm.displayName="AlertDialogHeader";const Rm=({className:e,...t})=>o.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Rm.displayName="AlertDialogFooter";const Lm=A.forwardRef(({className:e,...t},r)=>o.jsx(Cm,{ref:r,className:mt("text-lg font-semibold",e),...t}));Lm.displayName=Cm.displayName;const Dm=A.forwardRef(({className:e,...t},r)=>o.jsx(Em,{ref:r,className:mt("text-sm text-gray-500",e),...t}));Dm.displayName=Em.displayName;const Tm=A.forwardRef(({className:e,...t},r)=>o.jsx(Sm,{ref:r,className:mt("inline-flex h-10 items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));Tm.displayName=Sm.displayName;const Am=A.forwardRef(({className:e,...t},r)=>o.jsx(wm,{ref:r,className:mt("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-semibold transition-colors hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:mt-0",e),...t}));Am.displayName=wm.displayName;function Nr(){const[e,t]=A.useState(!1),[r,s]=A.useState(null),n=(i,l)=>new Promise(p=>{s({title:i,description:l,onConfirm:()=>{p(!0),t(!1)}}),t(!0)}),a=()=>{t(!1),s(null)};return{confirm:n,ConfirmDialog:()=>r?o.jsx(PS,{open:e,onOpenChange:i=>{i||a()},children:o.jsxs(jm,{children:[o.jsxs(Nm,{children:[o.jsx(Lm,{children:r.title}),r.description&&o.jsx(Dm,{children:r.description})]}),o.jsxs(Rm,{children:[o.jsx(Am,{onClick:a,children:""}),o.jsx(Tm,{onClick:r.onConfirm,children:""})]})]})}):null}}const _d={active:{label:"",color:"text-green-700",bg:"bg-green-100",icon:""},inactive:{label:"",color:"text-gray-700",bg:"bg-gray-100",icon:""},archived:{label:"",color:"text-red-700",bg:"bg-red-100",icon:""}};function MS(){const e=Ps(),{toast:t}=yt(),{confirm:r,ConfirmDialog:s}=Nr(),[n,a]=A.useState([]),[h,i]=A.useState(!0),[l,p]=A.useState(""),[v,m]=A.useState(!1),[g,w]=A.useState(!1),[S,_]=A.useState(null),[c,d]=A.useState({name:"",description:"",status:"active"}),[u,f]=A.useState({});A.useEffect(()=>{y(),b()},[]);const y=async()=>{i(!0);try{const j=await ee.get("/projects?limit=1000");a(j.data.data||[])}catch{t({title:"",description:"",variant:"error"})}finally{i(!1)}},b=async()=>{try{const j=await ee.get("/assets/stats/project"),D={};(j.data||[]).forEach(O=>{D[O.project_id]=O.count}),f(D)}catch{console.error("")}},E=n.filter(j=>{var D;return j.name.toLowerCase().includes(l.toLowerCase())||((D=j.description)==null?void 0:D.toLowerCase().includes(l.toLowerCase()))}),C=async()=>{var j,D;if(!c.name.trim()){t({title:"",description:"",variant:"error"});return}try{await ee.post("/projects",c),t({title:"",description:""}),m(!1),d({name:"",description:"",status:"active"}),y()}catch(O){t({title:"",description:((D=(j=O.response)==null?void 0:j.data)==null?void 0:D.error)||"",variant:"error"})}},x=async()=>{var j,D;if(S)try{await ee.put(`/projects/${S.id}`,c),t({title:"",description:""}),w(!1),y()}catch(O){t({title:"",description:((D=(j=O.response)==null?void 0:j.data)==null?void 0:D.error)||"",variant:"error"})}},k=async j=>{if(await r("",` "${j.name}" `))try{await ee.delete(`/projects/${j.id}`),t({title:"",description:""}),y()}catch{t({title:"",description:"",variant:"error"})}},N=j=>{_(j),d({name:j.name,description:j.description||"",status:j.status}),w(!0)};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(s,{}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:()=>{d({name:"",description:"",status:"active"}),m(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ "})]}),o.jsx("div",{className:"mb-6",children:o.jsx("input",{type:"text",placeholder:" ...",value:l,onChange:j=>p(j.target.value),className:"w-full max-w-md px-4 py-2 border rounded-lg"})}),h?o.jsx("div",{className:"text-center py-8",children:"..."}):E.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:E.map(j=>{const D=_d[j.status]||_d.inactive,O=u[j.id]||0;return o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow overflow-hidden",children:[o.jsx("div",{className:`h-1 ${j.status==="active"?"bg-green-500":j.status==="archived"?"bg-red-500":"bg-gray-300"}`}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-lg",children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-lg",children:j.name}),o.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs ${D.bg} ${D.color}`,children:[D.icon," ",D.label]})]})]})}),o.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2 min-h-[40px]",children:j.description||""}),o.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1 text-gray-600",children:[o.jsx("span",{className:"text-lg",children:""}),o.jsxs("span",{children:[O," "]})]}),o.jsxs("div",{className:"text-xs text-gray-400",children:[" ",new Date(j.created_at).toLocaleDateString("zh-CN")]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t",children:[o.jsx("button",{onClick:()=>e(`/assets?project_id=${j.id}`),className:"px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded flex-1",children:" "}),o.jsx("button",{onClick:()=>N(j),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded",children:" "}),o.jsx("button",{onClick:()=>k(j),className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",children:""})]})]})]},j.id)})}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:c.name,onChange:j=>d({...c,name:j.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:c.description,onChange:j=>d({...c,description:j.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("select",{value:c.status,onChange:j=>d({...c,status:j.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""}),o.jsx("option",{value:"archived",children:""})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),g&&S&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"text",value:c.name,onChange:j=>d({...c,name:j.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:c.description,onChange:j=>d({...c,description:j.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("select",{value:c.status,onChange:j=>d({...c,status:j.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""}),o.jsx("option",{value:"archived",children:""})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})})]})}const BS=[{value:"",label:""},{value:"self-hosted",label:""},{value:"aliyun",label:""},{value:"tencent",label:""},{value:"huawei",label:""},{value:"aws",label:"AWS"},{value:"azure",label:"Azure"},{value:"gcp",label:"Google Cloud"},{value:"other",label:""}];function IS({asset:e,onSuccess:t,onCancel:r}){const[s,n]=A.useState([]),[a,h]=A.useState({type:(e==null?void 0:e.type)||"",name:(e==null?void 0:e.name)||"",status:(e==null?void 0:e.status)||"",project_id:(e==null?void 0:e.project_id)||void 0,ssh_port:(e==null?void 0:e.ssh_port)||22,ip:(e==null?void 0:e.ip)||"",os:(e==null?void 0:e.os)||"",cpu:(e==null?void 0:e.cpu)||"",memory:(e==null?void 0:e.memory)||"",disk:(e==null?void 0:e.disk)||"",location:(e==null?void 0:e.location)||"",department:(e==null?void 0:e.department)||"",cloud_platform:(e==null?void 0:e.cloud_platform)||"",remark:(e==null?void 0:e.remark)||""}),[i,l]=A.useState(!1),{toast:p}=yt();A.useEffect(()=>{v()},[]);const v=async()=>{try{const g=await ee.get("/projects?page=1&limit=1000");n(g.data.data||[])}catch(g){console.error(":",g)}},m=async g=>{var w,S;g.preventDefault(),l(!0);try{e!=null&&e.id?await ee.put(`/assets/${e.id}`,a):await ee.post("/assets",a),t(),p({title:"",description:e!=null&&e.id?"":"",variant:"success"})}catch(_){console.error("Failed to save asset:",_),p({title:"",description:((S=(w=_.response)==null?void 0:w.data)==null?void 0:S.error)||"",variant:"error"})}finally{l(!1)}};return o.jsxs("form",{onSubmit:m,className:"space-y-4 max-h-[70vh] overflow-y-auto pr-2",children:[o.jsx("div",{className:"border-b pb-2 mb-2",children:o.jsx("h4",{className:"font-medium text-gray-700",children:""})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsxs("select",{value:a.project_id||"",onChange:g=>h({...a,project_id:g.target.value||void 0}),className:"w-full px-3 py-2 border rounded text-sm",children:[o.jsx("option",{value:"",children:""}),s.map(g=>o.jsx("option",{value:g.id,children:g.name},g.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("select",{value:a.cloud_platform||"",onChange:g=>h({...a,cloud_platform:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",children:BS.map(g=>o.jsx("option",{value:g.value,children:g.label},g.value))})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:" *"}),o.jsxs("select",{value:a.type,onChange:g=>h({...a,type:g.target.value}),required:!0,className:"w-full px-3 py-2 border rounded text-sm",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"server",children:""}),o.jsx("option",{value:"vm",children:""}),o.jsx("option",{value:"network_device",children:""}),o.jsx("option",{value:"application",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:" *"}),o.jsx("input",{type:"text",value:a.name,onChange:g=>h({...a,name:g.target.value}),required:!0,className:"w-full px-3 py-2 border rounded text-sm",placeholder:"web-server-01"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:" *"}),o.jsxs("select",{value:a.status,onChange:g=>h({...a,status:g.target.value}),required:!0,className:"w-full px-3 py-2 border rounded text-sm",children:[o.jsx("option",{value:"",children:""}),o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""}),o.jsx("option",{value:"maintenance",children:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:a.department||"",onChange:g=>h({...a,department:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:""})]})]}),o.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:o.jsx("h4",{className:"font-medium text-gray-700",children:""})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:"IP "}),o.jsx("input",{type:"text",value:a.ip||"",onChange:g=>h({...a,ip:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"192.168.1.100"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:"SSH "}),o.jsx("input",{type:"number",value:a.ssh_port||22,onChange:g=>h({...a,ssh_port:parseInt(g.target.value)||22}),className:"w-full px-3 py-2 border rounded text-sm",min:"1",max:"65535",placeholder:"22"})]})]}),o.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:o.jsx("h4",{className:"font-medium text-gray-700",children:""})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:a.os||"",onChange:g=>h({...a,os:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"Ubuntu 22.04"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:"CPU"}),o.jsx("input",{type:"text",value:a.cpu||"",onChange:g=>h({...a,cpu:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"8"})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:a.memory||"",onChange:g=>h({...a,memory:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"32GB"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:a.disk||"",onChange:g=>h({...a,disk:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"1TB SSD"})]})]}),o.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:o.jsx("h4",{className:"font-medium text-gray-700",children:""})}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:a.location||"",onChange:g=>h({...a,location:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",placeholder:"A-03"})]}),o.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:o.jsx("h4",{className:"font-medium text-gray-700",children:""})}),o.jsx("div",{children:o.jsx("textarea",{value:a.remark||"",onChange:g=>h({...a,remark:g.target.value}),className:"w-full px-3 py-2 border rounded text-sm",rows:3,placeholder:"..."})}),o.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded",children:""}),o.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50",children:i?"...":""})]})]})}const FS={"self-hosted":{label:"",icon:"",color:"bg-gray-100 text-gray-700"},aliyun:{label:"",icon:"",color:"bg-orange-100 text-orange-700"},tencent:{label:"",icon:"",color:"bg-blue-100 text-blue-700"},huawei:{label:"",icon:"",color:"bg-red-100 text-red-700"},aws:{label:"AWS",icon:"",color:"bg-yellow-100 text-yellow-700"},azure:{label:"Azure",icon:"",color:"bg-blue-100 text-blue-700"},gcp:{label:"Google Cloud",icon:"",color:"bg-green-100 text-green-700"},other:{label:"",icon:"",color:"bg-gray-100 text-gray-700"}},yd={active:{label:"",color:"text-green-700",bg:"bg-green-100",dot:"bg-green-500"},inactive:{label:"",color:"text-gray-700",bg:"bg-gray-100",dot:"bg-gray-400"},maintenance:{label:"",color:"text-yellow-700",bg:"bg-yellow-100",dot:"bg-yellow-500"}},xd={server:{label:"",icon:"",color:"from-blue-500 to-indigo-500"},vm:{label:"",icon:"",color:"from-purple-500 to-pink-500"},network_device:{label:"",icon:"",color:"from-green-500 to-teal-500"},application:{label:"",icon:"",color:"from-orange-500 to-red-500"}};function HS(){const e=Ps(),{toast:t}=yt(),{confirm:r,ConfirmDialog:s}=Nr(),[n,a]=A.useState([]),[h,i]=A.useState([]),[l,p]=A.useState(!0),[v,m]=A.useState(""),[g,w]=A.useState({type:"",status:"",project_id:""}),[S,_]=A.useState("group"),[c,d]=A.useState(!1),[u,f]=A.useState(null);A.useEffect(()=>{y(),b()},[g]);const y=async()=>{try{const j=await ee.get("/projects?limit=1000");i(j.data.data||[])}catch{console.error("")}},b=async()=>{p(!0);try{const j=new URLSearchParams({page:"1",limit:"1000",...Object.fromEntries(Object.entries(g).filter(([,O])=>O!==""))}),D=await ee.get(`/assets?${j}`);a(D.data.data||[])}catch{t({title:"",description:"",variant:"error"})}finally{p(!1)}},E=n.filter(j=>{var O,I,U;if(!v.trim())return!0;const D=v.toLowerCase().trim();return((O=j.name)==null?void 0:O.toLowerCase().includes(D))||((I=j.ip)==null?void 0:I.toLowerCase().includes(D))||((U=j.remark)==null?void 0:U.toLowerCase().includes(D))}),C=E.reduce((j,D)=>{var U;const O=D.project_id||"unassigned",I=((U=D.project)==null?void 0:U.name)||"";return j[O]||(j[O]={project:{id:O,name:I},assets:[]}),j[O].assets.push(D),j},{}),x=Object.values(C).sort((j,D)=>j.project.id==="unassigned"?1:D.project.id==="unassigned"?-1:j.project.name.localeCompare(D.project.name)),k=async j=>{if(await r("",` "${j.name}" `))try{await ee.delete(`/assets/${j.id}`),t({title:"",description:""}),b()}catch{t({title:"",description:"",variant:"error"})}},N=j=>{const D=xd[j.type]||xd.server,O=yd[j.status]||yd.inactive,I=j.cloud_platform?FS[j.cloud_platform]:null;return o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-all overflow-hidden group",children:[o.jsx("div",{className:`h-1 bg-gradient-to-r ${D.color}`}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg bg-gradient-to-br ${D.color} flex items-center justify-center text-white text-lg`,children:D.icon}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900",children:j.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[o.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs ${O.bg} ${O.color}`,children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${O.dot}`}),O.label]}),o.jsx("span",{className:"text-xs text-gray-500",children:D.label})]})]})]})}),o.jsxs("div",{className:"space-y-2 mb-3",children:[j.ip&&o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"IP:"}),o.jsxs("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-700",children:[j.ip,j.ssh_port&&j.ssh_port!==22?`:${j.ssh_port}`:""]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[j.os&&o.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded text-gray-600",children:j.os}),j.cpu&&o.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-gray-600",children:["CPU: ",j.cpu]}),j.memory&&o.jsxs("span",{className:"bg-gray-100 px-2 py-1 rounded text-gray-600",children:[": ",j.memory]})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[I&&o.jsxs("span",{className:`px-2 py-1 rounded ${I.color}`,children:[I.icon," ",I.label]}),j.location&&o.jsxs("span",{className:"text-gray-500",children:[" ",j.location]}),j.department&&o.jsxs("span",{className:"text-gray-500",children:[" ",j.department]})]})]}),S==="card"&&j.project&&o.jsx("div",{className:"mb-3",children:o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-50 text-blue-700 rounded text-xs",children:[" ",j.project.name]})}),o.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[j.ip&&o.jsx("button",{onClick:()=>e("/webssh"),className:"flex-1 px-3 py-1.5 text-xs bg-green-100 hover:bg-green-200 text-green-700 rounded transition-colors",children:" SSH"}),o.jsx("button",{onClick:()=>{f(j),d(!0)},className:"flex-1 px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded transition-colors",children:" "}),o.jsx("button",{onClick:()=>k(j),className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded transition-colors",children:""})]})]})]},j.id)};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(s,{}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:" IT "})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex border rounded-lg overflow-hidden",children:[o.jsx("button",{onClick:()=>_("group"),className:`px-4 py-2 text-sm ${S==="group"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:" "}),o.jsx("button",{onClick:()=>_("card"),className:`px-4 py-2 text-sm ${S==="card"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:" "})]}),o.jsx("button",{onClick:()=>{f(null),d(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"+ "})]})]}),o.jsxs("div",{className:"mb-6 p-4 bg-white border rounded-lg shadow-sm",children:[o.jsxs("div",{className:"flex gap-4 flex-wrap items-center",children:[o.jsxs("div",{className:"relative flex-1 max-w-md",children:[o.jsx("input",{type:"text",value:v,onChange:j=>m(j.target.value),placeholder:" IP ...",className:"w-full px-4 py-2 border rounded-lg"}),v&&o.jsx("button",{onClick:()=>m(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:""})]}),o.jsxs("select",{value:g.project_id,onChange:j=>w({...g,project_id:j.target.value}),className:"px-4 py-2 border rounded-lg bg-white",children:[o.jsx("option",{value:"",children:" "}),h.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]}),o.jsxs("select",{value:g.type,onChange:j=>w({...g,type:j.target.value}),className:"px-4 py-2 border rounded-lg bg-white",children:[o.jsx("option",{value:"",children:" "}),o.jsx("option",{value:"server",children:""}),o.jsx("option",{value:"vm",children:""}),o.jsx("option",{value:"network_device",children:""}),o.jsx("option",{value:"application",children:""})]}),o.jsxs("select",{value:g.status,onChange:j=>w({...g,status:j.target.value}),className:"px-4 py-2 border rounded-lg bg-white",children:[o.jsx("option",{value:"",children:" "}),o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""}),o.jsx("option",{value:"maintenance",children:""})]})]}),o.jsxs("div",{className:"mt-3 text-sm text-gray-500",children:[" ",E.length," ",v&&o.jsxs("span",{className:"text-blue-600 ml-2",children:['( "',v,'")']})]})]}),l?o.jsx("div",{className:"text-center py-8",children:"..."}):E.length===0?o.jsxs("div",{className:"text-center py-12 text-gray-500",children:[o.jsx("div",{className:"text-4xl mb-4",children:""}),o.jsx("div",{children:""}),o.jsx("button",{onClick:()=>{f(null),d(!0)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]}):S==="group"?o.jsx("div",{className:"space-y-6",children:x.map(j=>o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:`px-4 py-3 border-b ${j.project.id==="unassigned"?"bg-gray-50":"bg-gradient-to-r from-blue-50 to-indigo-50"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${j.project.id==="unassigned"?"bg-gray-200 text-gray-500":"bg-blue-500 text-white"}`,children:""}),o.jsxs("div",{children:[o.jsx("h2",{className:"font-semibold text-gray-900",children:j.project.name}),o.jsxs("span",{className:"text-sm text-gray-500",children:[j.assets.length," "]})]})]}),j.project.id!=="unassigned"&&o.jsx("button",{onClick:()=>e("/projects"),className:"text-sm text-blue-600 hover:text-blue-800",children:" "})]})}),o.jsx("div",{className:"p-4",children:o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.assets.map(N)})})]},j.project.id))}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:E.map(N)}),c&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:u?"":""}),o.jsx(IS,{asset:u||void 0,onSuccess:()=>{d(!1),f(null),b(),t({title:"",description:u?"":""})},onCancel:()=>{d(!1),f(null)}})]})})})]})}const US={password:{label:"",icon:"",color:"bg-blue-100 text-blue-700"},key:{label:"",icon:"",color:"bg-purple-100 text-purple-700"}};function zS(){const{toast:e}=yt(),{confirm:t,ConfirmDialog:r}=Nr(),[s,n]=A.useState([]),[a,h]=A.useState(!0),[i,l]=A.useState(""),[p,v]=A.useState(!1),[m,g]=A.useState(!1),[w,S]=A.useState(null),[_,c]=A.useState({name:"",username:"",auth_type:"password",password:"",private_key:"",public_key:"",passphrase:"",description:""});A.useEffect(()=>{d()},[]);const d=async()=>{h(!0);try{const N=await ee.get("/asset-credentials");n(N.data||[])}catch{e({title:"",description:"",variant:"error"})}finally{h(!1)}},f=s.filter(N=>!N.asset_id).filter(N=>N.name.toLowerCase().includes(i.toLowerCase())||N.username.toLowerCase().includes(i.toLowerCase())),y=()=>{c({name:"",username:"",auth_type:"password",password:"",private_key:"",public_key:"",passphrase:"",description:""})},b=async()=>{var N,j;if(!_.name.trim()||!_.username.trim()){e({title:"",description:"",variant:"error"});return}if(_.auth_type==="password"&&!_.password){e({title:"",description:"",variant:"error"});return}if(_.auth_type==="key"&&!_.private_key){e({title:"",description:"",variant:"error"});return}try{const D={name:_.name,username:_.username,auth_type:_.auth_type,description:_.description,is_default:!1};_.auth_type==="password"?D.password=_.password:(D.private_key=_.private_key,_.public_key&&(D.public_key=_.public_key),_.passphrase&&(D.passphrase=_.passphrase)),await ee.post("/asset-credentials",D),e({title:"",description:""}),v(!1),y(),d()}catch(D){e({title:"",description:((j=(N=D.response)==null?void 0:N.data)==null?void 0:j.error)||"",variant:"error"})}},E=async()=>{var N,j;if(w)try{const D={name:_.name,username:_.username,auth_type:_.auth_type,description:_.description};_.auth_type==="password"&&_.password?D.password=_.password:_.auth_type==="key"&&(_.private_key&&(D.private_key=_.private_key),_.public_key&&(D.public_key=_.public_key),_.passphrase&&(D.passphrase=_.passphrase)),await ee.put(`/asset-credentials/${w.id}`,D),e({title:"",description:""}),g(!1),d()}catch(D){e({title:"",description:((j=(N=D.response)==null?void 0:N.data)==null?void 0:j.error)||"",variant:"error"})}},C=async N=>{if(await t("",` "${N.name}" `))try{await ee.delete(`/asset-credentials/${N.id}`),e({title:"",description:""}),d()}catch{e({title:"",description:"",variant:"error"})}},x=N=>{S(N),c({name:N.name,username:N.username,auth_type:N.auth_type,password:"",private_key:"",public_key:N.public_key||"",passphrase:"",description:N.description||""}),g(!0)},k=()=>{y(),v(!0)};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(r,{}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:k,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ "})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-blue-800",children:""}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:" WebSSH  SSH "})]})]})}),o.jsx("div",{className:"mb-6",children:o.jsx("input",{type:"text",placeholder:" ...",value:i,onChange:N=>l(N.target.value),className:"w-full max-w-md px-4 py-2 border rounded-lg"})}),a?o.jsx("div",{className:"text-center py-8",children:"..."}):f.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:i?"":'""'}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(N=>{const j=US[N.auth_type];return o.jsx("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"flex items-start justify-between mb-3",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center text-xl ${N.auth_type==="key"?"bg-purple-100":"bg-blue-100"}`,children:j.icon}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:N.name}),o.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${j.color}`,children:j.label})]})]})}),o.jsxs("div",{className:"space-y-2 mb-3",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx("span",{className:"text-gray-500",children:":"}),o.jsx("span",{className:"font-mono bg-gray-100 px-2 py-0.5 rounded",children:N.username})]}),N.auth_type==="key"&&N.public_key&&o.jsxs("div",{className:"text-xs text-gray-500",children:[o.jsx("span",{className:"font-medium",children:":"}),o.jsx("span",{className:"font-mono ml-1 break-all",children:N.public_key.length>50?`${N.public_key.substring(0,50)}...`:N.public_key})]}),N.description&&o.jsx("p",{className:"text-sm text-gray-600",children:N.description})]}),o.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:[" ",new Date(N.created_at).toLocaleDateString("zh-CN")]}),o.jsxs("div",{className:"flex gap-2 pt-3 border-t",children:[o.jsx("button",{onClick:()=>x(N),className:"px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded flex-1",children:" "}),o.jsx("button",{onClick:()=>C(N),className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",children:" "})]})]})},N.id)})}),p&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:_.name,onChange:N=>c({..._,name:N.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"rootdeploy"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:_.username,onChange:N=>c({..._,username:N.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"rootadmin"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 border rounded cursor-pointer ${_.auth_type==="password"?"border-blue-500 bg-blue-50":""}`,children:[o.jsx("input",{type:"radio",name:"auth_type",value:"password",checked:_.auth_type==="password",onChange:N=>c({..._,auth_type:N.target.value})}),o.jsx("span",{children:" "})]}),o.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 border rounded cursor-pointer ${_.auth_type==="key"?"border-purple-500 bg-purple-50":""}`,children:[o.jsx("input",{type:"radio",name:"auth_type",value:"key",checked:_.auth_type==="key",onChange:N=>c({..._,auth_type:N.target.value})}),o.jsx("span",{children:" "})]})]})]}),_.auth_type==="password"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"password",value:_.password,onChange:N=>c({..._,password:N.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("textarea",{value:_.private_key,onChange:N=>c({..._,private_key:N.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:5,placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:_.public_key,onChange:N=>c({..._,public_key:N.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:2,placeholder:"ssh-rsa AAAAB3..."})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"password",value:_.passphrase,onChange:N=>c({..._,passphrase:N.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:_.description,onChange:N=>c({..._,description:N.target.value}),className:"w-full px-3 py-2 border rounded",rows:2,placeholder:""})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),m&&w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"text",value:_.name,onChange:N=>c({..._,name:N.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"text",value:_.username,onChange:N=>c({..._,username:N.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 border rounded cursor-pointer ${_.auth_type==="password"?"border-blue-500 bg-blue-50":""}`,children:[o.jsx("input",{type:"radio",name:"auth_type_edit",value:"password",checked:_.auth_type==="password",onChange:N=>c({..._,auth_type:N.target.value})}),o.jsx("span",{children:" "})]}),o.jsxs("label",{className:`flex-1 flex items-center gap-2 p-3 border rounded cursor-pointer ${_.auth_type==="key"?"border-purple-500 bg-purple-50":""}`,children:[o.jsx("input",{type:"radio",name:"auth_type_edit",value:"key",checked:_.auth_type==="key",onChange:N=>c({..._,auth_type:N.target.value})}),o.jsx("span",{children:" "})]})]})]}),_.auth_type==="password"?o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"password",value:_.password,onChange:N=>c({..._,password:N.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:_.private_key,onChange:N=>c({..._,private_key:N.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:5,placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:_.public_key,onChange:N=>c({..._,public_key:N.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"password",value:_.passphrase,onChange:N=>c({..._,passphrase:N.target.value}),className:"w-full px-3 py-2 border rounded"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:_.description,onChange:N=>c({..._,description:N.target.value}),className:"w-full px-3 py-2 border rounded",rows:2})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})})]})}function $S(){const[e,t]=A.useState(""),[r,s]=A.useState(""),[n,a]=A.useState(!1),[h,i]=A.useState(""),l=Ps(),p=async v=>{var m,g;v.preventDefault(),a(!0),i("");try{const w=await ee.post("/auth/login",{username:e,password:r});console.log("Login response:",w.data);const{access_token:S,refresh_token:_}=w.data;if(!S||!_){i(""),a(!1);return}localStorage.setItem("access_token",S),localStorage.setItem("refresh_token",_),window.dispatchEvent(new Event("authStateChange")),l("/assets",{replace:!0})}catch(w){console.error("Login error:",w),i(((g=(m=w.response)==null?void 0:m.data)==null?void 0:g.error)||w.message||"")}finally{a(!1)}};return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx(Jf,{size:72}),o.jsx("h2",{className:"mt-4 text-center text-3xl font-bold text-gray-900",children:"KMDB"}),o.jsx("p",{className:"mt-1 text-center text-gray-500",children:"DevOps "})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[h&&o.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:""}),o.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:v=>t(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:v=>s(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:n?"...":""})})]})]})})}const bd={active:{label:"",color:"bg-green-100 text-green-800"},inactive:{label:"",color:"bg-red-100 text-red-800"}};function WS(){var Y;const{toast:e}=yt(),{confirm:t,ConfirmDialog:r}=Nr(),[s,n]=A.useState([]),[a,h]=A.useState([]),[i,l]=A.useState([]),[p,v]=A.useState(!0),[m,g]=A.useState(""),[w,S]=A.useState({}),[_,c]=A.useState({}),[d,u]=A.useState(!1),[f,y]=A.useState(!1),[b,E]=A.useState(!1),[C,x]=A.useState(!1),[k,N]=A.useState(!1),[j,D]=A.useState(null),[O,I]=A.useState({username:"",email:"",password:"",status:"active"}),[U,K]=A.useState({new_password:"",confirm_password:""});A.useEffect(()=>{q()},[]);const q=async()=>{v(!0);try{const[z,re,ne]=await Promise.all([ee.get("/users?limit=1000"),ee.get("/roles?limit=100"),ee.get("/teams?limit=100")]),ce=z.data.data||[];n(ce),h(re.data.data||[]),l(ne.data.data||[]),await R(ce)}catch{e({title:"",description:"",variant:"error"})}finally{v(!1)}},R=async z=>{const re={},ne={};await Promise.all(z.map(async ce=>{try{const ie=await ee.get(`/users/${ce.id}/roles`);re[ce.id]=ie.data||[],ne[ce.id]=[]}catch{re[ce.id]=[],ne[ce.id]=[]}})),S(re),c(ne)},P=async z=>{try{const re=await ee.get(`/users/${z}/roles`);S(ne=>({...ne,[z]:re.data||[]}))}catch{console.error("")}},T=s.filter(z=>z.username.toLowerCase().includes(m.toLowerCase())||z.email.toLowerCase().includes(m.toLowerCase())),M=async()=>{var z,re;if(!O.username||!O.email||!O.password){e({title:"",description:"",variant:"error"});return}try{await ee.post("/users",O),e({title:"",description:""}),u(!1),I({username:"",email:"",password:"",status:"active"}),q()}catch(ne){e({title:"",description:((re=(z=ne.response)==null?void 0:z.data)==null?void 0:re.error)||"",variant:"error"})}},W=async()=>{var z,re;if(j)try{await ee.put(`/users/${j.id}`,{username:O.username,email:O.email,status:O.status}),e({title:"",description:""}),y(!1),q()}catch(ne){e({title:"",description:((re=(z=ne.response)==null?void 0:z.data)==null?void 0:re.error)||"",variant:"error"})}},X=async z=>{if(await t("",` "${z.username}" `))try{await ee.delete(`/users/${z.id}`),e({title:"",description:""}),q()}catch{e({title:"",description:"",variant:"error"})}},Q=async()=>{var z,re;if(j){if(U.new_password!==U.confirm_password){e({title:"",description:"",variant:"error"});return}try{await ee.post(`/users/${j.id}/change-password`,{new_password:U.new_password}),e({title:"",description:""}),E(!1),K({new_password:"",confirm_password:""})}catch(ne){e({title:"",description:((re=(z=ne.response)==null?void 0:z.data)==null?void 0:re.error)||"",variant:"error"})}}},Z=async z=>{var re,ne;if(j)try{await ee.post(`/users/${j.id}/roles`,{role_id:z}),e({title:"",description:""}),P(j.id)}catch(ce){e({title:"",description:((ne=(re=ce.response)==null?void 0:re.data)==null?void 0:ne.error)||"",variant:"error"})}},V=async z=>{if(j)try{await ee.delete(`/users/${j.id}/roles/${z}`),e({title:"",description:""}),P(j.id)}catch{e({title:"",description:"",variant:"error"})}},L=async z=>{var re,ne;if(j)try{await ee.post(`/teams/${z}/members`,{user_id:j.id}),e({title:"",description:""}),q()}catch(ce){e({title:"",description:((ne=(re=ce.response)==null?void 0:re.data)==null?void 0:ne.error)||"",variant:"error"})}},B=z=>{D(z),I({username:z.username,email:z.email,password:"",status:z.status}),y(!0)},H=z=>{D(z),K({new_password:"",confirm_password:""}),E(!0)},F=z=>{D(z),x(!0)},J=z=>{D(z),N(!0)};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(r,{}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:()=>{I({username:"",email:"",password:"",status:"active"}),u(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ "})]}),o.jsx("div",{className:"mb-6",children:o.jsx("input",{type:"text",placeholder:" ...",value:m,onChange:z=>g(z.target.value),className:"w-full max-w-md px-4 py-2 border rounded-lg"})}),p?o.jsx("div",{className:"text-center py-8",children:"..."}):T.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(z=>{var re,ne,ce,ie;return o.jsx("div",{className:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow",children:o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:z.username.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold",children:z.username}),o.jsx("div",{className:"text-sm text-gray-500",children:z.email})]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${((re=bd[z.status])==null?void 0:re.color)||"bg-gray-100"}`,children:((ne=bd[z.status])==null?void 0:ne.label)||z.status})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("div",{className:"flex flex-wrap gap-1",children:((ce=w[z.id])==null?void 0:ce.length)>0?w[z.id].map(Ye=>o.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs",children:Ye.name},Ye.id)):o.jsx("span",{className:"text-xs text-gray-400",children:""})})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("div",{className:"text-xs text-gray-500 mb-1",children:""}),o.jsx("div",{className:"flex flex-wrap gap-1",children:((ie=_[z.id])==null?void 0:ie.length)>0?_[z.id].map(Ye=>o.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs",children:Ye.name},Ye.id)):o.jsx("span",{className:"text-xs text-gray-400",children:""})})]}),o.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:[" ",new Date(z.created_at).toLocaleDateString("zh-CN")]}),o.jsxs("div",{className:"flex flex-wrap gap-2 pt-3 border-t",children:[o.jsx("button",{onClick:()=>B(z),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded",children:" "}),o.jsx("button",{onClick:()=>F(z),className:"px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded",children:" "}),o.jsx("button",{onClick:()=>J(z),className:"px-3 py-1.5 text-xs bg-green-100 hover:bg-green-200 text-green-700 rounded",children:" "}),o.jsx("button",{onClick:()=>H(z),className:"px-3 py-1.5 text-xs bg-yellow-100 hover:bg-yellow-200 text-yellow-700 rounded",children:" "}),o.jsx("button",{onClick:()=>X(z),className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",children:" "})]})]})},z.id)})}),d&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:O.username,onChange:z=>I({...O,username:z.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"email",value:O.email,onChange:z=>I({...O,email:z.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"password",value:O.password,onChange:z=>I({...O,password:z.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("select",{value:O.status,onChange:z=>I({...O,status:z.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>u(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),f&&j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"text",value:O.username,onChange:z=>I({...O,username:z.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"email",value:O.email,onChange:z=>I({...O,email:z.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("select",{value:O.status,onChange:z=>I({...O,status:z.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"active",children:""}),o.jsx("option",{value:"inactive",children:""})]})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:W,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),b&&j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[" ",o.jsx("strong",{children:j.username})," "]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"password",value:U.new_password,onChange:z=>K({...U,new_password:z.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"password",value:U.confirm_password,onChange:z=>K({...U,confirm_password:z.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>E(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:Q,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600",children:""})]})]})})}),C&&j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[" ",o.jsx("strong",{children:j.username})," "]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:""}),o.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:((Y=w[j.id])==null?void 0:Y.length)>0?w[j.id].map(z=>o.jsxs("div",{className:"flex justify-between items-center p-2 bg-blue-50 rounded",children:[o.jsx("span",{className:"text-sm font-medium",children:z.name}),o.jsx("button",{onClick:()=>V(z.id),className:"text-red-500 hover:text-red-600 text-sm",children:""})]},z.id)):o.jsx("div",{className:"text-sm text-gray-400 py-2",children:""})})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium mb-2",children:""}),o.jsxs("select",{onChange:z=>{z.target.value&&(Z(z.target.value),z.target.value="")},className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"",children:"..."}),a.filter(z=>{var re;return!((re=w[j.id])!=null&&re.some(ne=>ne.id===z.id))}).map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]})]}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""})})]})})}),k&&j&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:[" ",o.jsx("strong",{children:j.username})," "]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:i.length>0?i.map(z=>o.jsxs("div",{className:"flex justify-between items-center p-3 border rounded hover:bg-gray-50",children:[o.jsx("span",{className:"font-medium",children:z.name}),o.jsx("button",{onClick:()=>L(z.id),className:"px-3 py-1 text-sm bg-green-100 text-green-700 rounded hover:bg-green-200",children:""})]},z.id)):o.jsx("div",{className:"text-center text-gray-400 py-4",children:""})}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""})})]})})})]})}const VS={super_admin:{icon:"",color:"bg-purple-100 text-purple-800 border-purple-300",desc:""},admin:{icon:"",color:"bg-blue-100 text-blue-800 border-blue-300",desc:""},operator:{icon:"",color:"bg-green-100 text-green-800 border-green-300",desc:"SSH"},viewer:{icon:"",color:"bg-gray-100 text-gray-800 border-gray-300",desc:""},dev:{icon:"",color:"bg-cyan-100 text-cyan-800 border-cyan-300",desc:""},ops:{icon:"",color:"bg-orange-100 text-orange-800 border-orange-300",desc:""}};function KS(){const{toast:e}=yt(),{confirm:t,ConfirmDialog:r}=Nr(),[s,n]=A.useState([]),[a,h]=A.useState(!0),[i,l]=A.useState(!1),[p,v]=A.useState(!1),[m,g]=A.useState(!1),[w,S]=A.useState(null),[_,c]=A.useState([]),[d,u]=A.useState({name:"",description:""});A.useEffect(()=>{f()},[]);const f=async()=>{h(!0);try{const j=await ee.get("/roles?limit=100");n(j.data.data||[])}catch{e({title:"",description:"",variant:"error"})}finally{h(!1)}},y=async j=>{try{const O=(await ee.get("/users?limit=1000")).data.data||[],I=[];for(const U of O)try{((await ee.get(`/users/${U.id}/roles`)).data||[]).some(R=>R.id===j)&&I.push(U)}catch{}c(I)}catch{e({title:"",description:"",variant:"error"})}},b=async()=>{var j,D;if(!d.name.trim()){e({title:"",description:"",variant:"error"});return}try{await ee.post("/roles",d),e({title:"",description:""}),l(!1),u({name:"",description:""}),f()}catch(O){e({title:"",description:((D=(j=O.response)==null?void 0:j.data)==null?void 0:D.error)||"",variant:"error"})}},E=async()=>{var j,D;if(w)try{await ee.put(`/roles/${w.id}`,d),e({title:"",description:""}),v(!1),f()}catch(O){e({title:"",description:((D=(j=O.response)==null?void 0:j.data)==null?void 0:D.error)||"",variant:"error"})}},C=async j=>{if(await t("",` "${j.name}" `))try{await ee.delete(`/roles/${j.id}`),e({title:"",description:""}),f()}catch{e({title:"",description:"",variant:"error"})}},x=j=>{S(j),u({name:j.name,description:j.description||""}),v(!0)},k=j=>{S(j),c([]),g(!0),y(j.id)},N=j=>VS[j]||{icon:"",color:"bg-gray-100 text-gray-800 border-gray-300",desc:""};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsx(r,{}),o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:()=>{u({name:"",description:""}),l(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"+ "})]}),o.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-blue-800",children:""}),o.jsx("p",{className:"text-sm text-blue-700 mt-1",children:" "})]})]})}),a?o.jsx("div",{className:"text-center py-8",children:"..."}):s.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:'""'}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(j=>{const D=N(j.name);return o.jsxs("div",{className:`border-2 rounded-lg overflow-hidden ${D.color.includes("border")?D.color.split(" ").find(O=>O.startsWith("border-")):"border-gray-200"}`,children:[o.jsx("div",{className:`p-4 ${D.color.split(" ").slice(0,2).join(" ")}`,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl",children:D.icon}),o.jsx("h3",{className:"text-lg font-bold",children:j.name})]})})}),o.jsxs("div",{className:"p-4 bg-white",children:[o.jsx("p",{className:"text-sm text-gray-600 mb-3",children:j.description||D.desc||""}),o.jsxs("div",{className:"text-xs text-gray-400 mb-3",children:[" ",new Date(j.created_at).toLocaleDateString("zh-CN")]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>k(j),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded flex-1",children:" "}),o.jsx("button",{onClick:()=>x(j),className:"px-3 py-1.5 text-xs bg-blue-100 hover:bg-blue-200 text-blue-700 rounded",children:" "}),o.jsx("button",{onClick:()=>C(j),className:"px-3 py-1.5 text-xs bg-red-100 hover:bg-red-200 text-red-700 rounded",children:""})]})]})]},j.id)})}),i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:d.name,onChange:j=>u({...d,name:j.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"developertester"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:d.description,onChange:j=>u({...d,description:j.target.value}),className:"w-full px-3 py-2 border rounded",rows:3,placeholder:""})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>l(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:b,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),p&&w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("input",{type:"text",value:d.name,onChange:j=>u({...d,name:j.target.value}),className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:d.description,onChange:j=>u({...d,description:j.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),m&&w&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4",children:[o.jsx("span",{className:"mr-2",children:N(w.name).icon}),w.name," "]}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:_.length>0?_.map(j=>o.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold",children:j.username.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:j.username}),o.jsx("div",{className:"text-xs text-gray-500",children:j.email})]})]},j.id)):o.jsx("div",{className:"text-center text-gray-400 py-4",children:""})}),o.jsx("div",{className:"flex justify-end mt-6",children:o.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 border rounded hover:bg-gray-50",children:""})})]})})})]})}function qS(){const[e,t]=A.useState([]),[r,s]=A.useState(!0),[n,a]=A.useState(1),[h,i]=A.useState(0),[l,p]=A.useState({resource_type:"",action:"",user_id:""});A.useEffect(()=>{v()},[n,l]);const v=async()=>{s(!0);try{const g=new URLSearchParams({page:n.toString(),limit:"20"});l.resource_type&&g.append("resource_type",l.resource_type),l.action&&g.append("action",l.action),l.user_id&&g.append("user_id",l.user_id);const w=await ee.get(`/audit-logs?${g.toString()}`);t(w.data.data||[]),i(w.data.total||0)}catch(g){console.error(":",g)}finally{s(!1)}},m=g=>new Date(g).toLocaleString("zh-CN");return o.jsxs("div",{className:"p-8",children:[o.jsx("h1",{className:"text-2xl font-bold mb-6",children:""}),o.jsxs("div",{className:"mb-6 p-4 bg-white rounded shadow",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:""}),o.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:l.resource_type,onChange:g=>p({...l,resource_type:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:": asset, relation"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:""}),o.jsx("input",{type:"text",value:l.action,onChange:g=>p({...l,action:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:": create, update, delete"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-1 text-sm",children:"ID"}),o.jsx("input",{type:"text",value:l.user_id,onChange:g=>p({...l,user_id:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"UUID"})]})]})]}),r?o.jsx("div",{className:"text-center py-8",children:"..."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(g.created_at)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.resource_type}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.action}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.user_id.substring(0,8),"..."]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:o.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded max-w-md overflow-auto",children:JSON.stringify(g.details,null,2)})})]},g.id))})]})}),o.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[o.jsxs("div",{className:"text-sm text-gray-700",children:[" ",h,"  ",n," "]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>a(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border rounded disabled:opacity-50",children:""}),o.jsx("button",{onClick:()=>a(n+1),disabled:n*20>=h,className:"px-4 py-2 border rounded disabled:opacity-50",children:""})]})]})]})]})}var Pm={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={4567:function(h,i,l){var p=this&&this.__decorate||function(f,y,b,E){var C,x=arguments.length,k=x<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,y,b,E);else for(var N=f.length-1;N>=0;N--)(C=f[N])&&(k=(x<3?C(k):x>3?C(y,b,k):C(y,b))||k);return x>3&&k&&Object.defineProperty(y,b,k),k},v=this&&this.__param||function(f,y){return function(b,E){y(b,E,f)}};Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const m=l(9042),g=l(6114),w=l(9924),S=l(844),_=l(5596),c=l(4725),d=l(3656);let u=i.AccessibilityManager=class extends S.Disposable{constructor(f,y){super(),this._terminal=f,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let b=0;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);if(this._topBoundaryFocusListener=b=>this._handleBoundaryFocus(b,0),this._bottomBoundaryFocusListener=b=>this._handleBoundaryFocus(b,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new w.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(b=>this._handleResize(b.rows))),this.register(this._terminal.onRender(b=>this._refreshRows(b.start,b.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(b=>this._handleChar(b))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(b=>this._handleTab(b))),this.register(this._terminal.onKey(b=>this._handleKey(b.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new _.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(f){for(let y=0;y<f;y++)this._handleChar(" ")}_handleChar(f){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==f&&(this._charsToAnnounce+=f):this._charsToAnnounce+=f,f===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(f){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(f)||this._charsToConsume.push(f)}_refreshRows(f,y){this._liveRegionDebouncer.refresh(f,y,this._terminal.rows)}_renderRows(f,y){const b=this._terminal.buffer,E=b.lines.length.toString();for(let C=f;C<=y;C++){const x=b.translateBufferLineToString(b.ydisp+C,!0),k=(b.ydisp+C+1).toString(),N=this._rowElements[C];N&&(x.length===0?N.innerText="":N.textContent=x,N.setAttribute("aria-posinset",k),N.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(f,y){const b=f.target,E=this._rowElements[y===0?1:this._rowElements.length-2];if(b.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||f.relatedTarget!==E)return;let C,x;if(y===0?(C=b,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(C=this._rowElements.shift(),x=b,this._rowContainer.removeChild(C)),C.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const k=this._createAccessibilityTreeNode();this._rowElements.unshift(k),this._rowContainer.insertAdjacentElement("afterbegin",k)}else{const k=this._createAccessibilityTreeNode();this._rowElements.push(k),this._rowContainer.appendChild(k)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),f.preventDefault(),f.stopImmediatePropagation()}_handleResize(f){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const f=document.createElement("div");return f.setAttribute("role","listitem"),f.tabIndex=-1,this._refreshRowDimensions(f),f}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let f=0;f<this._terminal.rows;f++)this._refreshRowDimensions(this._rowElements[f])}}_refreshRowDimensions(f){f.style.height=`${this._renderService.dimensions.css.cell.height}px`}};i.AccessibilityManager=u=p([v(1,c.IRenderService)],u)},3614:(h,i)=>{function l(g){return g.replace(/\r?\n/g,"\r")}function p(g,w){return w?"\x1B[200~"+g+"\x1B[201~":g}function v(g,w,S,_){g=p(g=l(g),S.decPrivateModes.bracketedPasteMode&&_.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(g,!0),w.value=""}function m(g,w,S){const _=S.getBoundingClientRect(),c=g.clientX-_.left-10,d=g.clientY-_.top-10;w.style.width="20px",w.style.height="20px",w.style.left=`${c}px`,w.style.top=`${d}px`,w.style.zIndex="1000",w.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=l,i.bracketTextForPaste=p,i.copyHandler=function(g,w){g.clipboardData&&g.clipboardData.setData("text/plain",w.selectionText),g.preventDefault()},i.handlePasteEvent=function(g,w,S,_){g.stopPropagation(),g.clipboardData&&v(g.clipboardData.getData("text/plain"),w,S,_)},i.paste=v,i.moveTextAreaUnderMouseCursor=m,i.rightClickHandler=function(g,w,S,_,c){m(g,w,S),c&&_.rightClickSelect(g),w.value=_.selectionText,w.select()}},7239:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const p=l(1505);i.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(v,m,g){this._css.set(v,m,g)}getCss(v,m){return this._css.get(v,m)}setColor(v,m,g){this._color.set(v,m,g)}getColor(v,m){return this._color.get(v,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(l,p,v,m){l.addEventListener(p,v,m);let g=!1;return{dispose:()=>{g||(g=!0,l.removeEventListener(p,v,m))}}}},6465:function(h,i,l){var p=this&&this.__decorate||function(c,d,u,f){var y,b=arguments.length,E=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,d,u,f);else for(var C=c.length-1;C>=0;C--)(y=c[C])&&(E=(b<3?y(E):b>3?y(d,u,E):y(d,u))||E);return b>3&&E&&Object.defineProperty(d,u,E),E},v=this&&this.__param||function(c,d){return function(u,f){d(u,f,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const m=l(3656),g=l(8460),w=l(844),S=l(2585);let _=i.Linkifier2=class extends w.Disposable{get currentLink(){return this._currentLink}constructor(c){super(),this._bufferService=c,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,w.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,w.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(c){return this._linkProviders.push(c),{dispose:()=>{const d=this._linkProviders.indexOf(c);d!==-1&&this._linkProviders.splice(d,1)}}}attachToDom(c,d,u){this._element=c,this._mouseService=d,this._renderService=u,this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(c){if(this._lastMouseEvent=c,!this._element||!this._mouseService)return;const d=this._positionFromMouseEvent(c,this._element,this._mouseService);if(!d)return;this._isMouseOut=!1;const u=c.composedPath();for(let f=0;f<u.length;f++){const y=u[f];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&d.x===this._lastBufferCell.x&&d.y===this._lastBufferCell.y||(this._handleHover(d),this._lastBufferCell=d)}_handleHover(c){if(this._activeLine!==c.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(c,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,c)||(this._clearCurrentLink(),this._askForLink(c,!0))}_askForLink(c,d){var u,f;this._activeProviderReplies&&d||((u=this._activeProviderReplies)===null||u===void 0||u.forEach(b=>{b==null||b.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=c.y);let y=!1;for(const[b,E]of this._linkProviders.entries())d?!((f=this._activeProviderReplies)===null||f===void 0)&&f.get(b)&&(y=this._checkLinkProviderResult(b,c,y)):E.provideLinks(c.y,C=>{var x,k;if(this._isMouseOut)return;const N=C==null?void 0:C.map(j=>({link:j}));(x=this._activeProviderReplies)===null||x===void 0||x.set(b,N),y=this._checkLinkProviderResult(b,c,y),((k=this._activeProviderReplies)===null||k===void 0?void 0:k.size)===this._linkProviders.length&&this._removeIntersectingLinks(c.y,this._activeProviderReplies)})}_removeIntersectingLinks(c,d){const u=new Set;for(let f=0;f<d.size;f++){const y=d.get(f);if(y)for(let b=0;b<y.length;b++){const E=y[b],C=E.link.range.start.y<c?0:E.link.range.start.x,x=E.link.range.end.y>c?this._bufferService.cols:E.link.range.end.x;for(let k=C;k<=x;k++){if(u.has(k)){y.splice(b--,1);break}u.add(k)}}}}_checkLinkProviderResult(c,d,u){var f;if(!this._activeProviderReplies)return u;const y=this._activeProviderReplies.get(c);let b=!1;for(let E=0;E<c;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(b=!0);if(!b&&y){const E=y.find(C=>this._linkAtPosition(C.link,d));E&&(u=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!u)for(let E=0;E<this._activeProviderReplies.size;E++){const C=(f=this._activeProviderReplies.get(E))===null||f===void 0?void 0:f.find(x=>this._linkAtPosition(x.link,d));if(C){u=!0,this._handleNewLink(C);break}}return u}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(c){if(!this._element||!this._mouseService||!this._currentLink)return;const d=this._positionFromMouseEvent(c,this._element,this._mouseService);d&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,d)&&this._currentLink.link.activate(c,this._currentLink.link.text)}_clearCurrentLink(c,d){this._element&&this._currentLink&&this._lastMouseEvent&&(!c||!d||this._currentLink.link.range.start.y>=c&&this._currentLink.link.range.end.y<=d)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,w.disposeArray)(this._linkCacheDisposables))}_handleNewLink(c){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const d=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);d&&this._linkAtPosition(c.link,d)&&(this._currentLink=c,this._currentLink.state={decorations:{underline:c.link.decorations===void 0||c.link.decorations.underline,pointerCursor:c.link.decorations===void 0||c.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,c.link,this._lastMouseEvent),c.link.decorations={},Object.defineProperties(c.link.decorations,{pointerCursor:{get:()=>{var u,f;return(f=(u=this._currentLink)===null||u===void 0?void 0:u.state)===null||f===void 0?void 0:f.decorations.pointerCursor},set:u=>{var f,y;!((f=this._currentLink)===null||f===void 0)&&f.state&&this._currentLink.state.decorations.pointerCursor!==u&&(this._currentLink.state.decorations.pointerCursor=u,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",u)))}},underline:{get:()=>{var u,f;return(f=(u=this._currentLink)===null||u===void 0?void 0:u.state)===null||f===void 0?void 0:f.decorations.underline},set:u=>{var f,y,b;!((f=this._currentLink)===null||f===void 0)&&f.state&&((b=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||b===void 0?void 0:b.decorations.underline)!==u&&(this._currentLink.state.decorations.underline=u,this._currentLink.state.isHovered&&this._fireUnderlineEvent(c.link,u))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(u=>{if(!this._currentLink)return;const f=u.start===0?0:u.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+u.end;if(this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(f,y),this._lastMouseEvent&&this._element)){const b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._askForLink(b,!1)}})))}_linkHover(c,d,u){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!0),this._currentLink.state.decorations.pointerCursor&&c.classList.add("xterm-cursor-pointer")),d.hover&&d.hover(u,d.text)}_fireUnderlineEvent(c,d){const u=c.range,f=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(u.start.x-1,u.start.y-f-1,u.end.x,u.end.y-f-1,void 0);(d?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(c,d,u){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(d,!1),this._currentLink.state.decorations.pointerCursor&&c.classList.remove("xterm-cursor-pointer")),d.leave&&d.leave(u,d.text)}_linkAtPosition(c,d){const u=c.range.start.y*this._bufferService.cols+c.range.start.x,f=c.range.end.y*this._bufferService.cols+c.range.end.x,y=d.y*this._bufferService.cols+d.x;return u<=y&&y<=f}_positionFromMouseEvent(c,d,u){const f=u.getCoords(c,d,this._bufferService.cols,this._bufferService.rows);if(f)return{x:f[0],y:f[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(c,d,u,f,y){return{x1:c,y1:d,x2:u,y2:f,cols:this._bufferService.cols,fg:y}}};i.Linkifier2=_=p([v(0,S.IBufferService)],_)},9042:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(h,i,l){var p=this&&this.__decorate||function(_,c,d,u){var f,y=arguments.length,b=y<3?c:u===null?u=Object.getOwnPropertyDescriptor(c,d):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(_,c,d,u);else for(var E=_.length-1;E>=0;E--)(f=_[E])&&(b=(y<3?f(b):y>3?f(c,d,b):f(c,d))||b);return y>3&&b&&Object.defineProperty(c,d,b),b},v=this&&this.__param||function(_,c){return function(d,u){c(d,u,_)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const m=l(511),g=l(2585);let w=i.OscLinkProvider=class{constructor(_,c,d){this._bufferService=_,this._optionsService=c,this._oscLinkService=d}provideLinks(_,c){var d;const u=this._bufferService.buffer.lines.get(_-1);if(!u)return void c(void 0);const f=[],y=this._optionsService.rawOptions.linkHandler,b=new m.CellData,E=u.getTrimmedLength();let C=-1,x=-1,k=!1;for(let N=0;N<E;N++)if(x!==-1||u.hasContent(N)){if(u.loadCell(N,b),b.hasExtendedAttrs()&&b.extended.urlId){if(x===-1){x=N,C=b.extended.urlId;continue}k=b.extended.urlId!==C}else x!==-1&&(k=!0);if(k||x!==-1&&N===E-1){const j=(d=this._oscLinkService.getLinkData(C))===null||d===void 0?void 0:d.uri;if(j){const D={start:{x:x+1,y:_},end:{x:N+(k||N!==E-1?0:1),y:_}};let O=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const I=new URL(j);["http:","https:"].includes(I.protocol)||(O=!0)}catch{O=!0}O||f.push({text:j,range:D,activate:(I,U)=>y?y.activate(I,U,D):S(0,U),hover:(I,U)=>{var K;return(K=y==null?void 0:y.hover)===null||K===void 0?void 0:K.call(y,I,U,D)},leave:(I,U)=>{var K;return(K=y==null?void 0:y.leave)===null||K===void 0?void 0:K.call(y,I,U,D)}})}k=!1,b.hasExtendedAttrs()&&b.extended.urlId?(x=N,C=b.extended.urlId):(x=-1,C=-1)}}c(f)}};function S(_,c){if(confirm(`Do you want to navigate to ${c}?

WARNING: This link could potentially be dangerous`)){const d=window.open();if(d){try{d.opener=null}catch{}d.location.href=c}else console.warn("Opening link blocked as opener could not be cleared")}}i.OscLinkProvider=w=p([v(0,g.IBufferService),v(1,g.IOptionsService),v(2,g.IOscLinkService)],w)},6193:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(l,p){this._parentWindow=l,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,p,v){this._rowCount=v,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const p=l(844);class v extends p.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=v},3236:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const p=l(3614),v=l(3656),m=l(6465),g=l(9042),w=l(3730),S=l(1680),_=l(3107),c=l(5744),d=l(2950),u=l(1296),f=l(428),y=l(4269),b=l(5114),E=l(8934),C=l(3230),x=l(9312),k=l(4725),N=l(6731),j=l(8055),D=l(8969),O=l(8460),I=l(844),U=l(6114),K=l(8437),q=l(2584),R=l(7399),P=l(5941),T=l(9074),M=l(2585),W=l(5435),X=l(4567),Q=typeof window<"u"?window.document:null;class Z extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(L={}){super(L),this.browser=U,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new I.MutableDisposable),this._onCursorMove=this.register(new O.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new O.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new O.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new O.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new O.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new O.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new O.EventEmitter),this._onBlur=this.register(new O.EventEmitter),this._onA11yCharEmitter=this.register(new O.EventEmitter),this._onA11yTabEmitter=this.register(new O.EventEmitter),this._onWillOpen=this.register(new O.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(m.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(w.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(T.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((B,H)=>this.refresh(B,H))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(B=>this._reportWindowsOptions(B))),this.register(this._inputHandler.onColor(B=>this._handleColorEvent(B))),this.register((0,O.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,O.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,O.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,O.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(B=>this._afterResize(B.cols,B.rows))),this.register((0,I.toDisposable)(()=>{var B,H;this._customKeyEventHandler=void 0,(H=(B=this.element)===null||B===void 0?void 0:B.parentNode)===null||H===void 0||H.removeChild(this.element)}))}_handleColorEvent(L){if(this._themeService)for(const B of L){let H,F="";switch(B.index){case 256:H="foreground",F="10";break;case 257:H="background",F="11";break;case 258:H="cursor",F="12";break;default:H="ansi",F="4;"+B.index}switch(B.type){case 0:const J=j.color.toColorRGB(H==="ansi"?this._themeService.colors.ansi[B.index]:this._themeService.colors[H]);this.coreService.triggerDataEvent(`${q.C0.ESC}]${F};${(0,P.toRgbString)(J)}${q.C1_ESCAPED.ST}`);break;case 1:if(H==="ansi")this._themeService.modifyColors(Y=>Y.ansi[B.index]=j.rgba.toColor(...B.color));else{const Y=H;this._themeService.modifyColors(z=>z[Y]=j.rgba.toColor(...B.color))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(L){L?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(L){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(q.C0.ESC+"[I"),this.updateCursorStyle(L),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var L;return(L=this.textarea)===null||L===void 0?void 0:L.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(q.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const L=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(L);if(!B)return;const H=Math.min(this.buffer.x,this.cols-1),F=this._renderService.dimensions.css.cell.height,J=B.getWidth(H),Y=this._renderService.dimensions.css.cell.width*J,z=this.buffer.y*this._renderService.dimensions.css.cell.height,re=H*this._renderService.dimensions.css.cell.width;this.textarea.style.left=re+"px",this.textarea.style.top=z+"px",this.textarea.style.width=Y+"px",this.textarea.style.height=F+"px",this.textarea.style.lineHeight=F+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",B=>{this.hasSelection()&&(0,p.copyHandler)(B,this._selectionService)}));const L=B=>(0,p.handlePasteEvent)(B,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",L)),this.register((0,v.addDisposableDomListener)(this.element,"paste",L)),U.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",B=>{B.button===2&&(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",B=>{(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),U.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",B=>{B.button===1&&(0,p.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",L=>this._keyUp(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",L=>this._keyDown(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",L=>this._keyPress(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",L=>this._compositionHelper.compositionupdate(L))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",L=>this._inputEvent(L),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(L){var B;if(!L)throw new Error("Terminal requires a parent element.");L.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=L.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),L.appendChild(this.element);const H=Q.createDocumentFragment();this._viewportElement=Q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),H.appendChild(this._viewportElement),this._viewportScrollArea=Q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=Q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=Q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),H.appendChild(this.screenElement),this.textarea=Q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),U.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,(B=this._document.defaultView)!==null&&B!==void 0?B:window),this._instantiationService.setService(k.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",F=>this._handleTextAreaFocus(F))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(k.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(k.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(k.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(C.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(k.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(F=>this._onRender.fire(F))),this.onResize(F=>this._renderService.resize(F.cols,F.rows)),this._compositionView=Q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(H);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(k.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(F=>this.scrollLines(F.amount,F.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(k.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(F=>this.scrollLines(F.amount,F.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(F=>this._renderService.handleSelectionChanged(F.start,F.end,F.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(F=>{this.textarea.value=F,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(F=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(_.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",F=>this._selectionService.handleMouseDown(F))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",F=>this._handleScreenReaderModeOptionChange(F))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",F=>{!this._overviewRulerRenderer&&F&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(c.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(u.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const L=this,B=this.element;function H(Y){const z=L._mouseService.getMouseReportCoords(Y,L.screenElement);if(!z)return!1;let re,ne;switch(Y.overrideType||Y.type){case"mousemove":ne=32,Y.buttons===void 0?(re=3,Y.button!==void 0&&(re=Y.button<3?Y.button:3)):re=1&Y.buttons?0:4&Y.buttons?1:2&Y.buttons?2:3;break;case"mouseup":ne=0,re=Y.button<3?Y.button:3;break;case"mousedown":ne=1,re=Y.button<3?Y.button:3;break;case"wheel":if(L.viewport.getLinesScrolled(Y)===0)return!1;ne=Y.deltaY<0?0:1,re=4;break;default:return!1}return!(ne===void 0||re===void 0||re>4)&&L.coreMouseService.triggerMouseEvent({col:z.col,row:z.row,x:z.x,y:z.y,button:re,action:ne,ctrl:Y.ctrlKey,alt:Y.altKey,shift:Y.shiftKey})}const F={mouseup:null,wheel:null,mousedrag:null,mousemove:null},J={mouseup:Y=>(H(Y),Y.buttons||(this._document.removeEventListener("mouseup",F.mouseup),F.mousedrag&&this._document.removeEventListener("mousemove",F.mousedrag)),this.cancel(Y)),wheel:Y=>(H(Y),this.cancel(Y,!0)),mousedrag:Y=>{Y.buttons&&H(Y)},mousemove:Y=>{Y.buttons||H(Y)}};this.register(this.coreMouseService.onProtocolChange(Y=>{Y?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Y)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Y?F.mousemove||(B.addEventListener("mousemove",J.mousemove),F.mousemove=J.mousemove):(B.removeEventListener("mousemove",F.mousemove),F.mousemove=null),16&Y?F.wheel||(B.addEventListener("wheel",J.wheel,{passive:!1}),F.wheel=J.wheel):(B.removeEventListener("wheel",F.wheel),F.wheel=null),2&Y?F.mouseup||(B.addEventListener("mouseup",J.mouseup),F.mouseup=J.mouseup):(this._document.removeEventListener("mouseup",F.mouseup),B.removeEventListener("mouseup",F.mouseup),F.mouseup=null),4&Y?F.mousedrag||(F.mousedrag=J.mousedrag):(this._document.removeEventListener("mousemove",F.mousedrag),F.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(B,"mousedown",Y=>{if(Y.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Y))return H(Y),F.mouseup&&this._document.addEventListener("mouseup",F.mouseup),F.mousedrag&&this._document.addEventListener("mousemove",F.mousedrag),this.cancel(Y)})),this.register((0,v.addDisposableDomListener)(B,"wheel",Y=>{if(!F.wheel){if(!this.buffer.hasScrollback){const z=this.viewport.getLinesScrolled(Y);if(z===0)return;const re=q.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Y.deltaY<0?"A":"B");let ne="";for(let ce=0;ce<Math.abs(z);ce++)ne+=re;return this.coreService.triggerDataEvent(ne,!0),this.cancel(Y,!0)}return this.viewport.handleWheel(Y)?this.cancel(Y):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(B,"touchstart",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Y),this.cancel(Y)},{passive:!0})),this.register((0,v.addDisposableDomListener)(B,"touchmove",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Y)?void 0:this.cancel(Y)},{passive:!1}))}refresh(L,B){var H;(H=this._renderService)===null||H===void 0||H.refreshRows(L,B)}updateCursorStyle(L){var B;!((B=this._selectionService)===null||B===void 0)&&B.shouldColumnSelect(L)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(L,B,H=0){var F;H===1?(super.scrollLines(L,B,H),this.refresh(0,this.rows-1)):(F=this.viewport)===null||F===void 0||F.scrollLines(L)}paste(L){(0,p.paste)(L,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(L){this._customKeyEventHandler=L}registerLinkProvider(L){return this.linkifier2.registerLinkProvider(L)}registerCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(L);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(L)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(L){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+L)}registerDecoration(L){return this._decorationService.registerDecoration(L)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(L,B,H){this._selectionService.setSelection(L,B,H)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var L;(L=this._selectionService)===null||L===void 0||L.clearSelection()}selectAll(){var L;(L=this._selectionService)===null||L===void 0||L.selectAll()}selectLines(L,B){var H;(H=this._selectionService)===null||H===void 0||H.selectLines(L,B)}_keyDown(L){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&L.altKey;if(!B&&!this._compositionHelper.keydown(L))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;B||L.key!=="Dead"&&L.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const H=(0,R.evaluateKeyboardEvent)(L,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(L),H.type===3||H.type===2){const F=this.rows-1;return this.scrollLines(H.type===2?-F:F),this.cancel(L,!0)}return H.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,L)||(H.cancel&&this.cancel(L,!0),!H.key||!!(L.key&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.key.length===1&&L.key.charCodeAt(0)>=65&&L.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(H.key!==q.C0.ETX&&H.key!==q.C0.CR||(this.textarea.value=""),this._onKey.fire({key:H.key,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(H.key,!0),!this.optionsService.rawOptions.screenReaderMode||L.altKey||L.ctrlKey?this.cancel(L,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(L,B){const H=L.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||L.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||L.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?H:H&&(!B.keyCode||B.keyCode>47)}_keyUp(L){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(L)||this.focus(),this.updateCursorStyle(L),this._keyPressHandled=!1)}_keyPress(L){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;if(this.cancel(L),L.charCode)B=L.charCode;else if(L.which===null||L.which===void 0)B=L.keyCode;else{if(L.which===0||L.charCode===0)return!1;B=L.which}return!(!B||(L.altKey||L.ctrlKey||L.metaKey)&&!this._isThirdLevelShift(this.browser,L)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(L){if(L.data&&L.inputType==="insertText"&&(!L.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const B=L.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(L),!0}return!1}resize(L,B){L!==this.cols||B!==this.rows?super.resize(L,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(L,B){var H,F;(H=this._charSizeService)===null||H===void 0||H.measure(),(F=this.viewport)===null||F===void 0||F.syncScrollArea(!0)}clear(){var L;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let B=1;B<this.rows;B++)this.buffer.lines.push(this.buffer.getBlankLine(K.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(L=this.viewport)===null||L===void 0||L.reset(),this.refresh(0,this.rows-1)}}reset(){var L,B;this.options.rows=this.rows,this.options.cols=this.cols;const H=this._customKeyEventHandler;this._setup(),super.reset(),(L=this._selectionService)===null||L===void 0||L.reset(),this._decorationService.reset(),(B=this.viewport)===null||B===void 0||B.reset(),this._customKeyEventHandler=H,this.refresh(0,this.rows-1)}clearTextureAtlas(){var L;(L=this._renderService)===null||L===void 0||L.clearTextureAtlas()}_reportFocus(){var L;!((L=this.element)===null||L===void 0)&&L.classList.contains("focus")?this.coreService.triggerDataEvent(q.C0.ESC+"[I"):this.coreService.triggerDataEvent(q.C0.ESC+"[O")}_reportWindowsOptions(L){if(this._renderService)switch(L){case W.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),H=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${q.C0.ESC}[4;${H};${B}t`);break;case W.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const F=this._renderService.dimensions.css.cell.width.toFixed(0),J=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${q.C0.ESC}[6;${J};${F}t`)}}cancel(L,B){if(this.options.cancelEvents||B)return L.preventDefault(),L.stopPropagation(),!1}}i.Terminal=Z},9924:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(l,p=1e3){this._renderCallback=l,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,p,v){this._rowCount=v,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=m-this._lastRefreshMs,w=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},w)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p)}}},1680:function(h,i,l){var p=this&&this.__decorate||function(d,u,f,y){var b,E=arguments.length,C=E<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,f):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,u,f,y);else for(var x=d.length-1;x>=0;x--)(b=d[x])&&(C=(E<3?b(C):E>3?b(u,f,C):b(u,f))||C);return E>3&&C&&Object.defineProperty(u,f,C),C},v=this&&this.__param||function(d,u){return function(f,y){u(f,y,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const m=l(3656),g=l(4725),w=l(8460),S=l(844),_=l(2585);let c=i.Viewport=class extends S.Disposable{constructor(d,u,f,y,b,E,C,x){super(),this._viewportElement=d,this._scrollArea=u,this._bufferService=f,this._optionsService=y,this._charSizeService=b,this._renderService=E,this._coreBrowserService=C,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(k=>this._activeBuffer=k.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(k=>this._renderDimensions=k)),this._handleThemeChange(x.colors),this.register(x.onChangeColors(k=>this._handleThemeChange(k))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(d){this._viewportElement.style.backgroundColor=d.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(d){if(d)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const u=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==u&&(this._lastRecordedBufferHeight=u,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const d=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==d&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=d),this._refreshAnimationFrame=null}syncScrollArea(d=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(d);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(d)}_handleScroll(d){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const u=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const d=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(d*(this._smoothScrollState.target-this._smoothScrollState.origin)),d<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(d,u){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(u<0&&this._viewportElement.scrollTop!==0||u>0&&f<this._lastRecordedBufferHeight)||(d.cancelable&&d.preventDefault(),!1)}handleWheel(d){const u=this._getPixelsScrolled(d);return u!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+u:this._smoothScrollState.target+=u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=u,this._bubbleScroll(d,u))}scrollLines(d){if(d!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const u=d*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+u,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:d,suppressScrollEvent:!1})}_getPixelsScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let u=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_LINE?u*=this._currentRowHeight:d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._currentRowHeight*this._bufferService.rows),u}getBufferElements(d,u){var f;let y,b="";const E=[],C=u??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let k=d;k<C;k++){const N=x.get(k);if(!N)continue;const j=(f=x.get(k+1))===null||f===void 0?void 0:f.isWrapped;if(b+=N.translateToString(!j),!j||k===x.length-1){const D=document.createElement("div");D.textContent=b,E.push(D),b.length>0&&(y=D),b=""}}return{bufferElements:E,cursorElement:y}}getLinesScrolled(d){if(d.deltaY===0||d.shiftKey)return 0;let u=this._applyScrollModifier(d.deltaY,d);return d.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(u/=this._currentRowHeight+0,this._wheelPartialScroll+=u,u=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):d.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(u*=this._bufferService.rows),u}_applyScrollModifier(d,u){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&u.altKey||f==="ctrl"&&u.ctrlKey||f==="shift"&&u.shiftKey?d*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:d*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(d){this._lastTouchY=d.touches[0].pageY}handleTouchMove(d){const u=this._lastTouchY-d.touches[0].pageY;return this._lastTouchY=d.touches[0].pageY,u!==0&&(this._viewportElement.scrollTop+=u,this._bubbleScroll(d,u))}};i.Viewport=c=p([v(2,_.IBufferService),v(3,_.IOptionsService),v(4,g.ICharSizeService),v(5,g.IRenderService),v(6,g.ICoreBrowserService),v(7,g.IThemeService)],c)},3107:function(h,i,l){var p=this&&this.__decorate||function(c,d,u,f){var y,b=arguments.length,E=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,d,u,f);else for(var C=c.length-1;C>=0;C--)(y=c[C])&&(E=(b<3?y(E):b>3?y(d,u,E):y(d,u))||E);return b>3&&E&&Object.defineProperty(d,u,E),E},v=this&&this.__param||function(c,d){return function(u,f){d(u,f,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const m=l(3656),g=l(4725),w=l(844),S=l(2585);let _=i.BufferDecorationRenderer=class extends w.Disposable{constructor(c,d,u,f){super(),this._screenElement=c,this._bufferService=d,this._decorationService=u,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,m.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,w.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const c of this._decorationService.decorations)this._renderDecoration(c);this._dimensionsChanged=!1}_renderDecoration(c){this._refreshStyle(c),this._dimensionsChanged&&this._refreshXPosition(c)}_createElement(c){var d,u;const f=document.createElement("div");f.classList.add("xterm-decoration"),f.classList.toggle("xterm-decoration-top-layer",((d=c==null?void 0:c.options)===null||d===void 0?void 0:d.layer)==="top"),f.style.width=`${Math.round((c.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,f.style.height=(c.options.height||1)*this._renderService.dimensions.css.cell.height+"px",f.style.top=(c.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",f.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(u=c.options.x)!==null&&u!==void 0?u:0;return y&&y>this._bufferService.cols&&(f.style.display="none"),this._refreshXPosition(c,f),f}_refreshStyle(c){const d=c.marker.line-this._bufferService.buffers.active.ydisp;if(d<0||d>=this._bufferService.rows)c.element&&(c.element.style.display="none",c.onRenderEmitter.fire(c.element));else{let u=this._decorationElements.get(c);u||(u=this._createElement(c),c.element=u,this._decorationElements.set(c,u),this._container.appendChild(u),c.onDispose(()=>{this._decorationElements.delete(c),u.remove()})),u.style.top=d*this._renderService.dimensions.css.cell.height+"px",u.style.display=this._altBufferIsActive?"none":"block",c.onRenderEmitter.fire(u)}}_refreshXPosition(c,d=c.element){var u;if(!d)return;const f=(u=c.options.x)!==null&&u!==void 0?u:0;(c.options.anchor||"left")==="right"?d.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":d.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(c){var d;(d=this._decorationElements.get(c))===null||d===void 0||d.remove(),this._decorationElements.delete(c),c.dispose()}};i.BufferDecorationRenderer=_=p([v(1,S.IBufferService),v(2,S.IDecorationService),v(3,g.IRenderService)],_)},5871:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const p of this._zones)if(p.color===l.options.overviewRulerOptions.color&&p.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,l.marker.line))return;if(this._lineAdjacentToZone(p,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(p,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,p){return p>=l.startBufferLine&&p<=l.endBufferLine}_lineAdjacentToZone(l,p,v){return p>=l.startBufferLine-this._linePadding[v||"full"]&&p<=l.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(l,p){l.startBufferLine=Math.min(l.startBufferLine,p),l.endBufferLine=Math.max(l.endBufferLine,p)}}},5744:function(h,i,l){var p=this&&this.__decorate||function(y,b,E,C){var x,k=arguments.length,N=k<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,E):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,b,E,C);else for(var j=y.length-1;j>=0;j--)(x=y[j])&&(N=(k<3?x(N):k>3?x(b,E,N):x(b,E))||N);return k>3&&N&&Object.defineProperty(b,E,N),N},v=this&&this.__param||function(y,b){return function(E,C){b(E,C,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const m=l(5871),g=l(3656),w=l(4725),S=l(844),_=l(2585),c={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0};let f=i.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,b,E,C,x,k,N){var j;super(),this._viewportElement=y,this._screenElement=b,this._bufferService=E,this._decorationService=C,this._renderService=x,this._optionsService=k,this._coreBrowseService=N,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(j=this._viewportElement.parentElement)===null||j===void 0||j.insertBefore(this._canvas,this._viewportElement);const D=this._canvas.getContext("2d");if(!D)throw new Error("Ctx cannot be null");this._ctx=D,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var O;(O=this._canvas)===null||O===void 0||O.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),b=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=y,d.center=b,d.right=y,this._refreshDrawHeightConstants(),u.full=0,u.left=0,u.center=d.left,u.right=d.left+d.center}_refreshDrawHeightConstants(){c.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,b=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);c.left=b,c.center=b,c.right=b}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*c.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const b of this._decorationService.decorations)this._colorZoneStore.addDecoration(b);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const b of y)b.position!=="full"&&this._renderColorZone(b);for(const b of y)b.position==="full"&&this._renderColorZone(b);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(u[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-c[y.position||"full"]/2),d[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+c[y.position||"full"]))}_queueRefresh(y,b){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=b||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};i.OverviewRulerRenderer=f=p([v(2,_.IBufferService),v(3,_.IDecorationService),v(4,w.IRenderService),v(5,_.IOptionsService),v(6,w.ICoreBrowserService)],f)},2950:function(h,i,l){var p=this&&this.__decorate||function(_,c,d,u){var f,y=arguments.length,b=y<3?c:u===null?u=Object.getOwnPropertyDescriptor(c,d):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(_,c,d,u);else for(var E=_.length-1;E>=0;E--)(f=_[E])&&(b=(y<3?f(b):y>3?f(c,d,b):f(c,d))||b);return y>3&&b&&Object.defineProperty(c,d,b),b},v=this&&this.__param||function(_,c){return function(d,u){c(d,u,_)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const m=l(4725),g=l(2585),w=l(2584);let S=i.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(_,c,d,u,f,y){this._textarea=_,this._compositionView=c,this._bufferService=d,this._optionsService=u,this._coreService=f,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(_){this._compositionView.textContent=_.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(_){if(this._isComposing||this._isSendingComposition){if(_.keyCode===229||_.keyCode===16||_.keyCode===17||_.keyCode===18)return!1;this._finalizeComposition(!1)}return _.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(_){if(this._compositionView.classList.remove("active"),this._isComposing=!1,_){const c={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let d;this._isSendingComposition=!1,c.start+=this._dataAlreadySent.length,d=this._isComposing?this._textarea.value.substring(c.start,c.end):this._textarea.value.substring(c.start),d.length>0&&this._coreService.triggerDataEvent(d,!0)}},0)}else{this._isSendingComposition=!1;const c=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(c,!0)}}_handleAnyTextareaChanges(){const _=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const c=this._textarea.value,d=c.replace(_,"");this._dataAlreadySent=d,c.length>_.length?this._coreService.triggerDataEvent(d,!0):c.length<_.length?this._coreService.triggerDataEvent(`${w.C0.DEL}`,!0):c.length===_.length&&c!==_&&this._coreService.triggerDataEvent(c,!0)}},0)}updateCompositionElements(_){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const c=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),d=this._renderService.dimensions.css.cell.height,u=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=c*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=u+"px",this._compositionView.style.height=d+"px",this._compositionView.style.lineHeight=d+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=u+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}_||setTimeout(()=>this.updateCompositionElements(!0),0)}}};i.CompositionHelper=S=p([v(2,g.IBufferService),v(3,g.IOptionsService),v(4,g.ICoreService),v(5,m.IRenderService)],S)},9806:(h,i)=>{function l(p,v,m){const g=m.getBoundingClientRect(),w=p.getComputedStyle(m),S=parseInt(w.getPropertyValue("padding-left")),_=parseInt(w.getPropertyValue("padding-top"));return[v.clientX-g.left-S,v.clientY-g.top-_]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=l,i.getCoords=function(p,v,m,g,w,S,_,c,d){if(!S)return;const u=l(p,v,m);return u?(u[0]=Math.ceil((u[0]+(d?_/2:0))/_),u[1]=Math.ceil(u[1]/c),u[0]=Math.min(Math.max(u[0],1),g+(d?1:0)),u[1]=Math.min(Math.max(u[1],1),w),u):void 0}},9504:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const p=l(2584);function v(c,d,u,f){const y=c-m(c,u),b=d-m(d,u),E=Math.abs(y-b)-function(C,x,k){let N=0;const j=C-m(C,k),D=x-m(x,k);for(let O=0;O<Math.abs(j-D);O++){const I=g(C,x)==="A"?-1:1,U=k.buffer.lines.get(j+I*O);U!=null&&U.isWrapped&&N++}return N}(c,d,u);return _(E,S(g(c,d),f))}function m(c,d){let u=0,f=d.buffer.lines.get(c),y=f==null?void 0:f.isWrapped;for(;y&&c>=0&&c<d.rows;)u++,f=d.buffer.lines.get(--c),y=f==null?void 0:f.isWrapped;return u}function g(c,d){return c>d?"A":"B"}function w(c,d,u,f,y,b){let E=c,C=d,x="";for(;E!==u||C!==f;)E+=y?1:-1,y&&E>b.cols-1?(x+=b.buffer.translateBufferLineToString(C,!1,c,E),E=0,c=0,C++):!y&&E<0&&(x+=b.buffer.translateBufferLineToString(C,!1,0,c+1),E=b.cols-1,c=E,C--);return x+b.buffer.translateBufferLineToString(C,!1,c,E)}function S(c,d){const u=d?"O":"[";return p.C0.ESC+u+c}function _(c,d){c=Math.floor(c);let u="";for(let f=0;f<c;f++)u+=d;return u}i.moveToCellSequence=function(c,d,u,f){const y=u.buffer.x,b=u.buffer.y;if(!u.buffer.hasScrollback)return function(x,k,N,j,D,O){return v(k,j,D,O).length===0?"":_(w(x,k,x,k-m(k,D),!1,D).length,S("D",O))}(y,b,0,d,u,f)+v(b,d,u,f)+function(x,k,N,j,D,O){let I;I=v(k,j,D,O).length>0?j-m(j,D):k;const U=j,K=function(q,R,P,T,M,W){let X;return X=v(P,T,M,W).length>0?T-m(T,M):R,q<P&&X<=T||q>=P&&X<T?"C":"D"}(x,k,N,j,D,O);return _(w(x,I,N,U,K==="C",D).length,S(K,O))}(y,b,c,d,u,f);let E;if(b===d)return E=y>c?"D":"C",_(Math.abs(y-c),S(E,f));E=b>d?"D":"C";const C=Math.abs(b-d);return _(function(x,k){return k.cols-x}(b>d?c:y,u)+(C-1)*u.cols+1+((b>d?y:c)-1),S(E,f))}},1296:function(h,i,l){var p=this&&this.__decorate||function(D,O,I,U){var K,q=arguments.length,R=q<3?O:U===null?U=Object.getOwnPropertyDescriptor(O,I):U;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(D,O,I,U);else for(var P=D.length-1;P>=0;P--)(K=D[P])&&(R=(q<3?K(R):q>3?K(O,I,R):K(O,I))||R);return q>3&&R&&Object.defineProperty(O,I,R),R},v=this&&this.__param||function(D,O){return function(I,U){O(I,U,D)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const m=l(3787),g=l(2550),w=l(2223),S=l(6171),_=l(4725),c=l(8055),d=l(8460),u=l(844),f=l(2585),y="xterm-dom-renderer-owner-",b="xterm-rows",E="xterm-fg-",C="xterm-bg-",x="xterm-focus",k="xterm-selection";let N=1,j=i.DomRenderer=class extends u.Disposable{constructor(D,O,I,U,K,q,R,P,T,M){super(),this._element=D,this._screenElement=O,this._viewportElement=I,this._linkifier2=U,this._charSizeService=q,this._optionsService=R,this._bufferService=P,this._coreBrowserService=T,this._themeService=M,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(b),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(k),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(W=>this._injectCss(W))),this._injectCss(this._themeService.colors),this._rowFactory=K.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(W=>this._handleLinkHover(W))),this.register(this._linkifier2.onHideLinkUnderline(W=>this._handleLinkLeave(W))),this.register((0,u.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const I of this._rowElements)I.style.width=`${this.dimensions.css.canvas.width}px`,I.style.height=`${this.dimensions.css.cell.height}px`,I.style.lineHeight=`${this.dimensions.css.cell.height}px`,I.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const O=`${this._terminalSelector} .${b} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=O,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let O=`${this._terminalSelector} .${b} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;O+=`${this._terminalSelector} .${b} .xterm-dim { color: ${c.color.multiplyOpacity(D.foreground,.5).css};}`,O+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,O+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",O+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,O+=`${this._terminalSelector} .${b}.${x} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${b}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,O+=`${this._terminalSelector} .${k} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${k} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${k} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[I,U]of D.ansi.entries())O+=`${this._terminalSelector} .${E}${I} { color: ${U.css}; }${this._terminalSelector} .${E}${I}.xterm-dim { color: ${c.color.multiplyOpacity(U,.5).css}; }${this._terminalSelector} .${C}${I} { background-color: ${U.css}; }`;O+=`${this._terminalSelector} .${E}${w.INVERTED_DEFAULT_COLOR} { color: ${c.color.opaque(D.background).css}; }${this._terminalSelector} .${E}${w.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${c.color.multiplyOpacity(c.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${C}${w.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=O}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,O){for(let I=this._rowElements.length;I<=O;I++){const U=document.createElement("div");this._rowContainer.appendChild(U),this._rowElements.push(U)}for(;this._rowElements.length>O;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,O){this._refreshRowElements(D,O),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,O,I){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,O,I),this.renderRows(0,this._bufferService.rows-1),!D||!O)return;const U=D[1]-this._bufferService.buffer.ydisp,K=O[1]-this._bufferService.buffer.ydisp,q=Math.max(U,0),R=Math.min(K,this._bufferService.rows-1);if(q>=this._bufferService.rows||R<0)return;const P=document.createDocumentFragment();if(I){const T=D[0]>O[0];P.appendChild(this._createSelectionElement(q,T?O[0]:D[0],T?D[0]:O[0],R-q+1))}else{const T=U===q?D[0]:0,M=q===K?O[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(q,T,M));const W=R-q-1;if(P.appendChild(this._createSelectionElement(q+1,0,this._bufferService.cols,W)),q!==R){const X=K===R?O[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(R,0,X))}}this._selectionContainer.appendChild(P)}_createSelectionElement(D,O,I,U=1){const K=document.createElement("div");return K.style.height=U*this.dimensions.css.cell.height+"px",K.style.top=D*this.dimensions.css.cell.height+"px",K.style.left=O*this.dimensions.css.cell.width+"px",K.style.width=this.dimensions.css.cell.width*(I-O)+"px",K}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,O){const I=this._bufferService.buffer,U=I.ybase+I.y,K=Math.min(I.x,this._bufferService.cols-1),q=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let T=D;T<=O;T++){const M=T+I.ydisp,W=this._rowElements[T],X=I.lines.get(M);if(!W||!X)break;W.replaceChildren(...this._rowFactory.createRow(X,M,M===U,R,P,K,q,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,O,I,U,K,q){I<0&&(D=0),U<0&&(O=0);const R=this._bufferService.rows-1;I=Math.max(Math.min(I,R),0),U=Math.max(Math.min(U,R),0),K=Math.min(K,this._bufferService.cols);const P=this._bufferService.buffer,T=P.ybase+P.y,M=Math.min(P.x,K-1),W=this._optionsService.rawOptions.cursorBlink,X=this._optionsService.rawOptions.cursorStyle,Q=this._optionsService.rawOptions.cursorInactiveStyle;for(let Z=I;Z<=U;++Z){const V=Z+P.ydisp,L=this._rowElements[Z],B=P.lines.get(V);if(!L||!B)break;L.replaceChildren(...this._rowFactory.createRow(B,V,V===T,X,Q,M,W,this.dimensions.css.cell.width,this._widthCache,q?Z===I?D:0:-1,q?(Z===U?O:K)-1:-1))}}};i.DomRenderer=j=p([v(4,f.IInstantiationService),v(5,_.ICharSizeService),v(6,f.IOptionsService),v(7,f.IBufferService),v(8,_.ICoreBrowserService),v(9,_.IThemeService)],j)},3787:function(h,i,l){var p=this&&this.__decorate||function(E,C,x,k){var N,j=arguments.length,D=j<3?C:k===null?k=Object.getOwnPropertyDescriptor(C,x):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(E,C,x,k);else for(var O=E.length-1;O>=0;O--)(N=E[O])&&(D=(j<3?N(D):j>3?N(C,x,D):N(C,x))||D);return j>3&&D&&Object.defineProperty(C,x,D),D},v=this&&this.__param||function(E,C){return function(x,k){C(x,k,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=void 0;const m=l(2223),g=l(643),w=l(511),S=l(2585),_=l(8055),c=l(4725),d=l(4269),u=l(6171),f=l(3734);let y=i.DomRendererRowFactory=class{constructor(E,C,x,k,N,j,D){this._document=E,this._characterJoinerService=C,this._optionsService=x,this._coreBrowserService=k,this._coreService=N,this._decorationService=j,this._themeService=D,this._workCell=new w.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,C,x){this._selectionStart=E,this._selectionEnd=C,this._columnSelectMode=x}createRow(E,C,x,k,N,j,D,O,I,U,K){const q=[],R=this._characterJoinerService.getJoinedCharacters(C),P=this._themeService.colors;let T,M=E.getNoBgTrimmedLength();x&&M<j+1&&(M=j+1);let W=0,X="",Q=0,Z=0,V=0,L=!1,B=0,H=!1,F=0;const J=[],Y=U!==-1&&K!==-1;for(let z=0;z<M;z++){E.loadCell(z,this._workCell);let re=this._workCell.getWidth();if(re===0)continue;let ne=!1,ce=z,ie=this._workCell;if(R.length>0&&z===R[0][0]){ne=!0;const he=R.shift();ie=new d.JoinedCellData(this._workCell,E.translateToString(!0,he[0],he[1]),he[1]-he[0]),ce=he[1]-1,re=ie.getWidth()}const Ye=this._isCellInSelection(z,C),Gr=x&&z===j,$e=Y&&z>=U&&z<=K;let We=!1;this._decorationService.forEachDecorationAtCell(z,C,void 0,he=>{We=!0});let Bt=ie.getChars()||g.WHITESPACE_CELL_CHAR;if(Bt===" "&&(ie.isUnderline()||ie.isOverline())&&(Bt=""),F=re*O-I.get(Bt,ie.isBold(),ie.isItalic()),T){if(W&&(Ye&&H||!Ye&&!H&&ie.bg===Q)&&(Ye&&H&&P.selectionForeground||ie.fg===Z)&&ie.extended.ext===V&&$e===L&&F===B&&!Gr&&!ne&&!We){X+=Bt,W++;continue}W&&(T.textContent=X),T=this._document.createElement("span"),W=0,X=""}else T=this._document.createElement("span");if(Q=ie.bg,Z=ie.fg,V=ie.extended.ext,L=$e,B=F,H=Ye,ne&&j>=z&&j<=ce&&(j=z),!this._coreService.isCursorHidden&&Gr){if(J.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&J.push("xterm-cursor-blink"),J.push(k==="bar"?"xterm-cursor-bar":k==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":J.push("xterm-cursor-outline");break;case"block":J.push("xterm-cursor-block");break;case"bar":J.push("xterm-cursor-bar");break;case"underline":J.push("xterm-cursor-underline")}}if(ie.isBold()&&J.push("xterm-bold"),ie.isItalic()&&J.push("xterm-italic"),ie.isDim()&&J.push("xterm-dim"),X=ie.isInvisible()?g.WHITESPACE_CELL_CHAR:ie.getChars()||g.WHITESPACE_CELL_CHAR,ie.isUnderline()&&(J.push(`xterm-underline-${ie.extended.underlineStyle}`),X===" "&&(X=""),!ie.isUnderlineColorDefault()))if(ie.isUnderlineColorRGB())T.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(ie.getUnderlineColor()).join(",")})`;else{let he=ie.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ie.isBold()&&he<8&&(he+=8),T.style.textDecorationColor=P.ansi[he].css}ie.isOverline()&&(J.push("xterm-overline"),X===" "&&(X="")),ie.isStrikethrough()&&J.push("xterm-strikethrough"),$e&&(T.style.textDecoration="underline");let Ae=ie.getFgColor(),er=ie.getFgColorMode(),nt=ie.getBgColor(),It=ie.getBgColorMode();const pe=!!ie.isInverse();if(pe){const he=Ae;Ae=nt,nt=he;const Rr=er;er=It,It=Rr}let se,ue,fe,Be=!1;switch(this._decorationService.forEachDecorationAtCell(z,C,void 0,he=>{he.options.layer!=="top"&&Be||(he.backgroundColorRGB&&(It=50331648,nt=he.backgroundColorRGB.rgba>>8&16777215,se=he.backgroundColorRGB),he.foregroundColorRGB&&(er=50331648,Ae=he.foregroundColorRGB.rgba>>8&16777215,ue=he.foregroundColorRGB),Be=he.options.layer==="top")}),!Be&&Ye&&(se=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,nt=se.rgba>>8&16777215,It=50331648,Be=!0,P.selectionForeground&&(er=50331648,Ae=P.selectionForeground.rgba>>8&16777215,ue=P.selectionForeground)),Be&&J.push("xterm-decoration-top"),It){case 16777216:case 33554432:fe=P.ansi[nt],J.push(`xterm-bg-${nt}`);break;case 50331648:fe=_.rgba.toColor(nt>>16,nt>>8&255,255&nt),this._addStyle(T,`background-color:#${b((nt>>>0).toString(16),"0",6)}`);break;default:pe?(fe=P.foreground,J.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):fe=P.background}switch(se||ie.isDim()&&(se=_.color.multiplyOpacity(fe,.5)),er){case 16777216:case 33554432:ie.isBold()&&Ae<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Ae+=8),this._applyMinimumContrast(T,fe,P.ansi[Ae],ie,se,void 0)||J.push(`xterm-fg-${Ae}`);break;case 50331648:const he=_.rgba.toColor(Ae>>16&255,Ae>>8&255,255&Ae);this._applyMinimumContrast(T,fe,he,ie,se,ue)||this._addStyle(T,`color:#${b(Ae.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(T,fe,P.foreground,ie,se,void 0)||pe&&J.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}J.length&&(T.className=J.join(" "),J.length=0),Gr||ne||We?T.textContent=X:W++,F!==this.defaultSpacing&&(T.style.letterSpacing=`${F}px`),q.push(T),z=ce}return T&&W&&(T.textContent=X),q}_applyMinimumContrast(E,C,x,k,N,j){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,u.excludeFromContrastRatioDemands)(k.getCode()))return!1;const D=this._getContrastCache(k);let O;if(N||j||(O=D.getColor(C.rgba,x.rgba)),O===void 0){const I=this._optionsService.rawOptions.minimumContrastRatio/(k.isDim()?2:1);O=_.color.ensureContrastRatio(N||C,j||x,I),D.setColor((N||C).rgba,(j||x).rgba,O??null)}return!!O&&(this._addStyle(E,`color:${O.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,C){E.setAttribute("style",`${E.getAttribute("style")||""}${C};`)}_isCellInSelection(E,C){const x=this._selectionStart,k=this._selectionEnd;return!(!x||!k)&&(this._columnSelectMode?x[0]<=k[0]?E>=x[0]&&C>=x[1]&&E<k[0]&&C<=k[1]:E<x[0]&&C>=x[1]&&E>=k[0]&&C<=k[1]:C>x[1]&&C<k[1]||x[1]===k[1]&&C===x[1]&&E>=x[0]&&E<k[0]||x[1]<k[1]&&C===k[1]&&E<k[0]||x[1]<k[1]&&C===x[1]&&E>=x[0])}};function b(E,C,x){for(;E.length<x;)E=C+E;return E}i.DomRendererRowFactory=y=p([v(1,c.ICharacterJoinerService),v(2,S.IOptionsService),v(3,c.ICoreBrowserService),v(4,S.ICoreService),v(5,S.IDecorationService),v(6,c.IThemeService)],y)},2550:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WidthCache=void 0,i.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=l.createElement("span"),v=l.createElement("span");v.style.fontWeight="bold";const m=l.createElement("span");m.style.fontStyle="italic";const g=l.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[p,v,m,g],this._container.appendChild(p),this._container.appendChild(v),this._container.appendChild(m),this._container.appendChild(g),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,p,v,m){l===this._font&&p===this._fontSize&&v===this._weight&&m===this._weightBold||(this._font=l,this._fontSize=p,this._weight=v,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(l,p,v){let m=0;if(!p&&!v&&l.length===1&&(m=l.charCodeAt(0))<256)return this._flat[m]!==-9999?this._flat[m]:this._flat[m]=this._measure(l,0);let g=l;p&&(g+="B"),v&&(g+="I");let w=this._holey.get(g);if(w===void 0){let S=0;p&&(S|=1),v&&(S|=2),w=this._measure(l,S),this._holey.set(g,w)}return w}_measure(l,p){const v=this._measureElements[p];return v.textContent=l.repeat(32),v.offsetWidth/32}}},2223:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const p=l(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(h,i)=>{function l(p){return 57508<=p&&p<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.createRenderDimensions=i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},i.isPowerlineGlyph=l,i.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},i.excludeFromContrastRatioDemands=function(p){return l(p)||function(v){return 9472<=v&&v<=9631}(p)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,p=this.selectionEnd;return!(!l||!p)&&(l[1]>p[1]||l[1]===p[1]&&l[0]>p[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(h,i,l){var p=this&&this.__decorate||function(c,d,u,f){var y,b=arguments.length,E=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,d,u,f);else for(var C=c.length-1;C>=0;C--)(y=c[C])&&(E=(b<3?y(E):b>3?y(d,u,E):y(d,u))||E);return b>3&&E&&Object.defineProperty(d,u,E),E},v=this&&this.__param||function(c,d){return function(u,f){d(u,f,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const m=l(2585),g=l(8460),w=l(844);let S=i.CharSizeService=class extends w.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(c,d,u){super(),this._optionsService=u,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new _(c,d,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const c=this._measureStrategy.measure();c.width===this.width&&c.height===this.height||(this.width=c.width,this.height=c.height,this._onCharSizeChange.fire())}};i.CharSizeService=S=p([v(2,m.IOptionsService)],S);class _{constructor(d,u,f){this._document=d,this._parentElement=u,this._optionsService=f,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const d={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return d.width!==0&&d.height!==0&&(this._result.width=d.width/32,this._result.height=Math.ceil(d.height)),this._result}}},4269:function(h,i,l){var p=this&&this.__decorate||function(d,u,f,y){var b,E=arguments.length,C=E<3?u:y===null?y=Object.getOwnPropertyDescriptor(u,f):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(d,u,f,y);else for(var x=d.length-1;x>=0;x--)(b=d[x])&&(C=(E<3?b(C):E>3?b(u,f,C):b(u,f))||C);return E>3&&C&&Object.defineProperty(u,f,C),C},v=this&&this.__param||function(d,u){return function(f,y){u(f,y,d)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const m=l(3734),g=l(643),w=l(511),S=l(2585);class _ extends m.AttributeData{constructor(u,f,y){super(),this.content=0,this.combinedData="",this.fg=u.fg,this.bg=u.bg,this.combinedData=f,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(u){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=_;let c=i.CharacterJoinerService=class Om{constructor(u){this._bufferService=u,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new w.CellData}register(u){const f={id:this._nextCharacterJoinerId++,handler:u};return this._characterJoiners.push(f),f.id}deregister(u){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===u)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(u){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(u);if(!f||f.length===0)return[];const y=[],b=f.translateToString(!0);let E=0,C=0,x=0,k=f.getFg(0),N=f.getBg(0);for(let j=0;j<f.getTrimmedLength();j++)if(f.loadCell(j,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==k||this._workCell.bg!==N){if(j-E>1){const D=this._getJoinedRanges(b,x,C,f,E);for(let O=0;O<D.length;O++)y.push(D[O])}E=j,x=C,k=this._workCell.fg,N=this._workCell.bg}C+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const j=this._getJoinedRanges(b,x,C,f,E);for(let D=0;D<j.length;D++)y.push(j[D])}return y}_getJoinedRanges(u,f,y,b,E){const C=u.substring(f,y);let x=[];try{x=this._characterJoiners[0].handler(C)}catch(k){console.error(k)}for(let k=1;k<this._characterJoiners.length;k++)try{const N=this._characterJoiners[k].handler(C);for(let j=0;j<N.length;j++)Om._mergeRanges(x,N[j])}catch(N){console.error(N)}return this._stringRangesToCellRanges(x,b,E),x}_stringRangesToCellRanges(u,f,y){let b=0,E=!1,C=0,x=u[b];if(x){for(let k=y;k<this._bufferService.cols;k++){const N=f.getWidth(k),j=f.getString(k).length||g.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!E&&x[0]<=C&&(x[0]=k,E=!0),x[1]<=C){if(x[1]=k,x=u[++b],!x)break;x[0]<=C?(x[0]=k,E=!0):E=!1}C+=j}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(u,f){let y=!1;for(let b=0;b<u.length;b++){const E=u[b];if(y){if(f[1]<=E[0])return u[b-1][1]=f[1],u;if(f[1]<=E[1])return u[b-1][1]=Math.max(f[1],E[1]),u.splice(b,1),u;u.splice(b,1),b--}else{if(f[1]<=E[0])return u.splice(b,0,f),u;if(f[1]<=E[1])return E[0]=Math.min(f[0],E[0]),u;f[0]<E[1]&&(E[0]=Math.min(f[0],E[0]),y=!0)}}return y?u[u.length-1][1]=f[1]:u.push(f),u}};i.CharacterJoinerService=c=p([v(0,S.IBufferService)],c)},5114:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(l,p){this._textarea=l,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(h,i,l){var p=this&&this.__decorate||function(S,_,c,d){var u,f=arguments.length,y=f<3?_:d===null?d=Object.getOwnPropertyDescriptor(_,c):d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(S,_,c,d);else for(var b=S.length-1;b>=0;b--)(u=S[b])&&(y=(f<3?u(y):f>3?u(_,c,y):u(_,c))||y);return f>3&&y&&Object.defineProperty(_,c,y),y},v=this&&this.__param||function(S,_){return function(c,d){_(c,d,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const m=l(4725),g=l(9806);let w=i.MouseService=class{constructor(S,_){this._renderService=S,this._charSizeService=_}getCoords(S,_,c,d,u){return(0,g.getCoords)(window,S,_,c,d,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,u)}getMouseReportCoords(S,_){const c=(0,g.getCoordsRelativeToElement)(window,S,_);if(this._charSizeService.hasValidSize)return c[0]=Math.min(Math.max(c[0],0),this._renderService.dimensions.css.canvas.width-1),c[1]=Math.min(Math.max(c[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(c[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(c[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(c[0]),y:Math.floor(c[1])}}};i.MouseService=w=p([v(0,m.IRenderService),v(1,m.ICharSizeService)],w)},3230:function(h,i,l){var p=this&&this.__decorate||function(y,b,E,C){var x,k=arguments.length,N=k<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,E):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,b,E,C);else for(var j=y.length-1;j>=0;j--)(x=y[j])&&(N=(k<3?x(N):k>3?x(b,E,N):x(b,E))||N);return k>3&&N&&Object.defineProperty(b,E,N),N},v=this&&this.__param||function(y,b){return function(E,C){b(E,C,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const m=l(3656),g=l(6193),w=l(5596),S=l(4725),_=l(8460),c=l(844),d=l(7226),u=l(2585);let f=i.RenderService=class extends c.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,b,E,C,x,k,N,j){if(super(),this._rowCount=y,this._charSizeService=C,this._renderer=this.register(new c.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(N.window,(D,O)=>this._renderRows(D,O)),this.register(this._renderDebouncer),this._screenDprMonitor=new w.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(k.onResize(()=>this._fullRefresh())),this.register(k.buffers.onBufferActivate(()=>{var D;return(D=this._renderer.value)===null||D===void 0?void 0:D.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(k.cols,k.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(k.buffer.y,k.buffer.y,!0))),this.register((0,m.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(j.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const D=new N.window.IntersectionObserver(O=>this._handleIntersectionChange(O[O.length-1]),{threshold:0});D.observe(b),this.register({dispose:()=>D.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,b,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,b,this._rowCount))}_renderRows(y,b){this._renderer.value&&(y=Math.min(y,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.value.renderRows(y,b),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:b}),this._onRender.fire({start:y,end:b}),this._isNextRenderRedrawOnly=!0)}resize(y,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(b=>this.refreshRows(b.start,b.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,b;this._renderer.value&&((b=(y=this._renderer.value).clearTextureAtlas)===null||b===void 0||b.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,b){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,b)):this._renderer.value.handleResize(y,b),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,b,E){var C;this._selectionState.start=y,this._selectionState.end=b,this._selectionState.columnSelectMode=E,(C=this._renderer.value)===null||C===void 0||C.handleSelectionChanged(y,b,E)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};i.RenderService=f=p([v(2,u.IOptionsService),v(3,S.ICharSizeService),v(4,u.IDecorationService),v(5,u.IBufferService),v(6,S.ICoreBrowserService),v(7,S.IThemeService)],f)},9312:function(h,i,l){var p=this&&this.__decorate||function(x,k,N,j){var D,O=arguments.length,I=O<3?k:j===null?j=Object.getOwnPropertyDescriptor(k,N):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(x,k,N,j);else for(var U=x.length-1;U>=0;U--)(D=x[U])&&(I=(O<3?D(I):O>3?D(k,N,I):D(k,N))||I);return O>3&&I&&Object.defineProperty(k,N,I),I},v=this&&this.__param||function(x,k){return function(N,j){k(N,j,x)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const m=l(9806),g=l(9504),w=l(456),S=l(4725),_=l(8460),c=l(844),d=l(6114),u=l(4841),f=l(511),y=l(2585),b="",E=new RegExp(b,"g");let C=i.SelectionService=class extends c.Disposable{constructor(x,k,N,j,D,O,I,U,K){super(),this._element=x,this._screenElement=k,this._linkifier=N,this._bufferService=j,this._coreService=D,this._mouseService=O,this._optionsService=I,this._renderService=U,this._coreBrowserService=K,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new _.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new _.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new _.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=q=>this._handleMouseMove(q),this._mouseUpListener=q=>this._handleMouseUp(q),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(q=>this._handleTrim(q)),this.register(this._bufferService.buffers.onBufferActivate(q=>this._handleBufferActivate(q))),this.enable(),this._model=new w.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,c.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!x||!k||x[0]===k[0]&&x[1]===k[1])}get selectionText(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;if(!x||!k)return"";const N=this._bufferService.buffer,j=[];if(this._activeSelectionMode===3){if(x[0]===k[0])return"";const D=x[0]<k[0]?x[0]:k[0],O=x[0]<k[0]?k[0]:x[0];for(let I=x[1];I<=k[1];I++){const U=N.translateBufferLineToString(I,!0,D,O);j.push(U)}}else{const D=x[1]===k[1]?k[0]:void 0;j.push(N.translateBufferLineToString(x[1],!0,x[0],D));for(let O=x[1]+1;O<=k[1]-1;O++){const I=N.lines.get(O),U=N.translateBufferLineToString(O,!0);I!=null&&I.isWrapped?j[j.length-1]+=U:j.push(U)}if(x[1]!==k[1]){const O=N.lines.get(k[1]),I=N.translateBufferLineToString(k[1],!0,0,k[0]);O&&O.isWrapped?j[j.length-1]+=I:j.push(I)}}return j.map(D=>D.replace(E," ")).join(d.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const k=this._getMouseBufferCoords(x),N=this._model.finalSelectionStart,j=this._model.finalSelectionEnd;return!!(N&&j&&k)&&this._areCoordsInSelection(k,N,j)}isCellInSelection(x,k){const N=this._model.finalSelectionStart,j=this._model.finalSelectionEnd;return!(!N||!j)&&this._areCoordsInSelection([x,k],N,j)}_areCoordsInSelection(x,k,N){return x[1]>k[1]&&x[1]<N[1]||k[1]===N[1]&&x[1]===k[1]&&x[0]>=k[0]&&x[0]<N[0]||k[1]<N[1]&&x[1]===N[1]&&x[0]<N[0]||k[1]<N[1]&&x[1]===k[1]&&x[0]>=k[0]}_selectWordAtCursor(x,k){var N,j;const D=(j=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||j===void 0?void 0:j.range;if(D)return this._model.selectionStart=[D.start.x-1,D.start.y-1],this._model.selectionStartLength=(0,u.getRangeLength)(D,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const O=this._getMouseBufferCoords(x);return!!O&&(this._selectWordAt(O,k),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,k){this._model.clearSelection(),x=Math.max(x,0),k=Math.min(k,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,k],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const k=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(k)return k[0]--,k[1]--,k[1]+=this._bufferService.buffer.ydisp,k}_getMouseEventScrollAmount(x){let k=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return k>=0&&k<=N?0:(k>N&&(k-=N),k=Math.min(Math.max(k,-50),50),k/=50,k/Math.abs(k)+Math.round(14*k))}shouldForceSelection(x){return d.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const k=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);k&&k.length!==this._model.selectionStart[0]&&k.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const k=this._getMouseBufferCoords(x);k&&(this._activeSelectionMode=2,this._selectLineAt(k[1]))}shouldColumnSelect(x){return x.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const k=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const j=N.lines.get(this._model.selectionEnd[1]);j&&j.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}k&&k[0]===this._model.selectionEnd[0]&&k[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const k=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&k<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const j=(0,g.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(j,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,k=this._model.finalSelectionEnd,N=!(!x||!k||x[0]===k[0]&&x[1]===k[1]);N?x&&k&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&k[0]===this._oldSelectionEnd[0]&&k[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,k,N)):this._oldHasSelection&&this._fireOnSelectionChange(x,k,N)}_fireOnSelectionChange(x,k,N){this._oldSelectionStart=x,this._oldSelectionEnd=k,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(k=>this._handleTrim(k))}_convertViewportColToCharacterIndex(x,k){let N=k;for(let j=0;k>=j;j++){const D=x.loadCell(j,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:D>1&&k!==j&&(N+=D-1)}return N}setSelection(x,k,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,k],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,k,N=!0,j=!0){if(x[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,O=D.lines.get(x[1]);if(!O)return;const I=D.translateBufferLineToString(x[1],!1);let U=this._convertViewportColToCharacterIndex(O,x[0]),K=U;const q=x[0]-U;let R=0,P=0,T=0,M=0;if(I.charAt(U)===" "){for(;U>0&&I.charAt(U-1)===" ";)U--;for(;K<I.length&&I.charAt(K+1)===" ";)K++}else{let Q=x[0],Z=x[0];O.getWidth(Q)===0&&(R++,Q--),O.getWidth(Z)===2&&(P++,Z++);const V=O.getString(Z).length;for(V>1&&(M+=V-1,K+=V-1);Q>0&&U>0&&!this._isCharWordSeparator(O.loadCell(Q-1,this._workCell));){O.loadCell(Q-1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,Q--):L>1&&(T+=L-1,U-=L-1),U--,Q--}for(;Z<O.length&&K+1<I.length&&!this._isCharWordSeparator(O.loadCell(Z+1,this._workCell));){O.loadCell(Z+1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,Z++):L>1&&(M+=L-1,K+=L-1),K++,Z++}}K++;let W=U+q-R+T,X=Math.min(this._bufferService.cols,K-U+R+P-T-M);if(k||I.slice(U,K).trim()!==""){if(N&&W===0&&O.getCodePoint(0)!==32){const Q=D.lines.get(x[1]-1);if(Q&&O.isWrapped&&Q.getCodePoint(this._bufferService.cols-1)!==32){const Z=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(Z){const V=this._bufferService.cols-Z.start;W-=V,X+=V}}}if(j&&W+X===this._bufferService.cols&&O.getCodePoint(this._bufferService.cols-1)!==32){const Q=D.lines.get(x[1]+1);if(Q!=null&&Q.isWrapped&&Q.getCodePoint(0)!==32){const Z=this._getWordAt([0,x[1]+1],!1,!1,!0);Z&&(X+=Z.length)}}return{start:W,length:X}}}_selectWordAt(x,k){const N=this._getWordAt(x,k);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[N.start,x[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(x){const k=this._getWordAt(x,!0);if(k){let N=x[1];for(;k.start<0;)k.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;k.start+k.length>this._bufferService.cols;)k.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?k.start:k.start+k.length,N]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const k=this._bufferService.buffer.getWrappedRangeForLine(x),N={start:{x:0,y:k.first},end:{x:this._bufferService.cols-1,y:k.last}};this._model.selectionStart=[0,k.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,u.getRangeLength)(N,this._bufferService.cols)}};i.SelectionService=C=p([v(3,y.IBufferService),v(4,y.ICoreService),v(5,S.IMouseService),v(6,y.IOptionsService),v(7,S.IRenderService),v(8,S.ICoreBrowserService)],C)},4725:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const p=l(8343);i.ICharSizeService=(0,p.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),i.IMouseService=(0,p.createDecorator)("MouseService"),i.IRenderService=(0,p.createDecorator)("RenderService"),i.ISelectionService=(0,p.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(h,i,l){var p=this&&this.__decorate||function(C,x,k,N){var j,D=arguments.length,O=D<3?x:N===null?N=Object.getOwnPropertyDescriptor(x,k):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(C,x,k,N);else for(var I=C.length-1;I>=0;I--)(j=C[I])&&(O=(D<3?j(O):D>3?j(x,k,O):j(x,k))||O);return D>3&&O&&Object.defineProperty(x,k,O),O},v=this&&this.__param||function(C,x){return function(k,N){x(k,N,C)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const m=l(7239),g=l(8055),w=l(8460),S=l(844),_=l(2585),c=g.css.toColor("#ffffff"),d=g.css.toColor("#000000"),u=g.css.toColor("#ffffff"),f=g.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const C=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let k=0;k<216;k++){const N=x[k/36%6|0],j=x[k/6%6|0],D=x[k%6];C.push({css:g.channels.toCss(N,j,D),rgba:g.channels.toRgba(N,j,D)})}for(let k=0;k<24;k++){const N=8+10*k;C.push({css:g.channels.toCss(N,N,N),rgba:g.channels.toRgba(N,N,N)})}return C})());let b=i.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(C){super(),this._optionsService=C,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new w.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:c,background:d,cursor:u,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:g.color.blend(d,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:g.color.blend(d,y),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(C={}){const x=this._colors;if(x.foreground=E(C.foreground,c),x.background=E(C.background,d),x.cursor=E(C.cursor,u),x.cursorAccent=E(C.cursorAccent,f),x.selectionBackgroundTransparent=E(C.selectionBackground,y),x.selectionBackgroundOpaque=g.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=E(C.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=g.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=C.selectionForeground?E(C.selectionForeground,g.NULL_COLOR):void 0,x.selectionForeground===g.NULL_COLOR&&(x.selectionForeground=void 0),g.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=g.color.opacity(x.selectionBackgroundTransparent,.3)),g.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=g.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=i.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=E(C.black,i.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=E(C.red,i.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=E(C.green,i.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=E(C.yellow,i.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=E(C.blue,i.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=E(C.magenta,i.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=E(C.cyan,i.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=E(C.white,i.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=E(C.brightBlack,i.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=E(C.brightRed,i.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=E(C.brightGreen,i.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=E(C.brightYellow,i.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=E(C.brightBlue,i.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=E(C.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=E(C.brightCyan,i.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=E(C.brightWhite,i.DEFAULT_ANSI_COLORS[15]),C.extendedAnsi){const k=Math.min(x.ansi.length-16,C.extendedAnsi.length);for(let N=0;N<k;N++)x.ansi[N+16]=E(C.extendedAnsi[N],i.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(C){this._restoreColor(C),this._onChangeColors.fire(this.colors)}_restoreColor(C){if(C!==void 0)switch(C){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[C]=this._restoreColors.ansi[C]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(C){C(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(C,x){if(C!==void 0)try{return g.css.toColor(C)}catch{}return x}i.ThemeService=b=p([v(0,_.IOptionsService)],b)},6349:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const p=l(8460),v=l(844);class m extends v.Disposable{constructor(w){super(),this._maxLength=w,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(w){if(this._maxLength===w)return;const S=new Array(w);for(let _=0;_<Math.min(w,this.length);_++)S[_]=this._array[this._getCyclicIndex(_)];this._array=S,this._maxLength=w,this._startIndex=0}get length(){return this._length}set length(w){if(w>this._length)for(let S=this._length;S<w;S++)this._array[S]=void 0;this._length=w}get(w){return this._array[this._getCyclicIndex(w)]}set(w,S){this._array[this._getCyclicIndex(w)]=S}push(w){this._array[this._getCyclicIndex(this._length)]=w,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(w,S,..._){if(S){for(let c=w;c<this._length-S;c++)this._array[this._getCyclicIndex(c)]=this._array[this._getCyclicIndex(c+S)];this._length-=S,this.onDeleteEmitter.fire({index:w,amount:S})}for(let c=this._length-1;c>=w;c--)this._array[this._getCyclicIndex(c+_.length)]=this._array[this._getCyclicIndex(c)];for(let c=0;c<_.length;c++)this._array[this._getCyclicIndex(w+c)]=_[c];if(_.length&&this.onInsertEmitter.fire({index:w,amount:_.length}),this._length+_.length>this._maxLength){const c=this._length+_.length-this._maxLength;this._startIndex+=c,this._length=this._maxLength,this.onTrimEmitter.fire(c)}else this._length+=_.length}trimStart(w){w>this._length&&(w=this._length),this._startIndex+=w,this._length-=w,this.onTrimEmitter.fire(w)}shiftElements(w,S,_){if(!(S<=0)){if(w<0||w>=this._length)throw new Error("start argument out of range");if(w+_<0)throw new Error("Cannot shift elements in list beyond index 0");if(_>0){for(let d=S-1;d>=0;d--)this.set(w+d+_,this.get(w+d));const c=w+S+_-this._length;if(c>0)for(this._length+=c;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let c=0;c<S;c++)this.set(w+c+_,this.get(w+c))}}_getCyclicIndex(w){return(this._startIndex+w)%this._maxLength}}i.CircularList=m},1439:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function l(p,v=5){if(typeof p!="object")return p;const m=Array.isArray(p)?[]:{};for(const g in p)m[g]=v<=1?p[g]:p[g]&&l(p[g],v-1);return m}},8055:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;const p=l(6114);let v=0,m=0,g=0,w=0;var S,_,c,d,u;function f(b){const E=b.toString(16);return E.length<2?"0"+E:E}function y(b,E){return b<E?(E+.05)/(b+.05):(b+.05)/(E+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(b){b.toCss=function(E,C,x,k){return k!==void 0?`#${f(E)}${f(C)}${f(x)}${f(k)}`:`#${f(E)}${f(C)}${f(x)}`},b.toRgba=function(E,C,x,k=255){return(E<<24|C<<16|x<<8|k)>>>0}}(S||(i.channels=S={})),function(b){function E(C,x){return w=Math.round(255*x),[v,m,g]=u.toChannels(C.rgba),{css:S.toCss(v,m,g,w),rgba:S.toRgba(v,m,g,w)}}b.blend=function(C,x){if(w=(255&x.rgba)/255,w===1)return{css:x.css,rgba:x.rgba};const k=x.rgba>>24&255,N=x.rgba>>16&255,j=x.rgba>>8&255,D=C.rgba>>24&255,O=C.rgba>>16&255,I=C.rgba>>8&255;return v=D+Math.round((k-D)*w),m=O+Math.round((N-O)*w),g=I+Math.round((j-I)*w),{css:S.toCss(v,m,g),rgba:S.toRgba(v,m,g)}},b.isOpaque=function(C){return(255&C.rgba)==255},b.ensureContrastRatio=function(C,x,k){const N=u.ensureContrastRatio(C.rgba,x.rgba,k);if(N)return u.toColor(N>>24&255,N>>16&255,N>>8&255)},b.opaque=function(C){const x=(255|C.rgba)>>>0;return[v,m,g]=u.toChannels(x),{css:S.toCss(v,m,g),rgba:x}},b.opacity=E,b.multiplyOpacity=function(C,x){return w=255&C.rgba,E(C,w*x/255)},b.toColorRGB=function(C){return[C.rgba>>24&255,C.rgba>>16&255,C.rgba>>8&255]}}(_||(i.color=_={})),function(b){let E,C;if(!p.isNode){const x=document.createElement("canvas");x.width=1,x.height=1;const k=x.getContext("2d",{willReadFrequently:!0});k&&(E=k,E.globalCompositeOperation="copy",C=E.createLinearGradient(0,0,1,1))}b.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),g=parseInt(x.slice(3,4).repeat(2),16),u.toColor(v,m,g);case 5:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),g=parseInt(x.slice(3,4).repeat(2),16),w=parseInt(x.slice(4,5).repeat(2),16),u.toColor(v,m,g,w);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const k=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(k)return v=parseInt(k[1]),m=parseInt(k[2]),g=parseInt(k[3]),w=Math.round(255*(k[5]===void 0?1:parseFloat(k[5]))),u.toColor(v,m,g,w);if(!E||!C)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=C,E.fillStyle=x,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[v,m,g,w]=E.getImageData(0,0,1,1).data,w!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(v,m,g,w),css:x}}}(c||(i.css=c={})),function(b){function E(C,x,k){const N=C/255,j=x/255,D=k/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))+.0722*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))}b.relativeLuminance=function(C){return E(C>>16&255,C>>8&255,255&C)},b.relativeLuminance2=E}(d||(i.rgb=d={})),function(b){function E(x,k,N){const j=x>>24&255,D=x>>16&255,O=x>>8&255;let I=k>>24&255,U=k>>16&255,K=k>>8&255,q=y(d.relativeLuminance2(I,U,K),d.relativeLuminance2(j,D,O));for(;q<N&&(I>0||U>0||K>0);)I-=Math.max(0,Math.ceil(.1*I)),U-=Math.max(0,Math.ceil(.1*U)),K-=Math.max(0,Math.ceil(.1*K)),q=y(d.relativeLuminance2(I,U,K),d.relativeLuminance2(j,D,O));return(I<<24|U<<16|K<<8|255)>>>0}function C(x,k,N){const j=x>>24&255,D=x>>16&255,O=x>>8&255;let I=k>>24&255,U=k>>16&255,K=k>>8&255,q=y(d.relativeLuminance2(I,U,K),d.relativeLuminance2(j,D,O));for(;q<N&&(I<255||U<255||K<255);)I=Math.min(255,I+Math.ceil(.1*(255-I))),U=Math.min(255,U+Math.ceil(.1*(255-U))),K=Math.min(255,K+Math.ceil(.1*(255-K))),q=y(d.relativeLuminance2(I,U,K),d.relativeLuminance2(j,D,O));return(I<<24|U<<16|K<<8|255)>>>0}b.ensureContrastRatio=function(x,k,N){const j=d.relativeLuminance(x>>8),D=d.relativeLuminance(k>>8);if(y(j,D)<N){if(D<j){const U=E(x,k,N),K=y(j,d.relativeLuminance(U>>8));if(K<N){const q=C(x,k,N);return K>y(j,d.relativeLuminance(q>>8))?U:q}return U}const O=C(x,k,N),I=y(j,d.relativeLuminance(O>>8));if(I<N){const U=E(x,k,N);return I>y(j,d.relativeLuminance(U>>8))?O:U}return O}},b.reduceLuminance=E,b.increaseLuminance=C,b.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},b.toColor=function(x,k,N,j){return{css:S.toCss(x,k,N,j),rgba:S.toRgba(x,k,N,j)}}}(u||(i.rgba=u={})),i.toPaddedHex=f,i.contrastRatio=y},8969:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const p=l(844),v=l(2585),m=l(4348),g=l(7866),w=l(744),S=l(7302),_=l(6975),c=l(8460),d=l(1753),u=l(1480),f=l(7994),y=l(9282),b=l(5435),E=l(5981),C=l(2660);let x=!1;class k extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new c.EventEmitter),this._onScroll.event(j=>{var D;(D=this._onScrollApi)===null||D===void 0||D.fire(j.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(j){for(const D in j)this.optionsService.options[D]=j[D]}constructor(j){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new c.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new c.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new c.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new c.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new c.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new S.OptionsService(j)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(w.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(_.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(u.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(C.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,c.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,c.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,c.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,c.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((D,O)=>this._inputHandler.parse(D,O))),this.register((0,c.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(j,D){this._writeBuffer.write(j,D)}writeSync(j,D){this._logService.logLevel<=v.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(j,D)}resize(j,D){isNaN(j)||isNaN(D)||(j=Math.max(j,w.MINIMUM_COLS),D=Math.max(D,w.MINIMUM_ROWS),this._bufferService.resize(j,D))}scroll(j,D=!1){this._bufferService.scroll(j,D)}scrollLines(j,D,O){this._bufferService.scrollLines(j,D,O)}scrollPages(j){this.scrollLines(j*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(j){const D=j-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(j,D){return this._inputHandler.registerEscHandler(j,D)}registerDcsHandler(j,D){return this._inputHandler.registerDcsHandler(j,D)}registerCsiHandler(j,D){return this._inputHandler.registerCsiHandler(j,D)}registerOscHandler(j,D){return this._inputHandler.registerOscHandler(j,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let j=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?j=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(j=!0),j?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const j=[];j.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),j.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)(()=>{for(const D of j)D.dispose()})}}}i.CoreTerminal=k},8460:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===l)return void this._listeners.splice(p,1)}}})),this._event}fire(l,p){const v=[];for(let m=0;m<this._listeners.length;m++)v.push(this._listeners[m]);for(let m=0;m<v.length;m++)v[m].call(void 0,l,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},i.forwardEvent=function(l,p){return l(v=>p.fire(v))}},5435:function(h,i,l){var p=this&&this.__decorate||function(q,R,P,T){var M,W=arguments.length,X=W<3?R:T===null?T=Object.getOwnPropertyDescriptor(R,P):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(q,R,P,T);else for(var Q=q.length-1;Q>=0;Q--)(M=q[Q])&&(X=(W<3?M(X):W>3?M(R,P,X):M(R,P))||X);return W>3&&X&&Object.defineProperty(R,P,X),X},v=this&&this.__param||function(q,R){return function(P,T){R(P,T,q)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const m=l(2584),g=l(7116),w=l(2015),S=l(844),_=l(482),c=l(8437),d=l(8460),u=l(643),f=l(511),y=l(3734),b=l(2585),E=l(6242),C=l(6351),x=l(5941),k={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function j(q,R){if(q>24)return R.setWinLines||!1;switch(q){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var D;(function(q){q[q.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",q[q.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(i.WindowsOptionsReportType=D={}));let O=0;class I extends S.Disposable{getAttrData(){return this._curAttrData}constructor(R,P,T,M,W,X,Q,Z,V=new w.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=P,this._coreService=T,this._logService=M,this._optionsService=W,this._oscLinkService=X,this._coreMouseService=Q,this._unicodeService=Z,this._parser=V,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new _.StringToUtf32,this._utf8Decoder=new _.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new U(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,B)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:B.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,B,H)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:B,data:H})}),this._parser.setDcsHandlerFallback((L,B,H)=>{B==="HOOK"&&(H=H.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:B,payload:H})}),this._parser.setPrintHandler((L,B,H)=>this.print(L,B,H)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new E.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new E.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new E.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new E.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new E.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new E.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new E.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new E.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new E.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new E.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new E.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new C.DcsHandler((L,B)=>this.requestStatusString(L,B)))}_preserveStack(R,P,T,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=T,this._parseStack.position=M}_logSlowResolvingAsync(R){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([R,new Promise((P,T)=>setTimeout(()=>T("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,P){let T,M=this._activeBuffer.x,W=this._activeBuffer.y,X=0;const Q=this._parseStack.paused;if(Q){if(T=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(T),T;M=this._parseStack.cursorStartX,W=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>N&&(X=this._parseStack.position+N)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,Z=>String.fromCharCode(Z)).join("")}"`),typeof R=="string"?R.split("").map(Z=>Z.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(R.length,N))),Q||this._dirtyRowTracker.clearRange(),R.length>N)for(let Z=X;Z<R.length;Z+=N){const V=Z+N<R.length?Z+N:R.length,L=typeof R=="string"?this._stringDecoder.decode(R.substring(Z,V),this._parseBuffer):this._utf8Decoder.decode(R.subarray(Z,V),this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,L))return this._preserveStack(M,W,L,Z),this._logSlowResolvingAsync(T),T}else if(!Q){const Z=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(T=this._parser.parse(this._parseBuffer,Z))return this._preserveStack(M,W,Z,0),this._logSlowResolvingAsync(T),T}this._activeBuffer.x===M&&this._activeBuffer.y===W||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,P,T){let M,W;const X=this._charsetService.charset,Q=this._optionsService.rawOptions.screenReaderMode,Z=this._bufferService.cols,V=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,B=this._curAttrData;let H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&T-P>0&&H.getWidth(this._activeBuffer.x-1)===2&&H.setCellFromCodePoint(this._activeBuffer.x-1,0,1,B.fg,B.bg,B.extended);for(let F=P;F<T;++F){if(M=R[F],W=this._unicodeService.wcwidth(M),M<127&&X){const J=X[String.fromCharCode(M)];J&&(M=J.charCodeAt(0))}if(Q&&this._onA11yChar.fire((0,_.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),W||!this._activeBuffer.x){if(this._activeBuffer.x+W-1>=Z){if(V){for(;this._activeBuffer.x<Z;)H.setCellFromCodePoint(this._activeBuffer.x++,0,1,B.fg,B.bg,B.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),H=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=Z-1,W===2)continue}if(L&&(H.insertCells(this._activeBuffer.x,W,this._activeBuffer.getNullCell(B),B),H.getWidth(Z-1)===2&&H.setCellFromCodePoint(Z-1,u.NULL_CELL_CODE,u.NULL_CELL_WIDTH,B.fg,B.bg,B.extended)),H.setCellFromCodePoint(this._activeBuffer.x++,M,W,B.fg,B.bg,B.extended),W>0)for(;--W;)H.setCellFromCodePoint(this._activeBuffer.x++,0,0,B.fg,B.bg,B.extended)}else H.getWidth(this._activeBuffer.x-1)?H.addCodepointToCell(this._activeBuffer.x-1,M):H.addCodepointToCell(this._activeBuffer.x-2,M)}T-P>0&&(H.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<Z&&T-P>0&&H.getWidth(this._activeBuffer.x)===0&&!H.hasContent(this._activeBuffer.x)&&H.setCellFromCodePoint(this._activeBuffer.x,0,1,B.fg,B.bg,B.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,P){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,P):this._parser.registerCsiHandler(R,T=>!j(T.params[0],this._optionsService.rawOptions.windowOptions)||P(T))}registerDcsHandler(R,P){return this._parser.registerDcsHandler(R,new C.DcsHandler(P))}registerEscHandler(R,P){return this._parser.registerEscHandler(R,P)}registerOscHandler(R,P){return this._parser.registerOscHandler(R,new E.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=R,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+P)}cursorUp(R){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const P=R.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const P=R.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,P,T,M=!1,W=!1){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);X.replaceCells(P,T,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),W),M&&(X.isWrapped=!1)}_resetBufferLine(R,P=!1){const T=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);T&&(T.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),T.isWrapped=!1)}eraseInDisplay(R,P=!1){let T;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);T<this._bufferService.rows;T++)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(T);break;case 1:for(T=this._activeBuffer.y,this._dirtyRowTracker.markDirty(T),this._eraseInBufferLine(T,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(T+1).isWrapped=!1);T--;)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(T=this._bufferService.rows,this._dirtyRowTracker.markDirty(T-1);T--;)this._resetBufferLine(T,P);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(R,P=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;P--;)this._activeBuffer.lines.splice(W-1,1),this._activeBuffer.lines.splice(T,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const T=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;P--;)this._activeBuffer.lines.splice(T,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(c.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let T=this._activeBuffer.scrollTop;T<=this._activeBuffer.scrollBottom;++T){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+T);M.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const P=R.params[0]||1,T=new Uint32Array(P);for(let M=0;M<P;++M)T[M]=this._parser.precedingCodepoint;return this.print(T,0,T.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,P){const T=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:W}=this._coreMouseService,X=this._coreService,{buffers:Q,cols:Z}=this._bufferService,{active:V,alt:L}=Q,B=this._optionsService.rawOptions,H=z=>z?1:2,F=R.params[0];return J=F,Y=P?F===2?4:F===4?H(X.modes.insertMode):F===12?3:F===20?H(B.convertEol):0:F===1?H(T.applicationCursorKeys):F===3?B.windowOptions.setWinLines?Z===80?2:Z===132?1:0:0:F===6?H(T.origin):F===7?H(T.wraparound):F===8?3:F===9?H(M==="X10"):F===12?H(B.cursorBlink):F===25?H(!X.isCursorHidden):F===45?H(T.reverseWraparound):F===66?H(T.applicationKeypad):F===67?4:F===1e3?H(M==="VT200"):F===1002?H(M==="DRAG"):F===1003?H(M==="ANY"):F===1004?H(T.sendFocus):F===1005?4:F===1006?H(W==="SGR"):F===1015?4:F===1016?H(W==="SGR_PIXELS"):F===1048?1:F===47||F===1047||F===1049?H(V===L):F===2004?H(T.bracketedPasteMode):0,X.triggerDataEvent(`${m.C0.ESC}[${P?"":"?"}${J};${Y}$y`),!0;var J,Y}_updateAttrColor(R,P,T,M,W){return P===2?(R|=50331648,R&=-16777216,R|=y.AttributeData.fromColorRGB([T,M,W])):P===5&&(R&=-50331904,R|=33554432|255&T),R}_extractColor(R,P,T){const M=[0,0,-1,0,0,0];let W=0,X=0;do{if(M[X+W]=R.params[P+X],R.hasSubParams(P+X)){const Q=R.getSubParams(P+X);let Z=0;do M[1]===5&&(W=1),M[X+Z+1+W]=Q[Z];while(++Z<Q.length&&Z+X+1+W<M.length);break}if(M[1]===5&&X+W>=2||M[1]===2&&X+W>=5)break;M[1]&&(W=1)}while(++X+P<R.length&&X+W<M.length);for(let Q=2;Q<M.length;++Q)M[Q]===-1&&(M[Q]=0);switch(M[0]){case 38:T.fg=this._updateAttrColor(T.fg,M[1],M[3],M[4],M[5]);break;case 48:T.bg=this._updateAttrColor(T.bg,M[1],M[3],M[4],M[5]);break;case 58:T.extended=T.extended.clone(),T.extended.underlineColor=this._updateAttrColor(T.extended.underlineColor,M[1],M[3],M[4],M[5])}return X}_processUnderline(R,P){P.extended=P.extended.clone(),(!~R||R>5)&&(R=1),P.extended.underlineStyle=R,P.fg|=268435456,R===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(R){R.fg=c.DEFAULT_ATTR_DATA.fg,R.bg=c.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=R.length;let T;const M=this._curAttrData;for(let W=0;W<P;W++)T=R.params[W],T>=30&&T<=37?(M.fg&=-50331904,M.fg|=16777216|T-30):T>=40&&T<=47?(M.bg&=-50331904,M.bg|=16777216|T-40):T>=90&&T<=97?(M.fg&=-50331904,M.fg|=16777224|T-90):T>=100&&T<=107?(M.bg&=-50331904,M.bg|=16777224|T-100):T===0?this._processSGR0(M):T===1?M.fg|=134217728:T===3?M.bg|=67108864:T===4?(M.fg|=268435456,this._processUnderline(R.hasSubParams(W)?R.getSubParams(W)[0]:1,M)):T===5?M.fg|=536870912:T===7?M.fg|=67108864:T===8?M.fg|=1073741824:T===9?M.fg|=2147483648:T===2?M.bg|=134217728:T===21?this._processUnderline(2,M):T===22?(M.fg&=-134217729,M.bg&=-134217729):T===23?M.bg&=-67108865:T===24?(M.fg&=-268435457,this._processUnderline(0,M)):T===25?M.fg&=-536870913:T===27?M.fg&=-67108865:T===28?M.fg&=-1073741825:T===29?M.fg&=2147483647:T===39?(M.fg&=-67108864,M.fg|=16777215&c.DEFAULT_ATTR_DATA.fg):T===49?(M.bg&=-67108864,M.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):T===38||T===48||T===58?W+=this._extractColor(R,W,M):T===53?M.bg|=1073741824:T===55?M.bg&=-1073741825:T===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):T===100?(M.fg&=-67108864,M.fg|=16777215&c.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&c.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",T);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${P};${T}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const P=this._activeBuffer.y+1,T=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${P};${T}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const P=R.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const T=P%2==1;return this._optionsService.options.cursorBlink=T,!0}setScrollRegion(R){const P=R.params[0]||1;let T;return(R.length<2||(T=R.params[1])>this._bufferService.rows||T===0)&&(T=this._bufferService.rows),T>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=T-1,this._setCursor(0,0)),!0}windowOptions(R){if(!j(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const P=[],T=R.split(";");for(;T.length>1;){const M=T.shift(),W=T.shift();if(/^\d+$/.exec(M)){const X=parseInt(M);if(K(X))if(W==="?")P.push({type:0,index:X});else{const Q=(0,x.parseColor)(W);Q&&P.push({type:1,index:X,color:Q})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(R){const P=R.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(R,P){this._getCurrentLinkId()&&this._finishHyperlink();const T=R.split(":");let M;const W=T.findIndex(X=>X.startsWith("id="));return W!==-1&&(M=T[W].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,P){const T=R.split(";");for(let M=0;M<T.length&&!(P>=this._specialColors.length);++M,++P)if(T[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const W=(0,x.parseColor)(T[M]);W&&this._onColor.fire([{type:1,index:this._specialColors[P],color:W}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const P=[],T=R.split(";");for(let M=0;M<T.length;++M)if(/^\d+$/.exec(T[M])){const W=parseInt(T[M]);K(W)&&P.push({type:2,index:W})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(k[R[0]],g.CHARSETS[R[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=c.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=c.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new f.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const T=this._activeBuffer.ybase+this._activeBuffer.y+P,M=this._activeBuffer.lines.get(T);M&&(M.fill(R),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,P){const T=this._bufferService.buffer,M=this._optionsService.rawOptions;return(W=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${W}${m.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${T.scrollTop+1};${T.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,P){this._dirtyRowTracker.markRangeDirty(R,P)}}i.InputHandler=I;let U=class{constructor(q){this._bufferService=q,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(q){q<this.start?this.start=q:q>this.end&&(this.end=q)}markRangeDirty(q,R){q>R&&(O=q,q=R,R=O),q<this.start&&(this.start=q),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function K(q){return 0<=q&&q<256}U=p([v(0,b.IBufferService)],U)},844:(h,i)=>{function l(p){for(const v of p)v.dispose();p.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.MutableDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const v=this._disposables.indexOf(p);v!==-1&&this._disposables.splice(v,1)}},i.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var v;this._isDisposed||p===this._value||((v=this._value)===null||v===void 0||v.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},i.toDisposable=function(p){return{dispose:p}},i.disposeArray=l,i.getDisposeArrayDisposable=function(p){return{dispose:()=>l(p)}}},1505:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(v,m,g){this._data[v]||(this._data[v]={}),this._data[v][m]=g}get(v,m){return this._data[v]?this._data[v][m]:void 0}clear(){this._data={}}}i.TwoKeyMap=l,i.FourKeyMap=class{constructor(){this._data=new l}set(p,v,m,g,w){this._data.get(p,v)||this._data.set(p,v,new l),this._data.get(p,v).set(m,g,w)}get(p,v,m,g){var w;return(w=this._data.get(p,v))===null||w===void 0?void 0:w.get(m,g)}clear(){this._data.clear()}}},6114:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof navigator>"u";const l=i.isNode?"node":navigator.userAgent,p=i.isNode?"node":navigator.platform;i.isFirefox=l.includes("Firefox"),i.isLegacyEdge=l.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(l),i.getSafariVersion=function(){if(!i.isSafari)return 0;const v=l.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),i.isIpad=p==="iPad",i.isIphone=p==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),i.isLinux=p.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(l)},6106:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let l=0;i.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(l=this._search(this._getKey(p)),this._array.splice(l,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const v=this._getKey(p);if(v===void 0||(l=this._search(v),l===-1)||this._getKey(this._array[l])!==v)return!1;do if(this._array[l]===p)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===v);return!1}*getKeyIterator(p){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===p)}forEachByKey(p,v){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do v(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===p)}values(){return[...this._array].values()}_search(p){let v=0,m=this._array.length-1;for(;m>=v;){let g=v+m>>1;const w=this._getKey(this._array[g]);if(w>p)m=g-1;else{if(!(w<p)){for(;g>0&&this._getKey(this._array[g-1])===p;)g--;return g}v=g+1}}return v}}},7226:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const p=l(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(w){this._tasks.push(w),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(w){this._idleCallback=void 0;let S=0,_=0,c=w.timeRemaining(),d=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),_=Math.max(S,_),d=w.timeRemaining(),1.5*_>d)return c-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(c-S))}ms`),void this._start();c=d}this.clear()}}class m extends v{_requestCallback(w){return setTimeout(()=>w(this._createDeadline(16)))}_cancelCallback(w){clearTimeout(w)}_createDeadline(w){const S=Date.now()+w;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}i.PriorityTaskQueue=m,i.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:m,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const p=l(643);i.updateWindowsModeWrappedState=function(v){const m=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),g=m==null?void 0:m.get(v.cols-1),w=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);w&&g&&(w.isWrapped=g[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&g[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new l;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=l;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}constructor(m=0,g=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=g}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=p},9092:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.MAX_BUFFER_SIZE=void 0;const p=l(6349),v=l(7226),m=l(3734),g=l(8437),w=l(4634),S=l(511),_=l(643),c=l(4863),d=l(7116);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(u,f,y){this._hasScrollback=u,this._optionsService=f,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,_.NULL_CELL_CHAR,_.NULL_CELL_WIDTH,_.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,_.WHITESPACE_CELL_CHAR,_.WHITESPACE_CELL_WIDTH,_.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(u){return u?(this._nullCell.fg=u.fg,this._nullCell.bg=u.bg,this._nullCell.extended=u.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(u){return u?(this._whitespaceCell.fg=u.fg,this._whitespaceCell.bg=u.bg,this._whitespaceCell.extended=u.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(u,f){return new g.BufferLine(this._bufferService.cols,this.getNullCell(u),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const u=this.ybase+this.y-this.ydisp;return u>=0&&u<this._rows}_getCorrectBufferLength(u){if(!this._hasScrollback)return u;const f=u+this._optionsService.rawOptions.scrollback;return f>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:f}fillViewportRows(u){if(this.lines.length===0){u===void 0&&(u=g.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(u))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(u,f){const y=this.getNullCell(g.DEFAULT_ATTR_DATA);let b=0;const E=this._getCorrectBufferLength(f);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<u)for(let x=0;x<this.lines.length;x++)b+=+this.lines.get(x).resize(u,y);let C=0;if(this._rows<f)for(let x=this._rows;x<f;x++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(u,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+C+1?(this.ybase--,C++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(u,y)));else for(let x=this._rows;x>f;x--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const x=this.lines.length-E;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=E}this.x=Math.min(this.x,u-1),this.y=Math.min(this.y,f-1),C&&(this.y+=C),this.savedX=Math.min(this.savedX,u-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(u,f),this._cols>u))for(let C=0;C<this.lines.length;C++)b+=+this.lines.get(C).resize(u,y);this._cols=u,this._rows=f,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let u=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,u=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return u}get _isReflowEnabled(){const u=this._optionsService.rawOptions.windowsPty;return u&&u.buildNumber?this._hasScrollback&&u.backend==="conpty"&&u.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(u,f){this._cols!==u&&(u>this._cols?this._reflowLarger(u,f):this._reflowSmaller(u,f))}_reflowLarger(u,f){const y=(0,w.reflowLargerGetLinesToRemove)(this.lines,this._cols,u,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(y.length>0){const b=(0,w.reflowLargerCreateNewLayout)(this.lines,y);(0,w.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(u,f,b.countRemoved)}}_reflowLargerAdjustViewport(u,f,y){const b=this.getNullCell(g.DEFAULT_ATTR_DATA);let E=y;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new g.BufferLine(u,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(u,f){const y=this.getNullCell(g.DEFAULT_ATTR_DATA),b=[];let E=0;for(let C=this.lines.length-1;C>=0;C--){let x=this.lines.get(C);if(!x||!x.isWrapped&&x.getTrimmedLength()<=u)continue;const k=[x];for(;x.isWrapped&&C>0;)x=this.lines.get(--C),k.unshift(x);const N=this.ybase+this.y;if(N>=C&&N<C+k.length)continue;const j=k[k.length-1].getTrimmedLength(),D=(0,w.reflowSmallerGetNewLineLengths)(k,this._cols,u),O=D.length-k.length;let I;I=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+O):Math.max(0,this.lines.length-this.lines.maxLength+O);const U=[];for(let M=0;M<O;M++){const W=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);U.push(W)}U.length>0&&(b.push({start:C+k.length+E,newLines:U}),E+=U.length),k.push(...U);let K=D.length-1,q=D[K];q===0&&(K--,q=D[K]);let R=k.length-O-1,P=j;for(;R>=0;){const M=Math.min(P,q);if(k[K]===void 0)break;if(k[K].copyCellsFrom(k[R],P-M,q-M,M,!0),q-=M,q===0&&(K--,q=D[K]),P-=M,P===0){R--;const W=Math.max(R,0);P=(0,w.getWrappedLineTrimmedLength)(k,W,this._cols)}}for(let M=0;M<k.length;M++)D[M]<u&&k[M].setCell(D[M],y);let T=O-I;for(;T-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+O,this.ybase+f-1)}if(b.length>0){const C=[],x=[];for(let K=0;K<this.lines.length;K++)x.push(this.lines.get(K));const k=this.lines.length;let N=k-1,j=0,D=b[j];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let O=0;for(let K=Math.min(this.lines.maxLength-1,k+E-1);K>=0;K--)if(D&&D.start>N+O){for(let q=D.newLines.length-1;q>=0;q--)this.lines.set(K--,D.newLines[q]);K++,C.push({index:N+1,amount:D.newLines.length}),O+=D.newLines.length,D=b[++j]}else this.lines.set(K,x[N--]);let I=0;for(let K=C.length-1;K>=0;K--)C[K].index+=I,this.lines.onInsertEmitter.fire(C[K]),I+=C[K].amount;const U=Math.max(0,k+E-this.lines.maxLength);U>0&&this.lines.onTrimEmitter.fire(U)}}translateBufferLineToString(u,f,y=0,b){const E=this.lines.get(u);return E?E.translateToString(f,y,b):""}getWrappedRangeForLine(u){let f=u,y=u;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:f,last:y}}setupTabStops(u){for(u!=null?this.tabs[u]||(u=this.prevStop(u)):(this.tabs={},u=0);u<this._cols;u+=this._optionsService.rawOptions.tabStopWidth)this.tabs[u]=!0}prevStop(u){for(u==null&&(u=this.x);!this.tabs[--u]&&u>0;);return u>=this._cols?this._cols-1:u<0?0:u}nextStop(u){for(u==null&&(u=this.x);!this.tabs[++u]&&u<this._cols;);return u>=this._cols?this._cols-1:u<0?0:u}clearMarkers(u){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===u&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let u=0;u<this.markers.length;u++)this.markers[u].dispose(),this.markers.splice(u--,1);this._isClearing=!1}addMarker(u){const f=new c.Marker(u);return this.markers.push(f),f.register(this.lines.onTrim(y=>{f.line-=y,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(y=>{f.line>=y.index&&(f.line+=y.amount)})),f.register(this.lines.onDelete(y=>{f.line>=y.index&&f.line<y.index+y.amount&&f.dispose(),f.line>y.index&&(f.line-=y.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(u){this._isClearing||this.markers.splice(this.markers.indexOf(u),1)}}},8437:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const p=l(3734),v=l(511),m=l(643),g=l(482);i.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let w=0;class S{constructor(c,d,u=!1){this.isWrapped=u,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*c);const f=d||v.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let y=0;y<c;++y)this.setCell(y,f);this.length=c}get(c){const d=this._data[3*c+0],u=2097151&d;return[this._data[3*c+1],2097152&d?this._combined[c]:u?(0,g.stringFromCodePoint)(u):"",d>>22,2097152&d?this._combined[c].charCodeAt(this._combined[c].length-1):u]}set(c,d){this._data[3*c+1]=d[m.CHAR_DATA_ATTR_INDEX],d[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[c]=d[1],this._data[3*c+0]=2097152|c|d[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*c+0]=d[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|d[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(c){return this._data[3*c+0]>>22}hasWidth(c){return 12582912&this._data[3*c+0]}getFg(c){return this._data[3*c+1]}getBg(c){return this._data[3*c+2]}hasContent(c){return 4194303&this._data[3*c+0]}getCodePoint(c){const d=this._data[3*c+0];return 2097152&d?this._combined[c].charCodeAt(this._combined[c].length-1):2097151&d}isCombined(c){return 2097152&this._data[3*c+0]}getString(c){const d=this._data[3*c+0];return 2097152&d?this._combined[c]:2097151&d?(0,g.stringFromCodePoint)(2097151&d):""}isProtected(c){return 536870912&this._data[3*c+2]}loadCell(c,d){return w=3*c,d.content=this._data[w+0],d.fg=this._data[w+1],d.bg=this._data[w+2],2097152&d.content&&(d.combinedData=this._combined[c]),268435456&d.bg&&(d.extended=this._extendedAttrs[c]),d}setCell(c,d){2097152&d.content&&(this._combined[c]=d.combinedData),268435456&d.bg&&(this._extendedAttrs[c]=d.extended),this._data[3*c+0]=d.content,this._data[3*c+1]=d.fg,this._data[3*c+2]=d.bg}setCellFromCodePoint(c,d,u,f,y,b){268435456&y&&(this._extendedAttrs[c]=b),this._data[3*c+0]=d|u<<22,this._data[3*c+1]=f,this._data[3*c+2]=y}addCodepointToCell(c,d){let u=this._data[3*c+0];2097152&u?this._combined[c]+=(0,g.stringFromCodePoint)(d):(2097151&u?(this._combined[c]=(0,g.stringFromCodePoint)(2097151&u)+(0,g.stringFromCodePoint)(d),u&=-2097152,u|=2097152):u=d|4194304,this._data[3*c+0]=u)}insertCells(c,d,u,f){if((c%=this.length)&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),d<this.length-c){const y=new v.CellData;for(let b=this.length-c-d-1;b>=0;--b)this.setCell(c+d+b,this.loadCell(c+b,y));for(let b=0;b<d;++b)this.setCell(c+b,u)}else for(let y=c;y<this.length;++y)this.setCell(y,u);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs)}deleteCells(c,d,u,f){if(c%=this.length,d<this.length-c){const y=new v.CellData;for(let b=0;b<this.length-c-d;++b)this.setCell(c+b,this.loadCell(c+d+b,y));for(let b=this.length-d;b<this.length;++b)this.setCell(b,u)}else for(let y=c;y<this.length;++y)this.setCell(y,u);c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),this.getWidth(c)!==0||this.hasContent(c)||this.setCellFromCodePoint(c,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs)}replaceCells(c,d,u,f,y=!1){if(y)for(c&&this.getWidth(c-1)===2&&!this.isProtected(c-1)&&this.setCellFromCodePoint(c-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&!this.isProtected(d)&&this.setCellFromCodePoint(d,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs);c<d&&c<this.length;)this.isProtected(c)||this.setCell(c,u),c++;else for(c&&this.getWidth(c-1)===2&&this.setCellFromCodePoint(c-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),d<this.length&&this.getWidth(d-1)===2&&this.setCellFromCodePoint(d,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs);c<d&&c<this.length;)this.setCell(c++,u)}resize(c,d){if(c===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const u=3*c;if(c>this.length){if(this._data.buffer.byteLength>=4*u)this._data=new Uint32Array(this._data.buffer,0,u);else{const f=new Uint32Array(u);f.set(this._data),this._data=f}for(let f=this.length;f<c;++f)this.setCell(f,d)}else{this._data=this._data.subarray(0,u);const f=Object.keys(this._combined);for(let b=0;b<f.length;b++){const E=parseInt(f[b],10);E>=c&&delete this._combined[E]}const y=Object.keys(this._extendedAttrs);for(let b=0;b<y.length;b++){const E=parseInt(y[b],10);E>=c&&delete this._extendedAttrs[E]}}return this.length=c,4*u*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const c=new Uint32Array(this._data.length);return c.set(this._data),this._data=c,1}return 0}fill(c,d=!1){if(d)for(let u=0;u<this.length;++u)this.isProtected(u)||this.setCell(u,c);else{this._combined={},this._extendedAttrs={};for(let u=0;u<this.length;++u)this.setCell(u,c)}}copyFrom(c){this.length!==c.length?this._data=new Uint32Array(c._data):this._data.set(c._data),this.length=c.length,this._combined={};for(const d in c._combined)this._combined[d]=c._combined[d];this._extendedAttrs={};for(const d in c._extendedAttrs)this._extendedAttrs[d]=c._extendedAttrs[d];this.isWrapped=c.isWrapped}clone(){const c=new S(0);c._data=new Uint32Array(this._data),c.length=this.length;for(const d in this._combined)c._combined[d]=this._combined[d];for(const d in this._extendedAttrs)c._extendedAttrs[d]=this._extendedAttrs[d];return c.isWrapped=this.isWrapped,c}getTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0])return c+(this._data[3*c+0]>>22);return 0}getNoBgTrimmedLength(){for(let c=this.length-1;c>=0;--c)if(4194303&this._data[3*c+0]||50331648&this._data[3*c+2])return c+(this._data[3*c+0]>>22);return 0}copyCellsFrom(c,d,u,f,y){const b=c._data;if(y)for(let C=f-1;C>=0;C--){for(let x=0;x<3;x++)this._data[3*(u+C)+x]=b[3*(d+C)+x];268435456&b[3*(d+C)+2]&&(this._extendedAttrs[u+C]=c._extendedAttrs[d+C])}else for(let C=0;C<f;C++){for(let x=0;x<3;x++)this._data[3*(u+C)+x]=b[3*(d+C)+x];268435456&b[3*(d+C)+2]&&(this._extendedAttrs[u+C]=c._extendedAttrs[d+C])}const E=Object.keys(c._combined);for(let C=0;C<E.length;C++){const x=parseInt(E[C],10);x>=d&&(this._combined[x-d+u]=c._combined[x])}}translateToString(c=!1,d=0,u=this.length){c&&(u=Math.min(u,this.getTrimmedLength()));let f="";for(;d<u;){const y=this._data[3*d+0],b=2097151&y;f+=2097152&y?this._combined[d]:b?(0,g.stringFromCodePoint)(b):m.WHITESPACE_CELL_CHAR,d+=y>>22||1}return f}}i.BufferLine=S},4841:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(l,p){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return p*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(h,i)=>{function l(p,v,m){if(v===p.length-1)return p[v].getTrimmedLength();const g=!p[v].hasContent(m-1)&&p[v].getWidth(m-1)===1,w=p[v+1].getWidth(0)===2;return g&&w?m-1:m}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(p,v,m,g,w){const S=[];for(let _=0;_<p.length-1;_++){let c=_,d=p.get(++c);if(!d.isWrapped)continue;const u=[p.get(_)];for(;c<p.length&&d.isWrapped;)u.push(d),d=p.get(++c);if(g>=_&&g<c){_+=u.length-1;continue}let f=0,y=l(u,f,v),b=1,E=0;for(;b<u.length;){const x=l(u,b,v),k=x-E,N=m-y,j=Math.min(k,N);u[f].copyCellsFrom(u[b],E,y,j,!1),y+=j,y===m&&(f++,y=0),E+=j,E===x&&(b++,E=0),y===0&&f!==0&&u[f-1].getWidth(m-1)===2&&(u[f].copyCellsFrom(u[f-1],m-1,y++,1,!1),u[f-1].setCell(m-1,w))}u[f].replaceCells(y,m,w);let C=0;for(let x=u.length-1;x>0&&(x>f||u[x].getTrimmedLength()===0);x--)C++;C>0&&(S.push(_+u.length-C),S.push(C)),_+=u.length-1}return S},i.reflowLargerCreateNewLayout=function(p,v){const m=[];let g=0,w=v[g],S=0;for(let _=0;_<p.length;_++)if(w===_){const c=v[++g];p.onDeleteEmitter.fire({index:_-S,amount:c}),_+=c-1,S+=c,w=v[++g]}else m.push(_);return{layout:m,countRemoved:S}},i.reflowLargerApplyNewLayout=function(p,v){const m=[];for(let g=0;g<v.length;g++)m.push(p.get(v[g]));for(let g=0;g<m.length;g++)p.set(g,m[g]);p.length=v.length},i.reflowSmallerGetNewLineLengths=function(p,v,m){const g=[],w=p.map((d,u)=>l(p,u,v)).reduce((d,u)=>d+u);let S=0,_=0,c=0;for(;c<w;){if(w-c<m){g.push(w-c);break}S+=m;const d=l(p,_,v);S>d&&(S-=d,_++);const u=p[_].getWidth(S-1)===2;u&&S--;const f=u?m-1:m;g.push(f),c+=f}return g},i.getWrappedLineTrimmedLength=l},5295:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const p=l(8460),v=l(844),m=l(9092);class g extends v.Disposable{constructor(S,_){super(),this._optionsService=S,this._bufferService=_,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,_){this._normal.resize(S,_),this._alt.resize(S,_),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}i.BufferSet=g},511:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const p=l(482),v=l(643),m=l(3734);class g extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const _=new g;return _.setFromCharData(S),_}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let _=!1;if(S[v.CHAR_DATA_CHAR_INDEX].length>2)_=!0;else if(S[v.CHAR_DATA_CHAR_INDEX].length===2){const c=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=c&&c<=56319){const d=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=d&&d<=57343?this.content=1024*(c-55296)+d-56320+65536|S[v.CHAR_DATA_WIDTH_INDEX]<<22:_=!0}else _=!0}else this.content=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[v.CHAR_DATA_WIDTH_INDEX]<<22;_&&(this.combinedData=S[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=g},643:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const p=l(8460),v=l(844);class m{get id(){return this._id}constructor(w){this.line=w,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(w){return this._disposables.push(w),w}}i.Marker=m,m._nextId=1},7116:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},i.CHARSETS.A={"#":""},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},i.CHARSETS.C=i.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.E=i.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},i.CHARSETS.H=i.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(h,i)=>{var l,p,v;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(l||(i.C0=l={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(p||(i.C1=p={})),function(m){m.ST=`${l.ESC}\\`}(v||(i.C1_ESCAPED=v={}))},7399:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const p=l(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(m,g,w,S){const _={type:0,cancel:!1,key:void 0},c=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?_.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?_.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?_.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(_.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(m.altKey){_.key=p.C0.ESC+p.C0.DEL;break}_.key=p.C0.DEL;break;case 9:if(m.shiftKey){_.key=p.C0.ESC+"[Z";break}_.key=p.C0.HT,_.cancel=!0;break;case 13:_.key=m.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,_.cancel=!0;break;case 27:_.key=p.C0.ESC,m.altKey&&(_.key=p.C0.ESC+p.C0.ESC),_.cancel=!0;break;case 37:if(m.metaKey)break;c?(_.key=p.C0.ESC+"[1;"+(c+1)+"D",_.key===p.C0.ESC+"[1;3D"&&(_.key=p.C0.ESC+(w?"b":"[1;5D"))):_.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(m.metaKey)break;c?(_.key=p.C0.ESC+"[1;"+(c+1)+"C",_.key===p.C0.ESC+"[1;3C"&&(_.key=p.C0.ESC+(w?"f":"[1;5C"))):_.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(m.metaKey)break;c?(_.key=p.C0.ESC+"[1;"+(c+1)+"A",w||_.key!==p.C0.ESC+"[1;3A"||(_.key=p.C0.ESC+"[1;5A")):_.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(m.metaKey)break;c?(_.key=p.C0.ESC+"[1;"+(c+1)+"B",w||_.key!==p.C0.ESC+"[1;3B"||(_.key=p.C0.ESC+"[1;5B")):_.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(_.key=p.C0.ESC+"[2~");break;case 46:_.key=c?p.C0.ESC+"[3;"+(c+1)+"~":p.C0.ESC+"[3~";break;case 36:_.key=c?p.C0.ESC+"[1;"+(c+1)+"H":g?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:_.key=c?p.C0.ESC+"[1;"+(c+1)+"F":g?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:m.shiftKey?_.type=2:m.ctrlKey?_.key=p.C0.ESC+"[5;"+(c+1)+"~":_.key=p.C0.ESC+"[5~";break;case 34:m.shiftKey?_.type=3:m.ctrlKey?_.key=p.C0.ESC+"[6;"+(c+1)+"~":_.key=p.C0.ESC+"[6~";break;case 112:_.key=c?p.C0.ESC+"[1;"+(c+1)+"P":p.C0.ESC+"OP";break;case 113:_.key=c?p.C0.ESC+"[1;"+(c+1)+"Q":p.C0.ESC+"OQ";break;case 114:_.key=c?p.C0.ESC+"[1;"+(c+1)+"R":p.C0.ESC+"OR";break;case 115:_.key=c?p.C0.ESC+"[1;"+(c+1)+"S":p.C0.ESC+"OS";break;case 116:_.key=c?p.C0.ESC+"[15;"+(c+1)+"~":p.C0.ESC+"[15~";break;case 117:_.key=c?p.C0.ESC+"[17;"+(c+1)+"~":p.C0.ESC+"[17~";break;case 118:_.key=c?p.C0.ESC+"[18;"+(c+1)+"~":p.C0.ESC+"[18~";break;case 119:_.key=c?p.C0.ESC+"[19;"+(c+1)+"~":p.C0.ESC+"[19~";break;case 120:_.key=c?p.C0.ESC+"[20;"+(c+1)+"~":p.C0.ESC+"[20~";break;case 121:_.key=c?p.C0.ESC+"[21;"+(c+1)+"~":p.C0.ESC+"[21~";break;case 122:_.key=c?p.C0.ESC+"[23;"+(c+1)+"~":p.C0.ESC+"[23~";break;case 123:_.key=c?p.C0.ESC+"[24;"+(c+1)+"~":p.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(w&&!S||!m.altKey||m.metaKey)!w||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?_.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(_.key=p.C0.US),m.key==="@"&&(_.key=p.C0.NUL)):m.keyCode===65&&(_.type=1);else{const d=v[m.keyCode],u=d==null?void 0:d[m.shiftKey?1:0];if(u)_.key=p.C0.ESC+u;else if(m.keyCode>=65&&m.keyCode<=90){const f=m.ctrlKey?m.keyCode-64:m.keyCode+32;let y=String.fromCharCode(f);m.shiftKey&&(y=y.toUpperCase()),_.key=p.C0.ESC+y}else if(m.keyCode===32)_.key=p.C0.ESC+(m.ctrlKey?p.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let f=m.code.slice(3,4);m.shiftKey||(f=f.toLowerCase()),_.key=p.C0.ESC+f,_.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?_.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?_.key=p.C0.NUL:m.keyCode>=51&&m.keyCode<=55?_.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?_.key=p.C0.DEL:m.keyCode===219?_.key=p.C0.ESC:m.keyCode===220?_.key=p.C0.FS:m.keyCode===221&&(_.key=p.C0.GS)}return _}},482:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},i.utf32ToString=function(l,p=0,v=l.length){let m="";for(let g=p;g<v;++g){let w=l[g];w>65535?(w-=65536,m+=String.fromCharCode(55296+(w>>10))+String.fromCharCode(w%1024+56320)):m+=String.fromCharCode(w)}return m},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,p){const v=l.length;if(!v)return 0;let m=0,g=0;if(this._interim){const w=l.charCodeAt(g++);56320<=w&&w<=57343?p[m++]=1024*(this._interim-55296)+w-56320+65536:(p[m++]=this._interim,p[m++]=w),this._interim=0}for(let w=g;w<v;++w){const S=l.charCodeAt(w);if(55296<=S&&S<=56319){if(++w>=v)return this._interim=S,m;const _=l.charCodeAt(w);56320<=_&&_<=57343?p[m++]=1024*(S-55296)+_-56320+65536:(p[m++]=S,p[m++]=_)}else S!==65279&&(p[m++]=S)}return m}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,p){const v=l.length;if(!v)return 0;let m,g,w,S,_=0,c=0,d=0;if(this.interim[0]){let y=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let E,C=0;for(;(E=63&this.interim[++C])&&C<4;)b<<=6,b|=E;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,k=x-C;for(;d<k;){if(d>=v)return 0;if(E=l[d++],(192&E)!=128){d--,y=!0;break}this.interim[C++]=E,b<<=6,b|=63&E}y||(x===2?b<128?d--:p[_++]=b:x===3?b<2048||b>=55296&&b<=57343||b===65279||(p[_++]=b):b<65536||b>1114111||(p[_++]=b)),this.interim.fill(0)}const u=v-4;let f=d;for(;f<v;){for(;!(!(f<u)||128&(m=l[f])||128&(g=l[f+1])||128&(w=l[f+2])||128&(S=l[f+3]));)p[_++]=m,p[_++]=g,p[_++]=w,p[_++]=S,f+=4;if(m=l[f++],m<128)p[_++]=m;else if((224&m)==192){if(f>=v)return this.interim[0]=m,_;if(g=l[f++],(192&g)!=128){f--;continue}if(c=(31&m)<<6|63&g,c<128){f--;continue}p[_++]=c}else if((240&m)==224){if(f>=v)return this.interim[0]=m,_;if(g=l[f++],(192&g)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,_;if(w=l[f++],(192&w)!=128){f--;continue}if(c=(15&m)<<12|(63&g)<<6|63&w,c<2048||c>=55296&&c<=57343||c===65279)continue;p[_++]=c}else if((248&m)==240){if(f>=v)return this.interim[0]=m,_;if(g=l[f++],(192&g)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,_;if(w=l[f++],(192&w)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,this.interim[2]=w,_;if(S=l[f++],(192&S)!=128){f--;continue}if(c=(7&m)<<18|(63&g)<<12|(63&w)<<6|63&S,c<65536||c>1114111)continue;p[_++]=c}}return _}}},225:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;i.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let m=0;m<l.length;++m)v.fill(0,l[m][0],l[m][1]+1)}}wcwidth(m){return m<32?0:m<127?1:m<65536?v[m]:function(g,w){let S,_=0,c=w.length-1;if(g<w[0][0]||g>w[c][1])return!1;for(;c>=_;)if(S=_+c>>1,g>w[S][1])_=S+1;else{if(!(g<w[S][0]))return!0;c=S-1}return!1}(m,p)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1}}},5981:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const p=l(8460),v=l(844);class m extends v.Disposable{constructor(w){super(),this._action=w,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(w,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let _;for(this._isSyncWriting=!0;_=this._writeBuffer.shift();){this._action(_);const c=this._callbacks.shift();c&&c()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(w,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=w.length,this._writeBuffer.push(w),this._callbacks.push(S)}_innerWrite(w=0,S=!0){const _=w||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const c=this._writeBuffer[this._bufferOffset],d=this._action(c,S);if(d){const f=y=>Date.now()-_>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(_,y);return void d.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(f)}const u=this._callbacks[this._bufferOffset];if(u&&u(),this._bufferOffset++,this._pendingData-=c.length,Date.now()-_>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=m},5941:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function v(m,g){const w=m.toString(16),S=w.length<2?"0"+w:w;switch(g){case 4:return w[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}i.parseColor=function(m){if(!m)return;let g=m.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const w=l.exec(g);if(w){const S=w[1]?15:w[4]?255:w[7]?4095:65535;return[Math.round(parseInt(w[1]||w[4]||w[7]||w[10],16)/S*255),Math.round(parseInt(w[2]||w[5]||w[8]||w[11],16)/S*255),Math.round(parseInt(w[3]||w[6]||w[9]||w[12],16)/S*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),p.exec(g)&&[3,6,9,12].includes(g.length))){const w=g.length/3,S=[0,0,0];for(let _=0;_<3;++_){const c=parseInt(g.slice(w*_,w*_+w),16);S[_]=w===1?c<<4:w===2?c:w===3?c>>4:c>>8}return S}},i.toRgbString=function(m,g=16){const[w,S,_]=m;return`rgb:${v(w,g)}/${v(S,g)}/${v(_,g)}`}},5770:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const p=l(482),v=l(8742),m=l(5770),g=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(S,_){this._handlers[S]===void 0&&(this._handlers[S]=[]);const c=this._handlers[S];return c.push(_),{dispose:()=>{const d=c.indexOf(_);d!==-1&&c.splice(d,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(S,_){if(this.reset(),this._ident=S,this._active=this._handlers[S]||g,this._active.length)for(let c=this._active.length-1;c>=0;c--)this._active[c].hook(_);else this._handlerFb(this._ident,"HOOK",_)}put(S,_,c){if(this._active.length)for(let d=this._active.length-1;d>=0;d--)this._active[d].put(S,_,c);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(S,_,c))}unhook(S,_=!0){if(this._active.length){let c=!1,d=this._active.length-1,u=!1;if(this._stack.paused&&(d=this._stack.loopPosition-1,c=_,u=this._stack.fallThrough,this._stack.paused=!1),!u&&c===!1){for(;d>=0&&(c=this._active[d].unhook(S),c!==!0);d--)if(c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!1,c;d--}for(;d>=0;d--)if(c=this._active[d].unhook(!1),c instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=d,this._stack.fallThrough=!0,c}else this._handlerFb(this._ident,"UNHOOK",S);this._active=g,this._ident=0}};const w=new v.Params;w.addParam(0),i.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=w,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():w,this._data="",this._hitLimit=!1}put(S,_,c){this._hitLimit||(this._data+=(0,p.utf32ToString)(S,_,c),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let _=!1;if(this._hitLimit)_=!1;else if(S&&(_=this._handler(this._data,this._params),_ instanceof Promise))return _.then(c=>(this._params=w,this._data="",this._hitLimit=!1,c));return this._params=w,this._data="",this._hitLimit=!1,_}}},2015:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const p=l(844),v=l(8742),m=l(6242),g=l(6351);class w{constructor(d){this.table=new Uint8Array(d)}setDefault(d,u){this.table.fill(d<<4|u)}add(d,u,f,y){this.table[u<<8|d]=f<<4|y}addMany(d,u,f,y){for(let b=0;b<d.length;b++)this.table[u<<8|d[b]]=f<<4|y}}i.TransitionTable=w;const S=160;i.VT500_TRANSITION_TABLE=function(){const c=new w(4095),d=Array.apply(null,Array(256)).map((C,x)=>x),u=(C,x)=>d.slice(C,x),f=u(32,127),y=u(0,24);y.push(25),y.push.apply(y,u(28,32));const b=u(0,14);let E;for(E in c.setDefault(1,0),c.addMany(f,0,2,0),b)c.addMany([24,26,153,154],E,3,0),c.addMany(u(128,144),E,3,0),c.addMany(u(144,152),E,3,0),c.add(156,E,0,0),c.add(27,E,11,1),c.add(157,E,4,8),c.addMany([152,158,159],E,0,7),c.add(155,E,11,3),c.add(144,E,11,9);return c.addMany(y,0,3,0),c.addMany(y,1,3,1),c.add(127,1,0,1),c.addMany(y,8,0,8),c.addMany(y,3,3,3),c.add(127,3,0,3),c.addMany(y,4,3,4),c.add(127,4,0,4),c.addMany(y,6,3,6),c.addMany(y,5,3,5),c.add(127,5,0,5),c.addMany(y,2,3,2),c.add(127,2,0,2),c.add(93,1,4,8),c.addMany(f,8,5,8),c.add(127,8,5,8),c.addMany([156,27,24,26,7],8,6,0),c.addMany(u(28,32),8,0,8),c.addMany([88,94,95],1,0,7),c.addMany(f,7,0,7),c.addMany(y,7,0,7),c.add(156,7,0,0),c.add(127,7,0,7),c.add(91,1,11,3),c.addMany(u(64,127),3,7,0),c.addMany(u(48,60),3,8,4),c.addMany([60,61,62,63],3,9,4),c.addMany(u(48,60),4,8,4),c.addMany(u(64,127),4,7,0),c.addMany([60,61,62,63],4,0,6),c.addMany(u(32,64),6,0,6),c.add(127,6,0,6),c.addMany(u(64,127),6,0,0),c.addMany(u(32,48),3,9,5),c.addMany(u(32,48),5,9,5),c.addMany(u(48,64),5,0,6),c.addMany(u(64,127),5,7,0),c.addMany(u(32,48),4,9,5),c.addMany(u(32,48),1,9,2),c.addMany(u(32,48),2,9,2),c.addMany(u(48,127),2,10,0),c.addMany(u(48,80),1,10,0),c.addMany(u(81,88),1,10,0),c.addMany([89,90,92],1,10,0),c.addMany(u(96,127),1,10,0),c.add(80,1,11,9),c.addMany(y,9,0,9),c.add(127,9,0,9),c.addMany(u(28,32),9,0,9),c.addMany(u(32,48),9,9,12),c.addMany(u(48,60),9,8,10),c.addMany([60,61,62,63],9,9,10),c.addMany(y,11,0,11),c.addMany(u(32,128),11,0,11),c.addMany(u(28,32),11,0,11),c.addMany(y,10,0,10),c.add(127,10,0,10),c.addMany(u(28,32),10,0,10),c.addMany(u(48,60),10,8,10),c.addMany([60,61,62,63],10,0,11),c.addMany(u(32,48),10,9,12),c.addMany(y,12,0,12),c.add(127,12,0,12),c.addMany(u(28,32),12,0,12),c.addMany(u(32,48),12,9,12),c.addMany(u(48,64),12,0,11),c.addMany(u(64,127),12,12,13),c.addMany(u(64,127),10,12,13),c.addMany(u(64,127),9,12,13),c.addMany(y,13,13,13),c.addMany(f,13,13,13),c.add(127,13,0,13),c.addMany([27,156,24,26],13,14,0),c.add(S,0,2,0),c.add(S,8,5,8),c.add(S,6,0,6),c.add(S,11,0,11),c.add(S,13,13,13),c}();class _ extends p.Disposable{constructor(d=i.VT500_TRANSITION_TABLE){super(),this._transitions=d,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(u,f,y)=>{},this._executeHandlerFb=u=>{},this._csiHandlerFb=(u,f)=>{},this._escHandlerFb=u=>{},this._errorHandlerFb=u=>u,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(d,u=[64,126]){let f=0;if(d.prefix){if(d.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=d.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(d.intermediates){if(d.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<d.intermediates.length;++b){const E=d.intermediates.charCodeAt(b);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=E}}if(d.final.length!==1)throw new Error("final must be a single byte");const y=d.final.charCodeAt(0);if(u[0]>y||y>u[1])throw new Error(`final must be in range ${u[0]} .. ${u[1]}`);return f<<=8,f|=y,f}identToString(d){const u=[];for(;d;)u.push(String.fromCharCode(255&d)),d>>=8;return u.reverse().join("")}setPrintHandler(d){this._printHandler=d}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(d,u){const f=this._identifier(d,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const y=this._escHandlers[f];return y.push(u),{dispose:()=>{const b=y.indexOf(u);b!==-1&&y.splice(b,1)}}}clearEscHandler(d){this._escHandlers[this._identifier(d,[48,126])]&&delete this._escHandlers[this._identifier(d,[48,126])]}setEscHandlerFallback(d){this._escHandlerFb=d}setExecuteHandler(d,u){this._executeHandlers[d.charCodeAt(0)]=u}clearExecuteHandler(d){this._executeHandlers[d.charCodeAt(0)]&&delete this._executeHandlers[d.charCodeAt(0)]}setExecuteHandlerFallback(d){this._executeHandlerFb=d}registerCsiHandler(d,u){const f=this._identifier(d);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const y=this._csiHandlers[f];return y.push(u),{dispose:()=>{const b=y.indexOf(u);b!==-1&&y.splice(b,1)}}}clearCsiHandler(d){this._csiHandlers[this._identifier(d)]&&delete this._csiHandlers[this._identifier(d)]}setCsiHandlerFallback(d){this._csiHandlerFb=d}registerDcsHandler(d,u){return this._dcsParser.registerHandler(this._identifier(d),u)}clearDcsHandler(d){this._dcsParser.clearHandler(this._identifier(d))}setDcsHandlerFallback(d){this._dcsParser.setHandlerFallback(d)}registerOscHandler(d,u){return this._oscParser.registerHandler(d,u)}clearOscHandler(d){this._oscParser.clearHandler(d)}setOscHandlerFallback(d){this._oscParser.setHandlerFallback(d)}setErrorHandler(d){this._errorHandler=d}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(d,u,f,y,b){this._parseStack.state=d,this._parseStack.handlers=u,this._parseStack.handlerPos=f,this._parseStack.transition=y,this._parseStack.chunkPos=b}parse(d,u,f){let y,b=0,E=0,C=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,C=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let k=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&k>-1){for(;k>=0&&(y=x[k](this._params),y!==!0);k--)if(y instanceof Promise)return this._parseStack.handlerPos=k,y}this._parseStack.handlers=[];break;case 4:if(f===!1&&k>-1){for(;k>=0&&(y=x[k](),y!==!0);k--)if(y instanceof Promise)return this._parseStack.handlerPos=k,y}this._parseStack.handlers=[];break;case 6:if(b=d[this._parseStack.chunkPos],y=this._dcsParser.unhook(b!==24&&b!==26,f),y)return y;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=d[this._parseStack.chunkPos],y=this._oscParser.end(b!==24&&b!==26,f),y)return y;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,C=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let x=C;x<u;++x){switch(b=d[x],E=this._transitions.table[this.currentState<<8|(b<160?b:S)],E>>4){case 2:for(let O=x+1;;++O){if(O>=u||(b=d[O])<32||b>126&&b<S){this._printHandler(d,x,O),x=O-1;break}if(++O>=u||(b=d[O])<32||b>126&&b<S){this._printHandler(d,x,O),x=O-1;break}if(++O>=u||(b=d[O])<32||b>126&&b<S){this._printHandler(d,x,O),x=O-1;break}if(++O>=u||(b=d[O])<32||b>126&&b<S){this._printHandler(d,x,O),x=O-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const k=this._csiHandlers[this._collect<<8|b];let N=k?k.length-1:-1;for(;N>=0&&(y=k[N](this._params),y!==!0);N--)if(y instanceof Promise)return this._preserveStack(3,k,N,E,x),y;N<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingCodepoint=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++x<u&&(b=d[x])>47&&b<60);x--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const j=this._escHandlers[this._collect<<8|b];let D=j?j.length-1:-1;for(;D>=0&&(y=j[D](),y!==!0);D--)if(y instanceof Promise)return this._preserveStack(4,j,D,E,x),y;D<0&&this._escHandlerFb(this._collect<<8|b),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let O=x+1;;++O)if(O>=u||(b=d[O])===24||b===26||b===27||b>127&&b<S){this._dcsParser.put(d,x,O),x=O-1;break}break;case 14:if(y=this._dcsParser.unhook(b!==24&&b!==26),y)return this._preserveStack(6,[],0,E,x),y;b===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let O=x+1;;O++)if(O>=u||(b=d[O])<32||b>127&&b<S){this._oscParser.put(d,x,O),x=O-1;break}break;case 6:if(y=this._oscParser.end(b!==24&&b!==26),y)return this._preserveStack(5,[],0,E,x),y;b===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}i.EscapeSequenceParser=_},6242:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const p=l(5770),v=l(482),m=[];i.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,w){this._handlers[g]===void 0&&(this._handlers[g]=[]);const S=this._handlers[g];return S.push(w),{dispose:()=>{const _=S.indexOf(w);_!==-1&&S.splice(_,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,w,S){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(g,w,S);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(g,w,S))}start(){this.reset(),this._state=1}put(g,w,S){if(this._state!==3){if(this._state===1)for(;w<S;){const _=g[w++];if(_===59){this._state=2,this._start();break}if(_<48||57<_)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+_-48}this._state===2&&S-w>0&&this._put(g,w,S)}}end(g,w=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,_=this._active.length-1,c=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,S=w,c=this._stack.fallThrough,this._stack.paused=!1),!c&&S===!1){for(;_>=0&&(S=this._active[_].end(g),S!==!0);_--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,S;_--}for(;_>=0;_--)if(S=this._active[_].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",g);this._active=m,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,w,S){this._hitLimit||(this._data+=(0,v.utf32ToString)(g,w,S),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let w=!1;if(this._hitLimit)w=!1;else if(g&&(w=this._handler(this._data),w instanceof Promise))return w.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,w}}},8742:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const l=2147483647;class p{static fromArray(m){const g=new p;if(!m.length)return g;for(let w=Array.isArray(m[0])?1:0;w<m.length;++w){const S=m[w];if(Array.isArray(S))for(let _=0;_<S.length;++_)g.addSubParam(S[_]);else g.addParam(S)}return g}constructor(m=32,g=32){if(this.maxLength=m,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new p(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let g=0;g<this.length;++g){m.push(this.params[g]);const w=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-w>0&&m.push(Array.prototype.slice.call(this._subParams,w,S))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>l?l:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>l?l:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const g=this._subParamsIdx[m]>>8,w=255&this._subParamsIdx[m];return w-g>0?this._subParams.subarray(g,w):null}getSubParamsAll(){const m={};for(let g=0;g<this.length;++g){const w=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-w>0&&(m[g]=this._subParams.slice(w,S))}return m}addDigit(m){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const w=this._digitIsSub?this._subParams:this.params,S=w[g-1];w[g-1]=~S?Math.min(10*S+m,l):m}}i.Params=p},5741:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,p){const v={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(v),p.dispose=()=>this._wrappedAddonDispose(v),p.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let p=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===l){p=v;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(p,1)}}},8771:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const p=l(3785),v=l(511);i.BufferApiView=class{constructor(m,g){this._buffer=m,this.type=g}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const g=this._buffer.lines.get(m);if(g)return new p.BufferLineApiView(g)}getNullCell(){return new v.CellData}}},3785:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const p=l(511);i.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,m){if(!(v<0||v>=this._line.length))return m?(this._line.loadCell(v,m),m):this._line.loadCell(v,new p.CellData)}translateToString(v,m,g){return this._line.translateToString(v,m,g)}}},8285:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const p=l(8771),v=l(8460),m=l(844);class g extends m.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}i.BufferNamespaceApi=g},7975:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,p){return this._core.registerCsiHandler(l,v=>p(v.toArray()))}addCsiHandler(l,p){return this.registerCsiHandler(l,p)}registerDcsHandler(l,p){return this._core.registerDcsHandler(l,(v,m)=>p(v,m.toArray()))}addDcsHandler(l,p){return this.registerDcsHandler(l,p)}registerEscHandler(l,p){return this._core.registerEscHandler(l,p)}addEscHandler(l,p){return this.registerEscHandler(l,p)}registerOscHandler(l,p){return this._core.registerOscHandler(l,p)}addOscHandler(l,p){return this.registerOscHandler(l,p)}}},7090:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(h,i,l){var p=this&&this.__decorate||function(c,d,u,f){var y,b=arguments.length,E=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,d,u,f);else for(var C=c.length-1;C>=0;C--)(y=c[C])&&(E=(b<3?y(E):b>3?y(d,u,E):y(d,u))||E);return b>3&&E&&Object.defineProperty(d,u,E),E},v=this&&this.__param||function(c,d){return function(u,f){d(u,f,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const m=l(8460),g=l(844),w=l(5295),S=l(2585);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let _=i.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(c){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(c.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(c.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new w.BufferSet(c,this))}resize(c,d){this.cols=c,this.rows=d,this.buffers.resize(c,d),this._onResize.fire({cols:c,rows:d})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(c,d=!1){const u=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===c.fg&&f.getBg(0)===c.bg||(f=u.getBlankLine(c,d),this._cachedBlankLine=f),f.isWrapped=d;const y=u.ybase+u.scrollTop,b=u.ybase+u.scrollBottom;if(u.scrollTop===0){const E=u.lines.isFull;b===u.lines.length-1?E?u.lines.recycle().copyFrom(f):u.lines.push(f.clone()):u.lines.splice(b+1,0,f.clone()),E?this.isUserScrolling&&(u.ydisp=Math.max(u.ydisp-1,0)):(u.ybase++,this.isUserScrolling||u.ydisp++)}else{const E=b-y+1;u.lines.shiftElements(y+1,E-1,-1),u.lines.set(b,f.clone())}this.isUserScrolling||(u.ydisp=u.ybase),this._onScroll.fire(u.ydisp)}scrollLines(c,d,u){const f=this.buffer;if(c<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else c+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const y=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+c,f.ybase),0),y!==f.ydisp&&(d||this._onScroll.fire(f.ydisp))}};i.BufferService=_=p([v(0,S.IOptionsService)],_)},7994:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,p){this._charsets[l]=p,this.glevel===l&&(this.charset=p)}}},1753:function(h,i,l){var p=this&&this.__decorate||function(f,y,b,E){var C,x=arguments.length,k=x<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(f,y,b,E);else for(var N=f.length-1;N>=0;N--)(C=f[N])&&(k=(x<3?C(k):x>3?C(y,b,k):C(y,b))||k);return x>3&&k&&Object.defineProperty(y,b,k),k},v=this&&this.__param||function(f,y){return function(b,E){y(b,E,f)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const m=l(2585),g=l(8460),w=l(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function _(f,y){let b=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(b|=64,b|=f.action):(b|=3&f.button,4&f.button&&(b|=64),8&f.button&&(b|=128),f.action===32?b|=32:f.action!==0||y||(b|=3)),b}const c=String.fromCharCode,d={DEFAULT:f=>{const y=[_(f,!1)+32,f.col+32,f.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${c(y[0])}${c(y[1])}${c(y[2])}`},SGR:f=>{const y=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${_(f,!0)};${f.col};${f.row}${y}`},SGR_PIXELS:f=>{const y=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${_(f,!0)};${f.x};${f.y}${y}`}};let u=i.CoreMouseService=class extends w.Disposable{constructor(f,y){super(),this._bufferService=f,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(S))this.addProtocol(b,S[b]);for(const b of Object.keys(d))this.addEncoding(b,d[b]);this.reset()}addProtocol(f,y){this._protocols[f]=y}addEncoding(f,y){this._encodings[f]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const y=this._encodings[this._activeEncoding](f);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,y,b){if(b){if(f.x!==y.x||f.y!==y.y)return!1}else if(f.col!==y.col||f.row!==y.row)return!1;return f.button===y.button&&f.action===y.action&&f.ctrl===y.ctrl&&f.alt===y.alt&&f.shift===y.shift}};i.CoreMouseService=u=p([v(0,m.IBufferService),v(1,m.ICoreService)],u)},6975:function(h,i,l){var p=this&&this.__decorate||function(u,f,y,b){var E,C=arguments.length,x=C<3?f:b===null?b=Object.getOwnPropertyDescriptor(f,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(u,f,y,b);else for(var k=u.length-1;k>=0;k--)(E=u[k])&&(x=(C<3?E(x):C>3?E(f,y,x):E(f,y))||x);return C>3&&x&&Object.defineProperty(f,y,x),x},v=this&&this.__param||function(u,f){return function(y,b){f(y,b,u)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const m=l(1439),g=l(8460),w=l(844),S=l(2585),_=Object.freeze({insertMode:!1}),c=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=i.CoreService=class extends w.Disposable{constructor(u,f,y){super(),this._bufferService=u,this._logService=f,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(_),this.decPrivateModes=(0,m.clone)(c)}reset(){this.modes=(0,m.clone)(_),this.decPrivateModes=(0,m.clone)(c)}triggerDataEvent(u,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${u}"`,()=>u.split("").map(b=>b.charCodeAt(0))),this._onData.fire(u)}triggerBinaryEvent(u){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${u}"`,()=>u.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(u))}};i.CoreService=d=p([v(0,S.IBufferService),v(1,S.ILogService),v(2,S.IOptionsService)],d)},9074:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const p=l(8055),v=l(8460),m=l(844),g=l(6106);let w=0,S=0;class _ extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(u=>u==null?void 0:u.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(u){if(u.marker.isDisposed)return;const f=new c(u);if(f){const y=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),y.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const u of this._decorations.values())u.dispose();this._decorations.clear()}*getDecorationsAtCell(u,f,y){var b,E,C;let x=0,k=0;for(const N of this._decorations.getKeyIterator(f))x=(b=N.options.x)!==null&&b!==void 0?b:0,k=x+((E=N.options.width)!==null&&E!==void 0?E:1),u>=x&&u<k&&(!y||((C=N.options.layer)!==null&&C!==void 0?C:"bottom")===y)&&(yield N)}forEachDecorationAtCell(u,f,y,b){this._decorations.forEachByKey(f,E=>{var C,x,k;w=(C=E.options.x)!==null&&C!==void 0?C:0,S=w+((x=E.options.width)!==null&&x!==void 0?x:1),u>=w&&u<S&&(!y||((k=E.options.layer)!==null&&k!==void 0?k:"bottom")===y)&&b(E)})}}i.DecorationService=_;class c extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(u){super(),this.options=u,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=u.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const p=l(2585),v=l(8343);class m{constructor(...w){this._entries=new Map;for(const[S,_]of w)this.set(S,_)}set(w,S){const _=this._entries.get(w);return this._entries.set(w,S),_}forEach(w){for(const[S,_]of this._entries.entries())w(S,_)}has(w){return this._entries.has(w)}get(w){return this._entries.get(w)}}i.ServiceCollection=m,i.InstantiationService=class{constructor(){this._services=new m,this._services.set(p.IInstantiationService,this)}setService(g,w){this._services.set(g,w)}getService(g){return this._services.get(g)}createInstance(g,...w){const S=(0,v.getServiceDependencies)(g).sort((d,u)=>d.index-u.index),_=[];for(const d of S){const u=this._services.get(d.id);if(!u)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${d.id}.`);_.push(u)}const c=S.length>0?S[0].index:w.length;if(w.length!==c)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${c+1} conflicts with ${w.length} static arguments`);return new g(...w,..._)}}},7866:function(h,i,l){var p=this&&this.__decorate||function(c,d,u,f){var y,b=arguments.length,E=b<3?d:f===null?f=Object.getOwnPropertyDescriptor(d,u):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(c,d,u,f);else for(var C=c.length-1;C>=0;C--)(y=c[C])&&(E=(b<3?y(E):b>3?y(d,u,E):y(d,u))||E);return b>3&&E&&Object.defineProperty(d,u,E),E},v=this&&this.__param||function(c,d){return function(u,f){d(u,f,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.traceCall=i.setTraceLogger=i.LogService=void 0;const m=l(844),g=l(2585),w={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let S,_=i.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(c){super(),this._optionsService=c,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=w[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(c){for(let d=0;d<c.length;d++)typeof c[d]=="function"&&(c[d]=c[d]())}_log(c,d,u){this._evalLazyOptionalParams(u),c.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+d,...u)}trace(c,...d){var u,f;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((f=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.trace.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,c,d)}debug(c,...d){var u,f;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((f=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.debug.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,c,d)}info(c,...d){var u,f;this._logLevel<=g.LogLevelEnum.INFO&&this._log((f=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.info.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.info,c,d)}warn(c,...d){var u,f;this._logLevel<=g.LogLevelEnum.WARN&&this._log((f=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.warn.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.warn,c,d)}error(c,...d){var u,f;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((f=(u=this._optionsService.options.logger)===null||u===void 0?void 0:u.error.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.error,c,d)}};i.LogService=_=p([v(0,g.IOptionsService)],_),i.setTraceLogger=function(c){S=c},i.traceCall=function(c,d,u){if(typeof u.value!="function")throw new Error("not supported");const f=u.value;u.value=function(...y){if(S.logLevel!==g.LogLevelEnum.TRACE)return f.apply(this,y);S.trace(`GlyphRenderer#${f.name}(${y.map(E=>JSON.stringify(E)).join(", ")})`);const b=f.apply(this,y);return S.trace(`GlyphRenderer#${f.name} return`,b),b}}},7302:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const p=l(8460),v=l(844),m=l(6114);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class w extends v.Disposable{constructor(_){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const c=Object.assign({},i.DEFAULT_OPTIONS);for(const d in _)if(d in c)try{const u=_[d];c[d]=this._sanitizeAndValidateOption(d,u)}catch(u){console.error(u)}this.rawOptions=c,this.options=Object.assign({},c),this._setupOptions()}onSpecificOptionChange(_,c){return this.onOptionChange(d=>{d===_&&c(this.rawOptions[_])})}onMultipleOptionChange(_,c){return this.onOptionChange(d=>{_.indexOf(d)!==-1&&c()})}_setupOptions(){const _=d=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);return this.rawOptions[d]},c=(d,u)=>{if(!(d in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${d}"`);u=this._sanitizeAndValidateOption(d,u),this.rawOptions[d]!==u&&(this.rawOptions[d]=u,this._onOptionChange.fire(d))};for(const d in this.rawOptions){const u={get:_.bind(this,d),set:c.bind(this,d)};Object.defineProperty(this.options,d,u)}}_sanitizeAndValidateOption(_,c){switch(_){case"cursorStyle":if(c||(c=i.DEFAULT_OPTIONS[_]),!function(d){return d==="block"||d==="underline"||d==="bar"}(c))throw new Error(`"${c}" is not a valid value for ${_}`);break;case"wordSeparator":c||(c=i.DEFAULT_OPTIONS[_]);break;case"fontWeight":case"fontWeightBold":if(typeof c=="number"&&1<=c&&c<=1e3)break;c=g.includes(c)?c:i.DEFAULT_OPTIONS[_];break;case"cursorWidth":c=Math.floor(c);case"lineHeight":case"tabStopWidth":if(c<1)throw new Error(`${_} cannot be less than 1, value: ${c}`);break;case"minimumContrastRatio":c=Math.max(1,Math.min(21,Math.round(10*c)/10));break;case"scrollback":if((c=Math.min(c,4294967295))<0)throw new Error(`${_} cannot be less than 0, value: ${c}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(c<=0)throw new Error(`${_} cannot be less than or equal to 0, value: ${c}`);break;case"rows":case"cols":if(!c&&c!==0)throw new Error(`${_} must be numeric, value: ${c}`);break;case"windowsPty":c=c??{}}return c}}i.OptionsService=w},2660:function(h,i,l){var p=this&&this.__decorate||function(w,S,_,c){var d,u=arguments.length,f=u<3?S:c===null?c=Object.getOwnPropertyDescriptor(S,_):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(w,S,_,c);else for(var y=w.length-1;y>=0;y--)(d=w[y])&&(f=(u<3?d(f):u>3?d(S,_,f):d(S,_))||f);return u>3&&f&&Object.defineProperty(S,_,f),f},v=this&&this.__param||function(w,S){return function(_,c){S(_,c,w)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const m=l(2585);let g=i.OscLinkService=class{constructor(w){this._bufferService=w,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(w){const S=this._bufferService.buffer;if(w.id===void 0){const y=S.addMarker(S.ybase+S.y),b={data:w,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(b,y)),this._dataByLinkId.set(b.id,b),b.id}const _=w,c=this._getEntryIdKey(_),d=this._entriesWithId.get(c);if(d)return this.addLineToLink(d.id,S.ybase+S.y),d.id;const u=S.addMarker(S.ybase+S.y),f={id:this._nextId++,key:this._getEntryIdKey(_),data:_,lines:[u]};return u.onDispose(()=>this._removeMarkerFromLink(f,u)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(w,S){const _=this._dataByLinkId.get(w);if(_&&_.lines.every(c=>c.line!==S)){const c=this._bufferService.buffer.addMarker(S);_.lines.push(c),c.onDispose(()=>this._removeMarkerFromLink(_,c))}}getLinkData(w){var S;return(S=this._dataByLinkId.get(w))===null||S===void 0?void 0:S.data}_getEntryIdKey(w){return`${w.id};;${w.uri}`}_removeMarkerFromLink(w,S){const _=w.lines.indexOf(S);_!==-1&&(w.lines.splice(_,1),w.lines.length===0&&(w.data.id!==void 0&&this._entriesWithId.delete(w.key),this._dataByLinkId.delete(w.id)))}};i.OscLinkService=g=p([v(0,m.IBufferService)],g)},8343:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0;const l="di$target",p="di$dependencies";i.serviceRegistry=new Map,i.getServiceDependencies=function(v){return v[p]||[]},i.createDecorator=function(v){if(i.serviceRegistry.has(v))return i.serviceRegistry.get(v);const m=function(g,w,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(_,c,d){c[l]===c?c[p].push({id:_,index:d}):(c[p]=[{id:_,index:d}],c[l]=c)})(m,g,S)};return m.toString=()=>v,i.serviceRegistry.set(v,m),m}},2585:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const p=l(8343);var v;i.IBufferService=(0,p.createDecorator)("BufferService"),i.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),i.ICoreService=(0,p.createDecorator)("CoreService"),i.ICharsetService=(0,p.createDecorator)("CharsetService"),i.IInstantiationService=(0,p.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(v||(i.LogLevelEnum=v={})),i.ILogService=(0,p.createDecorator)("LogService"),i.IOptionsService=(0,p.createDecorator)("OptionsService"),i.IOscLinkService=(0,p.createDecorator)("OscLinkService"),i.IUnicodeService=(0,p.createDecorator)("UnicodeService"),i.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const p=l(8460),v=l(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const m=new v.UnicodeV6;this.register(m),this._active=m.version,this._activeProvider=m}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(m){if(!this._providers[m])throw new Error(`unknown Unicode version "${m}"`);this._active=m,this._activeProvider=this._providers[m],this._onChange.fire(m)}register(m){this._providers[m.version]=m}wcwidth(m){return this._activeProvider.wcwidth(m)}getStringCellWidth(m){let g=0;const w=m.length;for(let S=0;S<w;++S){let _=m.charCodeAt(S);if(55296<=_&&_<=56319){if(++S>=w)return g+this.wcwidth(_);const c=m.charCodeAt(S);56320<=c&&c<=57343?_=1024*(_-55296)+c-56320+65536:g+=this.wcwidth(c)}g+=this.wcwidth(_)}return g}}}},s={};function n(h){var i=s[h];if(i!==void 0)return i.exports;var l=s[h]={exports:{}};return r[h].call(l.exports,l,l.exports,n),l.exports}var a={};return(()=>{var h=a;Object.defineProperty(h,"__esModule",{value:!0}),h.Terminal=void 0;const i=n(9042),l=n(3236),p=n(844),v=n(5741),m=n(8285),g=n(7975),w=n(7090),S=["cols","rows"];class _ extends p.Disposable{constructor(d){super(),this._core=this.register(new l.Terminal(d)),this._addonManager=this.register(new v.AddonManager),this._publicOptions=Object.assign({},this._core.options);const u=y=>this._core.options[y],f=(y,b)=>{this._checkReadonlyOptions(y),this._core.options[y]=b};for(const y in this._core.options){const b={get:u.bind(this,y),set:f.bind(this,y)};Object.defineProperty(this._publicOptions,y,b)}}_checkReadonlyOptions(d){if(S.includes(d))throw new Error(`Option "${d}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new w.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const d=this._core.coreService.decPrivateModes;let u="none";switch(this._core.coreMouseService.activeProtocol){case"X10":u="x10";break;case"VT200":u="vt200";break;case"DRAG":u="drag";break;case"ANY":u="any"}return{applicationCursorKeysMode:d.applicationCursorKeys,applicationKeypadMode:d.applicationKeypad,bracketedPasteMode:d.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:u,originMode:d.origin,reverseWraparoundMode:d.reverseWraparound,sendFocusMode:d.sendFocus,wraparoundMode:d.wraparound}}get options(){return this._publicOptions}set options(d){for(const u in d)this._publicOptions[u]=d[u]}blur(){this._core.blur()}focus(){this._core.focus()}resize(d,u){this._verifyIntegers(d,u),this._core.resize(d,u)}open(d){this._core.open(d)}attachCustomKeyEventHandler(d){this._core.attachCustomKeyEventHandler(d)}registerLinkProvider(d){return this._core.registerLinkProvider(d)}registerCharacterJoiner(d){return this._checkProposedApi(),this._core.registerCharacterJoiner(d)}deregisterCharacterJoiner(d){this._checkProposedApi(),this._core.deregisterCharacterJoiner(d)}registerMarker(d=0){return this._verifyIntegers(d),this._core.registerMarker(d)}registerDecoration(d){var u,f,y;return this._checkProposedApi(),this._verifyPositiveIntegers((u=d.x)!==null&&u!==void 0?u:0,(f=d.width)!==null&&f!==void 0?f:0,(y=d.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(d)}hasSelection(){return this._core.hasSelection()}select(d,u,f){this._verifyIntegers(d,u,f),this._core.select(d,u,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(d,u){this._verifyIntegers(d,u),this._core.selectLines(d,u)}dispose(){super.dispose()}scrollLines(d){this._verifyIntegers(d),this._core.scrollLines(d)}scrollPages(d){this._verifyIntegers(d),this._core.scrollPages(d)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(d){this._verifyIntegers(d),this._core.scrollToLine(d)}clear(){this._core.clear()}write(d,u){this._core.write(d,u)}writeln(d,u){this._core.write(d),this._core.write(`\r
`,u)}paste(d){this._core.paste(d)}refresh(d,u){this._verifyIntegers(d,u),this._core.refresh(d,u)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(d){this._addonManager.loadAddon(this,d)}static get strings(){return i}_verifyIntegers(...d){for(const u of d)if(u===1/0||isNaN(u)||u%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...d){for(const u of d)if(u&&(u===1/0||isNaN(u)||u%1!=0||u<0))throw new Error("This API only accepts positive integers")}}h.Terminal=_})(),a})())})(Pm);var Sd=Pm.exports,Mm={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={};return(()=>{var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const a=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(a._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,a=n._renderService.dimensions;if(a.css.cell.width===0||a.css.cell.height===0)return;const h=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(i.getPropertyValue("height")),p=Math.max(0,parseInt(i.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),m=l-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),g=p-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-h;return{cols:Math.max(2,Math.floor(g/a.css.cell.width)),rows:Math.max(1,Math.floor(m/a.css.cell.height))}}}})(),r})())})(Mm);var wd=Mm.exports;function GS(){const[e,t]=A.useState([]),[r,s]=A.useState([]),[n,a]=A.useState(null),[h,i]=A.useState(!0),[l,p]=A.useState(""),[v,m]=A.useState(""),[g,w]=A.useState([]),[S,_]=A.useState(new Set),[c,d]=A.useState(!1),[u,f]=A.useState("none"),[y,b]=A.useState(!1),[E,C]=A.useState(null),[x,k]=A.useState({username:"",password:"",credential_id:""}),[N,j]=A.useState([]),[D,O]=A.useState(null),I=A.useRef(null),{toast:U}=yt();A.useEffect(()=>{P(),K(),R()},[]);const K=async()=>{var V,L;try{const H=(await ee.get("/favorites")).data||[];_(new Set(H.map(F=>F.id)))}catch(B){U({title:"",description:((L=(V=B.response)==null?void 0:V.data)==null?void 0:L.error)||"",variant:"error"})}},q=async(V,L)=>{var B,H;L.stopPropagation();try{S.has(V)?(await ee.delete(`/assets/${V}/favorite`),_(J=>{const Y=new Set(J);return Y.delete(V),Y})):(await ee.post(`/assets/${V}/favorite`),_(J=>new Set(J).add(V)))}catch(F){U({title:"",description:((H=(B=F.response)==null?void 0:B.data)==null?void 0:H.error)||"",variant:"error"})}};A.useEffect(()=>{if(n&&I.current){const V=r.find(L=>L.id===n);V&&(I.current.innerHTML="",V.terminal.open(I.current),requestAnimationFrame(()=>{if(V.fitAddon.fit(),V.ws&&V.ws.readyState===WebSocket.OPEN){const L=V.terminal.cols,B=V.terminal.rows;L>0&&B>0&&V.ws.send(JSON.stringify({type:"resize",cols:L,rows:B}))}}))}},[n,r]),A.useEffect(()=>{let V=null;const L=()=>{V&&clearTimeout(V),V=setTimeout(()=>{if(n){const B=r.find(H=>H.id===n);if(B&&B.ws&&B.ws.readyState===WebSocket.OPEN){B.fitAddon.fit();const H=B.terminal.cols,F=B.terminal.rows;if(H>0&&F>0)try{B.ws.send(JSON.stringify({type:"resize",cols:H,rows:F}))}catch(J){console.error("Resize failed:",J)}}}},150)};return window.addEventListener("resize",L),()=>{window.removeEventListener("resize",L),V&&clearTimeout(V)}},[n,r]);const R=async()=>{var V,L;try{const H=(await ee.get("/asset-credentials")).data||[];j(H)}catch(B){U({title:"",description:((L=(V=B.response)==null?void 0:V.data)==null?void 0:L.error)||"",variant:"error"})}},P=async()=>{var V,L;try{const H=(await ee.get("/assets?page=1&limit=1000")).data.data||[];t(H);const F=new Set;H.forEach(J=>{var Y;(Y=J.project)!=null&&Y.name&&F.add(J.project.name)}),w(Array.from(F).sort())}catch(B){U({title:"",description:((L=(V=B.response)==null?void 0:V.data)==null?void 0:L.error)||"",variant:"error"})}},T=async V=>{C(V),k({username:"",password:"",credential_id:""}),O(null),b(!0)},M=async()=>{var V,L;if(!E){U({title:"",description:"",variant:"error"});return}if(!x.credential_id&&!x.username){U({title:"",description:"",variant:"error"});return}if(!x.credential_id){if(!x.username.trim()){U({title:"",description:"",variant:"error"});return}if(!x.password){U({title:"",description:"",variant:"error"});return}}U({title:"",description:` ${E.name}...`,variant:"default"});try{let B=x.username,H=x.password;x.credential_id&&D&&(B=D.username,D.auth_type==="key"&&(H=""));const F=new Sd.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',lineHeight:1,allowProposedApi:!0,scrollback:1e3,theme:{background:"#000000",foreground:"#ffffff"}}),J=new wd.FitAddon;F.loadAddon(J),I.current&&(I.current.innerHTML="",F.open(I.current),await new Promise(pe=>setTimeout(pe,100)),J.fit());const Y=F.cols||80,z=F.rows||24,re=await ee.post("/webssh/connect",{asset_id:E.id,username:B,password:H||void 0,credential_id:x.credential_id||void 0,cols:Y,rows:z}),{session_id:ne,ws_url:ce}=re.data,ie=localStorage.getItem("access_token"),Gr=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${ce}?token=${encodeURIComponent(ie||"")}`,$e=new WebSocket(Gr),We=()=>{if($e.readyState===WebSocket.OPEN){const pe=F.cols,se=F.rows;pe>0&&se>0&&$e.send(JSON.stringify({type:"resize",cols:pe,rows:se}))}};$e.onopen=()=>{s(pe=>pe.map(se=>se.id===ne?{...se,connected:!0}:se)),U({title:"",description:` ${E.name}`,variant:"success"}),setTimeout(()=>We(),100)};let Bt=0;const Ae=1e3;$e.onmessage=async pe=>{const se=Date.now();se-Bt>Ae&&s(fe=>{const Be=fe.find(he=>he.id===ne);return Be&&!Be.connected?(Bt=se,fe.map(he=>he.id===ne?{...he,connected:!0}:he)):fe});let ue="";try{if(pe.data instanceof Blob){const fe=await pe.data.arrayBuffer();ue=new TextDecoder("utf-8").decode(fe)}else typeof pe.data=="string"?ue=pe.data:pe.data instanceof ArrayBuffer?ue=new TextDecoder("utf-8").decode(pe.data):ue=String(pe.data);ue&&F.write(ue)}catch(fe){console.error(" WebSocket :",fe)}},$e.onerror=()=>{s(pe=>pe.map(se=>se.id===ne?{...se,connected:!1,ws:null}:se)),U({title:"",description:"WebSocket ",variant:"error"}),F.writeln(`\r
\x1B[31m\x1B[0m`)},$e.onclose=pe=>{s(se=>se.map(ue=>ue.id===ne?{...ue,connected:!1,ws:null}:ue)),pe.code!==1e3?(U({title:"",description:"SSH ",variant:"error"}),F.writeln(`\r
\x1B[31m\x1B[0m`)):F.writeln(`\r
\x1B[33m\x1B[0m`)},F.onData(pe=>{$e.readyState===WebSocket.OPEN?$e.send(pe):s(se=>se.map(ue=>ue.id===ne?{...ue,connected:!1,ws:null}:ue))});const nt=r.filter(pe=>pe.assetId===E.id).length+1,It={id:ne,assetId:E.id,assetName:E.name,assetIp:E.ip,terminal:F,fitAddon:J,ws:$e,connected:!1,sessionIndex:nt,credentialId:x.credential_id||void 0,username:B};s(pe=>[...pe,It]),a(ne),b(!1)}catch(B){const H=((L=(V=B.response)==null?void 0:V.data)==null?void 0:L.error)||B.message||"";U({title:"",description:H,variant:"error"})}},W=async V=>{var B,H;const L=r.find(F=>F.id===V);if(L){L.ws&&L.ws.close(),L.terminal.dispose();try{await ee.delete(`/webssh/${V}`)}catch(F){U({title:"",description:((H=(B=F.response)==null?void 0:B.data)==null?void 0:H.error)||"",variant:"error"})}}if(s(F=>F.filter(J=>J.id!==V)),n===V){const F=r.filter(J=>J.id!==V);F.length>0?a(F[0].id):(a(null),I.current&&(I.current.innerHTML=""))}},X=async V=>{var H,F;const L=r.find(J=>J.id===V);if(!L){U({title:"",description:"",variant:"error"});return}const B=e.find(J=>J.id===L.assetId);if(!B){U({title:"",description:"",variant:"error"});return}U({title:"",description:` ${B.name}...`,variant:"default"});try{const J=new Sd.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace',lineHeight:1,allowProposedApi:!0,scrollback:1e3,theme:{background:"#000000",foreground:"#ffffff"}}),Y=new wd.FitAddon;J.loadAddon(Y),I.current&&(I.current.innerHTML="",J.open(I.current),await new Promise(se=>setTimeout(se,100)),Y.fit());const z=J.cols||80,re=J.rows||24,ne=await ee.post("/webssh/connect",{asset_id:B.id,username:L.username,credential_id:L.credentialId||void 0,cols:z,rows:re}),{session_id:ce,ws_url:ie}=ne.data,Ye=localStorage.getItem("access_token"),$e=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${ie}?token=${encodeURIComponent(Ye||"")}`,We=new WebSocket($e),Bt=()=>{if(We.readyState===WebSocket.OPEN){const se=J.cols,ue=J.rows;se>0&&ue>0&&We.send(JSON.stringify({type:"resize",cols:se,rows:ue}))}};We.onopen=()=>{s(se=>se.map(ue=>ue.id===ce?{...ue,connected:!0}:ue)),U({title:"",description:` ${B.name}`,variant:"success"}),setTimeout(()=>Bt(),100)};let Ae=0;const er=1e3;We.onmessage=async se=>{const ue=Date.now();ue-Ae>er&&s(Be=>{const he=Be.find(Rr=>Rr.id===ce);return he&&!he.connected?(Ae=ue,Be.map(Rr=>Rr.id===ce?{...Rr,connected:!0}:Rr)):Be});let fe="";try{if(se.data instanceof Blob){const Be=await se.data.arrayBuffer();fe=new TextDecoder("utf-8").decode(Be)}else typeof se.data=="string"?fe=se.data:se.data instanceof ArrayBuffer?fe=new TextDecoder("utf-8").decode(se.data):fe=String(se.data);fe&&J.write(fe)}catch(Be){console.error(" WebSocket :",Be)}},We.onerror=()=>{s(se=>se.map(ue=>ue.id===ce?{...ue,connected:!1,ws:null}:ue)),U({title:"",description:"WebSocket ",variant:"error"}),J.writeln(`\r
\x1B[31m\x1B[0m`)},We.onclose=se=>{s(ue=>ue.map(fe=>fe.id===ce?{...fe,connected:!1,ws:null}:fe)),se.code!==1e3?(U({title:"",description:"SSH ",variant:"error"}),J.writeln(`\r
\x1B[31m\x1B[0m`)):J.writeln(`\r
\x1B[33m\x1B[0m`)},J.onData(se=>{We.readyState===WebSocket.OPEN?We.send(se):s(ue=>ue.map(fe=>fe.id===ce?{...fe,connected:!1,ws:null}:fe))});const It=r.filter(se=>se.assetId===B.id).length+1,pe={id:ce,assetId:B.id,assetName:B.name,assetIp:B.ip,terminal:J,fitAddon:Y,ws:We,connected:!1,sessionIndex:It,credentialId:L.credentialId,username:L.username};s(se=>[...se,pe]),a(ce)}catch(J){const Y=J,z=((F=(H=Y.response)==null?void 0:H.data)==null?void 0:F.error)||Y.message||"";U({title:"",description:z,variant:"error"})}},Q=e.filter(V=>{var F;const L=V.name.toLowerCase().includes(l.toLowerCase())||V.type.toLowerCase().includes(l.toLowerCase()),B=!v||((F=V.project)==null?void 0:F.name)===v,H=!c||S.has(V.id);return L&&B&&H}),Z=()=>{if(u==="none")return{:Q};const V={};return Q.forEach(L=>{var H;let B="";u==="type"?B=L.type||"":u==="project"?B=((H=L.project)==null?void 0:H.name)||"":u==="favorite"&&(B=S.has(L.id)?"":""),V[B]||(V[B]=[]),V[B].push(L)}),V};return o.jsxs("div",{className:"flex h-screen -m-6 overflow-hidden",children:[h&&o.jsxs("div",{className:"w-80 bg-white border-r flex flex-col shadow-lg",children:[o.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx("span",{children:""})," "]}),o.jsx("button",{onClick:()=>i(!1),className:"text-white/80 hover:text-white text-xl",children:""})]}),o.jsxs("div",{className:"text-sm text-white/80",children:[Q.length,"   ",r.length," "]})]}),o.jsxs("div",{className:"p-3 border-b bg-gray-50 space-y-2",children:[o.jsx("input",{type:"text",placeholder:" ...",value:l,onChange:V=>p(V.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("select",{value:v,onChange:V=>m(V.target.value),className:"flex-1 px-2 py-1.5 border rounded text-xs bg-white",children:[o.jsx("option",{value:"",children:""}),g.map(V=>o.jsx("option",{value:V,children:V},V))]}),o.jsxs("select",{value:u,onChange:V=>f(V.target.value),className:"flex-1 px-2 py-1.5 border rounded text-xs bg-white",children:[o.jsx("option",{value:"none",children:""}),o.jsx("option",{value:"type",children:""}),o.jsx("option",{value:"project",children:""}),o.jsx("option",{value:"favorite",children:""})]})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-sm text-gray-600 hover:text-gray-800",children:[o.jsx("input",{type:"checkbox",checked:c,onChange:V=>d(V.target.checked),className:"rounded"}),o.jsx("span",{children:" "})]})]}),o.jsx("div",{className:"flex-1 overflow-y-auto",children:o.jsx("div",{className:"p-2",children:Object.entries(Z()).map(([V,L])=>o.jsxs("div",{className:"mb-3",children:[u!=="none"&&o.jsxs("div",{className:"text-xs font-bold text-gray-500 mb-2 px-2 uppercase tracking-wide flex items-center gap-1",children:[o.jsx("span",{children:V===""?"":V===""?"":""}),V,o.jsxs("span",{className:"text-gray-400 font-normal",children:["(",L.length,")"]})]}),o.jsx("div",{className:"space-y-1",children:L.map(B=>{var Y;const H=r.filter(z=>z.assetId===B.id),F=H.length>0,J=H.find(z=>z.id===n);return o.jsxs("div",{className:`p-3 rounded-lg transition-all ${J?"bg-blue-100 border-2 border-blue-400 shadow-sm":F?"bg-green-50 border border-green-200":"border border-transparent hover:bg-gray-100"}`,children:[o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"font-medium text-sm truncate",title:B.name,children:B.name}),o.jsx("button",{onClick:z=>q(B.id,z),className:`text-sm flex-shrink-0 ${S.has(B.id)?"text-yellow-500":"text-gray-300 hover:text-yellow-500"}`,children:S.has(B.id)?"":""})]}),B.ip&&o.jsxs("div",{className:"text-xs text-gray-500 font-mono mt-0.5",children:[B.ip,B.ssh_port&&B.ssh_port!==22?`:${B.ssh_port}`:""]}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[o.jsx("span",{children:B.type}),((Y=B.project)==null?void 0:Y.name)&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:""}),o.jsx("span",{className:"truncate",children:B.project.name})]})]}),F&&o.jsx("div",{className:"mt-2 space-y-1",children:H.map(z=>o.jsxs("div",{className:`flex items-center justify-between text-xs p-1.5 rounded cursor-pointer ${z.id===n?"bg-blue-200":"bg-white/60 hover:bg-white"}`,onClick:()=>a(z.id),children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${z.connected?"bg-green-500":"bg-gray-400"}`}),o.jsxs("span",{children:[" #",z.sessionIndex,z.username&&o.jsxs("span",{className:"text-gray-500 ml-1",children:["(",z.username,")"]})]})]}),o.jsx("button",{onClick:re=>{re.stopPropagation(),W(z.id)},className:"text-red-400 hover:text-red-600 px-1",title:"",children:""})]},z.id))})]})}),o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200/50 flex gap-2",children:[o.jsx("button",{onClick:()=>T(B),className:"flex-1 text-xs px-2 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:F?" ":" "}),F&&H[0]&&o.jsx("button",{onClick:()=>X(H[0].id),className:"text-xs px-2 py-1.5 bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",title:"",children:" "})]})]},B.id)})})]},V))})})]}),o.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden min-h-0",children:[r.length>0&&o.jsxs("div",{className:"bg-gray-100 border-b flex items-center px-4",children:[!h&&o.jsx("button",{onClick:()=>i(!0),className:"mr-2 px-3 py-1 text-sm bg-white border rounded hover:bg-gray-50",children:""}),o.jsx("div",{className:"flex-1 flex overflow-x-auto",children:r.map(V=>{const B=r.filter(H=>H.assetId===V.assetId).length>1;return o.jsxs("div",{className:`group px-3 py-2 cursor-pointer border-b-2 flex items-center gap-1 ${n===V.id?"border-blue-500 bg-white":"border-transparent hover:bg-gray-200"}`,onClick:()=>a(V.id),children:[o.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${V.connected?"bg-green-500":"bg-gray-400"}`}),o.jsxs("span",{className:"text-sm whitespace-nowrap",title:V.assetIp||V.assetName,children:[V.assetName,B&&o.jsxs("span",{className:"ml-1 text-xs text-gray-500",children:["#",V.sessionIndex]})]}),o.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx("button",{onClick:H=>{H.stopPropagation(),X(V.id)},className:"text-gray-400 hover:text-blue-500 px-1 text-sm",title:"",children:""}),o.jsx("button",{onClick:H=>{H.stopPropagation(),W(V.id)},className:"text-gray-400 hover:text-red-500 px-1",title:"",children:""})]})]},V.id)})})]}),o.jsx("div",{className:"flex-1 bg-black p-2 overflow-hidden",children:n?o.jsx("div",{ref:I,className:"h-full w-full"}):o.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:r.length===0?o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"mb-4",children:""}),o.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]}):o.jsx("div",{children:""})})})]}),y&&E&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-4 text-white",children:[o.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[o.jsx("span",{children:""})," SSH "]}),o.jsxs("div",{className:"text-sm text-white/80 mt-1",children:[E.name,E.ip&&o.jsxs("span",{className:"font-mono ml-2",children:["(",E.ip,E.ssh_port&&E.ssh_port!==22?`:${E.ssh_port}`:"",")"]})]})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:""}),o.jsxs("select",{value:x.credential_id,onChange:V=>{const L=V.target.value,B=N.find(H=>H.id===L);O(B||null),k({...x,credential_id:L,username:B?B.username:x.username,password:""})},className:"w-full px-3 py-2 border rounded-lg bg-white",children:[o.jsx("option",{value:"",children:" "}),N.filter(V=>!V.asset_id).map(V=>o.jsxs("option",{value:V.id,children:[V.auth_type==="key"?"":""," ",V.name," (",V.username,")"]},V.id))]})]}),!x.credential_id&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:""}),o.jsx("input",{type:"text",value:x.username,onChange:V=>k({...x,username:V.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:"root",autoFocus:!0})]}),(D==null?void 0:D.auth_type)!=="key"&&o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700",children:x.credential_id?"":""}),o.jsx("input",{type:"password",value:x.password,onChange:V=>k({...x,password:V.target.value}),className:"w-full px-3 py-2 border rounded-lg",placeholder:x.credential_id?"":""})]}),(D==null?void 0:D.auth_type)==="key"&&o.jsxs("div",{className:"p-4 bg-purple-50 border border-purple-200 rounded-lg flex items-start gap-3",children:[o.jsx("span",{className:"text-2xl",children:""}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-purple-800",children:""}),o.jsx("div",{className:"text-sm text-purple-700 mt-1",children:" SSH "})]})]})]}),o.jsxs("div",{className:"px-6 pb-6 flex gap-3",children:[o.jsx("button",{onClick:M,className:"flex-1 px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:" "}),o.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2.5 border rounded-lg hover:bg-gray-50",children:""})]})]})})]})}const XS=[{value:"*",label:""},{value:"assets",label:""},{value:"projects",label:""},{value:"users",label:""},{value:"roles",label:""},{value:"credentials",label:""},{value:"audit",label:""}],YS=[{value:"*",label:""},{value:"read",label:""},{value:"write",label:""},{value:"delete",label:""}];function JS(){const{toast:e}=yt(),{confirm:t}=Nr(),[r,s]=A.useState([]),[n,a]=A.useState(!0),[h,i]=A.useState(!1),[l,p]=A.useState(null),[v,m]=A.useState({name:"",expires_in:30,no_expiry:!1,scopes:[]});A.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const C=await ee.get("/api-tokens");s(C.data.data||[])}catch{e({title:"",description:" Token ",variant:"error"})}finally{a(!1)}},w=async()=>{var C,x;if(!v.name.trim()){e({title:"",description:" Token ",variant:"error"});return}try{const k={name:v.name};v.scopes.length>0&&(k.scopes=v.scopes),!v.no_expiry&&v.expires_in>0&&(k.expires_in=v.expires_in);const N=await ee.post("/api-tokens",k);p(N.data.raw_token),g(),e({title:"",description:" Token"})}catch(k){e({title:"",description:((x=(C=k.response)==null?void 0:C.data)==null?void 0:x.error)||" Token ",variant:"error"})}},S=async C=>{if(await t("",` Token "${C.name}"  Token `))try{await ee.post(`/api-tokens/${C.id}/revoke`),g(),e({title:"",description:"Token "})}catch{e({title:"",description:" Token",variant:"error"})}},_=async C=>{if(await t("",` Token "${C.name}" `))try{await ee.delete(`/api-tokens/${C.id}`),g(),e({title:"",description:"Token "})}catch{e({title:"",description:" Token",variant:"error"})}},c=C=>{navigator.clipboard.writeText(C),e({title:"",description:"Token "})},d=()=>{m(C=>({...C,scopes:[...C.scopes,{resource:"*",actions:["*"]}]}))},u=C=>{m(x=>({...x,scopes:x.scopes.filter((k,N)=>N!==C)}))},f=(C,x,k)=>{m(N=>({...N,scopes:N.scopes.map((j,D)=>D===C?{...j,[x]:k}:j)}))},y=C=>C?new Date(C).toLocaleString("zh-CN"):"-",b=(C,x)=>C==="revoked"?o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-red-100 text-red-800",children:""}):x&&new Date(x)<new Date?o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-gray-100 text-gray-800",children:""}):o.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-800",children:""}),E=()=>{m({name:"",expires_in:30,no_expiry:!1,scopes:[]}),p(null),i(!1)};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:"API Token "}),o.jsx("p",{className:"text-gray-500 mt-1",children:" API  Token"})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("a",{href:"/api/docs/",target:"_blank",className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",title:" API ",children:" API "}),o.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:" API Token",children:"+  Token"})]})]}),o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:""}),o.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[o.jsxs("p",{children:["1. ",o.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"X-API-Key: kmdb_xxxxxxxx"})]}),o.jsxs("p",{children:["2.  Bearer Token",o.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"Authorization: Bearer kmdb_xxxxxxxx"})]}),o.jsxs("p",{children:["3.  URL ",o.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"?api_key=kmdb_xxxxxxxx"})]})]})]}),n?o.jsx("div",{className:"text-center py-8",children:"..."}):r.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:' Token" Token"'}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full bg-white border",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50",children:[o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:"Token "}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""}),o.jsx("th",{className:"px-4 py-3 border text-left",children:""})]})}),o.jsx("tbody",{children:r.map(C=>{var x;return o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 border font-medium",children:C.name}),o.jsx("td",{className:"px-4 py-3 border",children:o.jsxs("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:[C.token_prefix,"..."]})}),o.jsx("td",{className:"px-4 py-3 border",children:((x=C.user)==null?void 0:x.username)||"-"}),o.jsx("td",{className:"px-4 py-3 border",children:b(C.status,C.expires_at)}),o.jsx("td",{className:"px-4 py-3 border text-sm",children:C.expires_at?y(C.expires_at):""}),o.jsx("td",{className:"px-4 py-3 border text-sm",children:y(C.last_used_at)}),o.jsx("td",{className:"px-4 py-3 border text-sm",children:y(C.created_at)}),o.jsx("td",{className:"px-4 py-3 border",children:o.jsxs("div",{className:"flex gap-2",children:[C.status==="active"&&o.jsx("button",{onClick:()=>S(C),className:"px-3 py-1 text-sm bg-yellow-500 text-white rounded hover:bg-yellow-600",title:" Token",children:""}),o.jsx("button",{onClick:()=>_(C),className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",title:" Token",children:""})]})})]},C.id)})})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:l?" Token ":" API Token"}),l?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx("p",{className:"text-yellow-800 font-medium mb-2",children:"  Token"}),o.jsx("p",{className:"text-yellow-700 text-sm",children:" Token"})]}),o.jsx("div",{className:"p-4 bg-gray-100 rounded-lg",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("code",{className:"flex-1 break-all text-sm font-mono",children:l}),o.jsx("button",{onClick:()=>c(l),className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 flex-shrink-0",children:""})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:""})})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Token  ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:v.name,onChange:C=>m({...v,name:C.target.value}),placeholder:": CI/CD Pipeline Token",className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"checkbox",checked:v.no_expiry,onChange:C=>m({...v,no_expiry:C.target.checked})}),""]}),!v.no_expiry&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("input",{type:"number",value:v.expires_in,onChange:C=>m({...v,expires_in:parseInt(C.target.value)||0}),min:1,className:"w-20 px-3 py-2 border rounded"}),o.jsx("span",{children:""})]})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("label",{className:"text-sm font-medium",children:[" ",o.jsx("span",{className:"text-gray-500 text-xs",children:"()"})]}),o.jsx("button",{type:"button",onClick:d,className:"text-sm text-blue-500 hover:text-blue-600",children:"+ "})]}),v.scopes.length>0&&o.jsx("div",{className:"space-y-2",children:v.scopes.map((C,x)=>o.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[o.jsx("select",{value:C.resource,onChange:k=>f(x,"resource",k.target.value),className:"flex-1 px-2 py-1 border rounded text-sm",children:XS.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))}),o.jsx("select",{multiple:!0,value:C.actions,onChange:k=>f(x,"actions",Array.from(k.target.selectedOptions,N=>N.value)),className:"flex-1 px-2 py-1 border rounded text-sm h-20",children:YS.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))}),o.jsx("button",{type:"button",onClick:()=>u(x),className:"text-red-500 hover:text-red-600",children:""})]},x))})]}),o.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[o.jsx("button",{onClick:E,className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:w,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})]})})})]})}const ca=[{value:"owner",label:"",color:"bg-purple-100 text-purple-800"},{value:"admin",label:"",color:"bg-blue-100 text-blue-800"},{value:"member",label:"",color:"bg-gray-100 text-gray-800"}];function QS(){const{toast:e}=yt(),{confirm:t}=Nr(),[r,s]=A.useState([]),[n,a]=A.useState([]),[h,i]=A.useState(!0),[l,p]=A.useState(!1),[v,m]=A.useState(!1),[g,w]=A.useState(null),[S,_]=A.useState({name:"",description:""}),[c,d]=A.useState({user_id:"",role:"member"});A.useEffect(()=>{u(),f()},[]);const u=async()=>{i(!0);try{const k=await ee.get("/teams");s(k.data.data||[])}catch{e({title:"",description:"",variant:"error"})}finally{i(!1)}},f=async()=>{try{const k=await ee.get("/users?limit=1000");a(k.data.data||[])}catch{console.error("")}},y=async()=>{var k,N;if(!S.name.trim()){e({title:"",description:"",variant:"error"});return}try{await ee.post("/teams",S),u(),p(!1),_({name:"",description:""}),e({title:"",description:""})}catch(j){e({title:"",description:((N=(k=j.response)==null?void 0:k.data)==null?void 0:N.error)||"",variant:"error"})}},b=async k=>{if(await t("",` "${k.name}" `))try{await ee.delete(`/teams/${k.id}`),u(),e({title:"",description:""})}catch{e({title:"",description:"",variant:"error"})}},E=async()=>{var k,N;if(!g||!c.user_id){e({title:"",description:"",variant:"error"});return}try{await ee.post(`/teams/${g.id}/members`,c),u(),m(!1),d({user_id:"",role:"member"}),e({title:"",description:""})}catch(j){e({title:"",description:((N=(k=j.response)==null?void 0:k.data)==null?void 0:N.error)||"",variant:"error"})}},C=async(k,N)=>{var D;if(await t("",` "${(D=N.user)==null?void 0:D.username}" `))try{await ee.delete(`/teams/${k.id}/members/${N.user_id}`),u(),e({title:"",description:""})}catch{e({title:"",description:"",variant:"error"})}},x=k=>{const N=ca.find(j=>j.value===k)||ca[2];return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${N.color}`,children:N.label})};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:"",children:"+ "})]}),h?o.jsx("div",{className:"text-center py-8",children:"..."}):r.length===0?o.jsx("div",{className:"text-center py-8 text-gray-500",children:'""'}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(k=>{var N,j;return o.jsxs("div",{className:"bg-white border rounded-lg shadow-sm overflow-hidden",children:[o.jsx("div",{className:"p-4 border-b",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold",children:k.name}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:k.description||""})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{w(k),m(!0)},className:"px-2 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600",title:"",children:"+ "}),o.jsx("button",{onClick:()=>b(k),className:"px-2 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",title:"",children:""})]})]})}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"text-sm font-medium text-gray-700 mb-2",children:[" (",((N=k.members)==null?void 0:N.length)||0,")"]}),o.jsxs("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:[(j=k.members)==null?void 0:j.map(D=>{var O;return o.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"font-medium text-sm",children:(O=D.user)==null?void 0:O.username}),x(D.role)]}),o.jsx("button",{onClick:()=>C(k,D),className:"text-red-500 hover:text-red-600 text-sm",title:"",children:""})]},D.id)}),(!k.members||k.members.length===0)&&o.jsx("div",{className:"text-sm text-gray-400 text-center py-2",children:""})]})]})]},k.id)})}),l&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("input",{type:"text",value:S.name,onChange:k=>_({...S,name:k.target.value}),placeholder:"",className:"w-full px-3 py-2 border rounded"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("textarea",{value:S.description,onChange:k=>_({...S,description:k.target.value}),placeholder:"",rows:3,className:"w-full px-3 py-2 border rounded"})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>{p(!1),_({name:"",description:""})},className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})}),v&&g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-md mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h2",{className:"text-xl font-bold mb-4",children:[" ",g.name]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsxs("select",{value:c.user_id,onChange:k=>d({...c,user_id:k.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"",children:""}),n.filter(k=>{var N;return!((N=g.members)!=null&&N.some(j=>j.user_id===k.id))}).map(k=>o.jsxs("option",{value:k.id,children:[k.username," (",k.email,")"]},k.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsx("select",{value:c.role,onChange:k=>d({...c,role:k.target.value}),className:"w-full px-3 py-2 border rounded",children:ca.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>{m(!1),d({user_id:"",role:"member"})},className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})})]})}const Cd=[{value:"user",label:""},{value:"role",label:""},{value:"team",label:""}],Ed=[{value:"*",label:""},{value:"asset",label:""},{value:"project",label:""},{value:"user",label:""},{value:"team",label:""},{value:"role",label:""},{value:"audit",label:""},{value:"token",label:"API Token"}],kd=[{value:"*",label:""},{value:"view",label:""},{value:"create",label:""},{value:"update",label:""},{value:"delete",label:""},{value:"connect",label:"(SSH)"},{value:"manage",label:""}];function ZS(){const{toast:e}=yt(),{confirm:t}=Nr(),[r,s]=A.useState(null),[n,a]=A.useState(!1),[h,i]=A.useState([]),[l,p]=A.useState([]),[v,m]=A.useState([]),[g,w]=A.useState([]),[S,_]=A.useState([]),[c,d]=A.useState([]),[u,f]=A.useState(null),[y,b]=A.useState({subject_type:"role",subject_id:"",resource_type:"*",resource_id:"",action:"*"});A.useEffect(()=>{E(),C(),x(),k(),N(),j()},[]);const E=async()=>{try{const T=await ee.get("/scoped-permissions/my");s(T.data)}catch{console.error("")}},C=async()=>{try{const T=await ee.get("/roles");i(T.data.data||[])}catch{console.error("")}},x=async()=>{try{const T=await ee.get("/teams");p(T.data.data||[])}catch{console.error("")}},k=async()=>{try{const T=await ee.get("/users?limit=1000");m(T.data.data||[])}catch{console.error("")}},N=async()=>{try{const T=await ee.get("/projects?limit=1000");w(T.data.data||[])}catch{console.error("")}},j=async()=>{try{const T=await ee.get("/assets?limit=1000");_(T.data.data||[])}catch{console.error("")}},D=async(T,M)=>{try{const W=await ee.get(`/scoped-permissions/subject?subject_type=${T}&subject_id=${M}`);d(W.data.data||[]),f({type:T,id:M})}catch{e({title:"",description:"",variant:"error"})}},O=async()=>{var T,M;if(!y.subject_id){e({title:"",description:"",variant:"error"});return}try{const W={subject_type:y.subject_type,subject_id:y.subject_id,resource_type:y.resource_type,resource_id:y.resource_id||null,action:y.action};await ee.post("/scoped-permissions",W),e({title:"",description:""}),a(!1),b({subject_type:"role",subject_id:"",resource_type:"*",resource_id:"",action:"*"}),u&&D(u.type,u.id)}catch(W){e({title:"",description:((M=(T=W.response)==null?void 0:T.data)==null?void 0:M.error)||"",variant:"error"})}},I=async T=>{if(await t("",""))try{await ee.delete(`/scoped-permissions/${T}`),e({title:"",description:""}),u&&D(u.type,u.id)}catch{e({title:"",description:"",variant:"error"})}},U=()=>{switch(y.subject_type){case"role":return h.map(T=>({value:T.id,label:T.name}));case"team":return l.map(T=>({value:T.id,label:T.name}));case"user":return v.map(T=>({value:T.id,label:T.username}));default:return[]}},K=()=>y.resource_type==="*"||!["asset","project"].includes(y.resource_type)?[]:y.resource_type==="asset"?S.map(T=>({value:T.id,label:T.name})):y.resource_type==="project"?g.map(T=>({value:T.id,label:T.name})):[],q=T=>{var M;return((M=Ed.find(W=>W.value===T))==null?void 0:M.label)||T},R=T=>{var M;return((M=kd.find(W=>W.value===T))==null?void 0:M.label)||T},P=T=>{var M;return((M=Cd.find(W=>W.value===T))==null?void 0:M.label)||T};return o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold",children:""}),o.jsx("p",{className:"text-gray-500 mt-1",children:""})]}),o.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",title:"",children:"+ "})]}),r&&o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-3",children:""}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-blue-600 mb-1",children:""}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.is_super_admin&&o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:""}),r.is_admin&&!r.is_super_admin&&o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:""})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-blue-600 mb-1",children:""}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.roles.map((T,M)=>o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:T},M)),r.roles.length===0&&o.jsx("span",{className:"text-gray-400 text-sm",children:""})]})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm text-blue-600 mb-1",children:""}),o.jsxs("div",{className:"flex gap-2 flex-wrap",children:[r.teams.map((T,M)=>o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:T},M)),r.teams.length===0&&o.jsx("span",{className:"text-gray-400 text-sm",children:""})]})]})]}),r.function_permissions.length>0&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"text-sm text-blue-600 mb-1",children:""}),o.jsx("div",{className:"flex gap-2 flex-wrap",children:r.function_permissions.map((T,M)=>o.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:T},M))})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-4",children:""}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),o.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:h.map(T=>o.jsxs("button",{onClick:()=>D("role",T.id),className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ${(u==null?void 0:u.type)==="role"&&(u==null?void 0:u.id)===T.id?"bg-blue-50 text-blue-700":""}`,children:[" ",T.name]},T.id))})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),o.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:l.map(T=>o.jsxs("button",{onClick:()=>D("team",T.id),className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ${(u==null?void 0:u.type)==="team"&&(u==null?void 0:u.id)===T.id?"bg-blue-50 text-blue-700":""}`,children:[" ",T.name]},T.id))})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),o.jsx("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:v.slice(0,20).map(T=>o.jsxs("button",{onClick:()=>D("user",T.id),className:`w-full text-left px-3 py-2 rounded text-sm hover:bg-gray-50 ${(u==null?void 0:u.type)==="user"&&(u==null?void 0:u.id)===T.id?"bg-blue-50 text-blue-700":""}`,children:[" ",T.username]},T.id))})]})]})}),o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold mb-4",children:u?`${P(u.type)} `:""}),u?c.length>0?o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"px-4 py-2 text-left text-sm",children:""}),o.jsx("th",{className:"px-4 py-2 text-left text-sm",children:""}),o.jsx("th",{className:"px-4 py-2 text-left text-sm",children:""}),o.jsx("th",{className:"px-4 py-2 text-left text-sm",children:""}),o.jsx("th",{className:"px-4 py-2 text-left text-sm",children:""})]})}),o.jsx("tbody",{children:c.map(T=>{var M,W;return o.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-2 text-sm",children:q(T.resource_type)}),o.jsx("td",{className:"px-4 py-2 text-sm",children:T.resource_id?(T.resource_type==="project"?(M=g.find(X=>X.id===T.resource_id))==null?void 0:M.name:(W=S.find(X=>X.id===T.resource_id))==null?void 0:W.name)||T.resource_id:""}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:R(T.action)})}),o.jsx("td",{className:"px-4 py-2 text-sm text-gray-500",children:new Date(T.created_at).toLocaleString("zh-CN")}),o.jsx("td",{className:"px-4 py-2 text-sm",children:o.jsx("button",{onClick:()=>I(T.id),className:"text-red-500 hover:text-red-600",children:""})})]},T.id)})})]})}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):o.jsx("div",{className:"text-center py-8 text-gray-500",children:""})]})})]}),n&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsx("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg mx-4",children:o.jsxs("div",{className:"p-6",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("select",{value:y.subject_type,onChange:T=>b({...y,subject_type:T.target.value,subject_id:""}),className:"w-full px-3 py-2 border rounded",children:Cd.map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsxs("select",{value:y.subject_id,onChange:T=>b({...y,subject_id:T.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsx("option",{value:"",children:""}),U().map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("select",{value:y.resource_type,onChange:T=>b({...y,resource_type:T.target.value,resource_id:""}),className:"w-full px-3 py-2 border rounded",children:Ed.map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))})]}),K().length>0&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),o.jsxs("select",{value:y.resource_id,onChange:T=>b({...y,resource_id:T.target.value}),className:"w-full px-3 py-2 border rounded",children:[o.jsxs("option",{value:"",children:[" ",q(y.resource_type)]}),K().map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-1",children:" *"}),o.jsx("select",{value:y.action,onChange:T=>b({...y,action:T.target.value}),className:"w-full px-3 py-2 border rounded",children:kd.map(T=>o.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),o.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[o.jsx("button",{onClick:()=>{a(!1),b({subject_type:"role",subject_id:"",resource_type:"*",resource_id:"",action:"*"})},className:"px-4 py-2 border rounded hover:bg-gray-50",children:""}),o.jsx("button",{onClick:O,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:""})]})]})})})]})}function ew(){const[e,t]=A.useState(!1),[r,s]=A.useState(!0),{ToastProvider:n}=yt();return A.useEffect(()=>{const a=()=>{const l=localStorage.getItem("access_token");t(!!l),s(!1)};a();const h=l=>{l.key==="access_token"&&a()},i=()=>{a()};return window.addEventListener("storage",h),window.addEventListener("authStateChange",i),()=>{window.removeEventListener("storage",h),window.removeEventListener("authStateChange",i)}},[]),r?o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"..."}):o.jsxs(o.Fragment,{children:[o.jsx(n,{}),o.jsx(c0,{children:o.jsxs(r0,{children:[o.jsx(Ve,{path:"/login",element:o.jsx($S,{})}),o.jsx(Ve,{path:"/",element:e?o.jsx(it,{to:"/dashboard"}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/dashboard",element:e?o.jsx(bt,{children:o.jsx(Nx,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/projects",element:e?o.jsx(bt,{children:o.jsx(MS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/assets",element:e?o.jsx(bt,{children:o.jsx(HS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/asset-credentials",element:e?o.jsx(bt,{children:o.jsx(zS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/users",element:e?o.jsx(bt,{children:o.jsx(WS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/roles",element:e?o.jsx(bt,{children:o.jsx(KS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/audit",element:e?o.jsx(bt,{children:o.jsx(qS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/webssh",element:e?o.jsx(bt,{children:o.jsx(GS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/api-tokens",element:e?o.jsx(bt,{children:o.jsx(JS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/teams",element:e?o.jsx(bt,{children:o.jsx(QS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/scoped-permissions",element:e?o.jsx(bt,{children:o.jsx(ZS,{})}):o.jsx(it,{to:"/login"})}),o.jsx(Ve,{path:"/health",element:o.jsx("div",{children:"Health Check"})})]})})]})}Uf(document.getElementById("root")).render(o.jsx(A.StrictMode,{children:o.jsx(ew,{})}));
