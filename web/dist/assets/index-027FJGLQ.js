function Nm(e,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const o=Object.getOwnPropertyDescriptor(s,n);o&&Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();function _d(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yd={exports:{}},Ki={},xd={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bn=Symbol.for("react.element"),Lm=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),Pm=Symbol.for("react.profiler"),Tm=Symbol.for("react.provider"),Om=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Bm=Symbol.for("react.suspense"),Im=Symbol.for("react.memo"),Fm=Symbol.for("react.lazy"),wc=Symbol.iterator;function Hm(e){return e===null||typeof e!="object"?null:(e=wc&&e[wc]||e["@@iterator"],typeof e=="function"?e:null)}var Sd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,bd={};function _s(e,t,r){this.props=e,this.context=t,this.refs=bd,this.updater=r||Sd}_s.prototype.isReactComponent={};_s.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cd(){}Cd.prototype=_s.prototype;function hl(e,t,r){this.props=e,this.context=t,this.refs=bd,this.updater=r||Sd}var fl=hl.prototype=new Cd;fl.constructor=hl;wd(fl,_s.prototype);fl.isPureReactComponent=!0;var bc=Array.isArray,Ed=Object.prototype.hasOwnProperty,pl={current:null},kd={key:!0,ref:!0,__self:!0,__source:!0};function Rd(e,t,r){var s,n={},o=null,h=null;if(t!=null)for(s in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(o=""+t.key),t)Ed.call(t,s)&&!kd.hasOwnProperty(s)&&(n[s]=t[s]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var l=Array(i),p=0;p<i;p++)l[p]=arguments[p+2];n.children=l}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)n[s]===void 0&&(n[s]=i[s]);return{$$typeof:bn,type:e,key:o,ref:h,props:n,_owner:pl.current}}function Um(e,t){return{$$typeof:bn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ml(e){return typeof e=="object"&&e!==null&&e.$$typeof===bn}function zm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Cc=/\/+/g;function bo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zm(""+e.key):t.toString(36)}function ri(e,t,r,s,n){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(o){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case bn:case Lm:h=!0}}if(h)return h=e,n=n(h),e=s===""?"."+bo(h,0):s,bc(n)?(r="",e!=null&&(r=e.replace(Cc,"$&/")+"/"),ri(n,t,r,"",function(p){return p})):n!=null&&(ml(n)&&(n=Um(n,r+(!n.key||h&&h.key===n.key?"":(""+n.key).replace(Cc,"$&/")+"/")+e)),t.push(n)),1;if(h=0,s=s===""?".":s+":",bc(e))for(var i=0;i<e.length;i++){o=e[i];var l=s+bo(o,i);h+=ri(o,t,r,l,n)}else if(l=Hm(e),typeof l=="function")for(e=l.call(e),i=0;!(o=e.next()).done;)o=o.value,l=s+bo(o,i++),h+=ri(o,t,r,l,n);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Pn(e,t,r){if(e==null)return e;var s=[],n=0;return ri(e,s,"","",function(o){return t.call(r,o,n++)}),s}function $m(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ue={current:null},si={transition:null},Wm={ReactCurrentDispatcher:Ue,ReactCurrentBatchConfig:si,ReactCurrentOwner:pl};function jd(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Pn,forEach:function(e,t,r){Pn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Pn(e,function(){t++}),t},toArray:function(e){return Pn(e,function(t){return t})||[]},only:function(e){if(!ml(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=_s;ne.Fragment=Dm;ne.Profiler=Pm;ne.PureComponent=hl;ne.StrictMode=Am;ne.Suspense=Bm;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wm;ne.act=jd;ne.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=wd({},e.props),n=e.key,o=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,h=pl.current),t.key!==void 0&&(n=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(l in t)Ed.call(t,l)&&!kd.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&i!==void 0?i[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){i=Array(l);for(var p=0;p<l;p++)i[p]=arguments[p+2];s.children=i}return{$$typeof:bn,type:e.type,key:n,ref:o,props:s,_owner:h}};ne.createContext=function(e){return e={$$typeof:Om,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tm,_context:e},e.Consumer=e};ne.createElement=Rd;ne.createFactory=function(e){var t=Rd.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:Mm,render:e}};ne.isValidElement=ml;ne.lazy=function(e){return{$$typeof:Fm,_payload:{_status:-1,_result:e},_init:$m}};ne.memo=function(e,t){return{$$typeof:Im,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=si.transition;si.transition={};try{e()}finally{si.transition=t}};ne.unstable_act=jd;ne.useCallback=function(e,t){return Ue.current.useCallback(e,t)};ne.useContext=function(e){return Ue.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Ue.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Ue.current.useEffect(e,t)};ne.useId=function(){return Ue.current.useId()};ne.useImperativeHandle=function(e,t,r){return Ue.current.useImperativeHandle(e,t,r)};ne.useInsertionEffect=function(e,t){return Ue.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Ue.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Ue.current.useMemo(e,t)};ne.useReducer=function(e,t,r){return Ue.current.useReducer(e,t,r)};ne.useRef=function(e){return Ue.current.useRef(e)};ne.useState=function(e){return Ue.current.useState(e)};ne.useSyncExternalStore=function(e,t,r){return Ue.current.useSyncExternalStore(e,t,r)};ne.useTransition=function(){return Ue.current.useTransition()};ne.version="18.3.1";xd.exports=ne;var N=xd.exports;const Vm=_d(N),vl=Nm({__proto__:null,default:Vm},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km=N,qm=Symbol.for("react.element"),Gm=Symbol.for("react.fragment"),Xm=Object.prototype.hasOwnProperty,Jm=Km.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qm={key:!0,ref:!0,__self:!0,__source:!0};function Nd(e,t,r){var s,n={},o=null,h=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(h=t.ref);for(s in t)Xm.call(t,s)&&!Qm.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)n[s]===void 0&&(n[s]=t[s]);return{$$typeof:qm,type:e,key:o,ref:h,props:n,_owner:Jm.current}}Ki.Fragment=Gm;Ki.jsx=Nd;Ki.jsxs=Nd;yd.exports=Ki;var d=yd.exports,Ld={exports:{}},tt={},Dd={exports:{}},Ad={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,P){var O=R.length;R.push(P);e:for(;0<O;){var M=O-1>>>1,U=R[M];if(0<n(U,P))R[M]=P,R[O]=U,O=M;else break e}}function r(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var P=R[0],O=R.pop();if(O!==P){R[0]=O;e:for(var M=0,U=R.length,H=U>>>1;M<H;){var q=2*(M+1)-1,V=R[q],Q=q+1,L=R[Q];if(0>n(V,O))Q<U&&0>n(L,V)?(R[M]=L,R[Q]=O,M=Q):(R[M]=V,R[q]=O,M=q);else if(Q<U&&0>n(L,O))R[M]=L,R[Q]=O,M=Q;else break e}}return P}function n(R,P){var O=R.sortIndex-P.sortIndex;return O!==0?O:R.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var h=Date,i=h.now();e.unstable_now=function(){return h.now()-i}}var l=[],p=[],v=1,m=null,g=3,b=!1,S=!1,y=!1,a=typeof setTimeout=="function"?setTimeout:null,u=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(R){for(var P=r(p);P!==null;){if(P.callback===null)s(p);else if(P.startTime<=R)s(p),P.sortIndex=P.expirationTime,t(l,P);else break;P=r(p)}}function _(R){if(y=!1,f(R),!S)if(r(l)!==null)S=!0,z(w);else{var P=r(p);P!==null&&G(_,P.startTime-R)}}function w(R,P){S=!1,y&&(y=!1,u(x),x=-1),b=!0;var O=g;try{for(f(P),m=r(l);m!==null&&(!(m.expirationTime>P)||R&&!A());){var M=m.callback;if(typeof M=="function"){m.callback=null,g=m.priorityLevel;var U=M(m.expirationTime<=P);P=e.unstable_now(),typeof U=="function"?m.callback=U:m===r(l)&&s(l),f(P)}else s(l);m=r(l)}if(m!==null)var H=!0;else{var q=r(p);q!==null&&G(_,q.startTime-P),H=!1}return H}finally{m=null,g=O,b=!1}}var E=!1,k=null,x=-1,C=5,D=-1;function A(){return!(e.unstable_now()-D<C)}function j(){if(k!==null){var R=e.unstable_now();D=R;var P=!0;try{P=k(!0,R)}finally{P?T():(E=!1,k=null)}}else E=!1}var T;if(typeof c=="function")T=function(){c(j)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,F=I.port2;I.port1.onmessage=j,T=function(){F.postMessage(null)}}else T=function(){a(j,0)};function z(R){k=R,E||(E=!0,T())}function G(R,P){x=a(function(){R(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){S||b||(S=!0,z(w))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var O=g;g=P;try{return R()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,P){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=g;g=R;try{return P()}finally{g=O}},e.unstable_scheduleCallback=function(R,P,O){var M=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?M+O:M):O=M,R){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=O+U,R={id:v++,callback:P,priorityLevel:R,startTime:O,expirationTime:U,sortIndex:-1},O>M?(R.sortIndex=O,t(p,R),r(l)===null&&R===r(p)&&(y?(u(x),x=-1):y=!0,G(_,O-M))):(R.sortIndex=U,t(l,R),S||b||(S=!0,z(w))),R},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(R){var P=g;return function(){var O=g;g=P;try{return R.apply(this,arguments)}finally{g=O}}}})(Ad);Dd.exports=Ad;var Ym=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm=N,et=Ym;function X(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Pd=new Set,tn={};function Or(e,t){us(e,t),us(e+"Capture",t)}function us(e,t){for(tn[e]=t,e=0;e<t.length;e++)Pd.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ua=Object.prototype.hasOwnProperty,ev=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ec={},kc={};function tv(e){return ua.call(kc,e)?!0:ua.call(Ec,e)?!1:ev.test(e)?kc[e]=!0:(Ec[e]=!0,!1)}function rv(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sv(e,t,r,s){if(t===null||typeof t>"u"||rv(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ze(e,t,r,s,n,o,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=h}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){De[e]=new ze(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];De[t]=new ze(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){De[e]=new ze(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){De[e]=new ze(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){De[e]=new ze(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){De[e]=new ze(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){De[e]=new ze(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){De[e]=new ze(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){De[e]=new ze(e,5,!1,e.toLowerCase(),null,!1,!1)});var gl=/[\-:]([a-z])/g;function _l(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gl,_l);De[t]=new ze(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gl,_l);De[t]=new ze(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gl,_l);De[t]=new ze(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){De[e]=new ze(e,1,!1,e.toLowerCase(),null,!1,!1)});De.xlinkHref=new ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){De[e]=new ze(e,1,!1,e.toLowerCase(),null,!0,!0)});function yl(e,t,r,s){var n=De.hasOwnProperty(t)?De[t]:null;(n!==null?n.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sv(t,r,n,s)&&(r=null),s||n===null?tv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(t=n.attributeName,s=n.attributeNamespace,r===null?e.removeAttribute(t):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ht=Zm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tn=Symbol.for("react.element"),$r=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),da=Symbol.for("react.profiler"),Td=Symbol.for("react.provider"),Od=Symbol.for("react.context"),Sl=Symbol.for("react.forward_ref"),ha=Symbol.for("react.suspense"),fa=Symbol.for("react.suspense_list"),wl=Symbol.for("react.memo"),Qt=Symbol.for("react.lazy"),Md=Symbol.for("react.offscreen"),Rc=Symbol.iterator;function Ds(e){return e===null||typeof e!="object"?null:(e=Rc&&e[Rc]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Co;function zs(e){if(Co===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Co=t&&t[1]||""}return`
`+Co+e}var Eo=!1;function ko(e,t){if(!e||Eo)return"";Eo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var s=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){s=p}e.call(t.prototype)}else{try{throw Error()}catch(p){s=p}e()}}catch(p){if(p&&s&&typeof p.stack=="string"){for(var n=p.stack.split(`
`),o=s.stack.split(`
`),h=n.length-1,i=o.length-1;1<=h&&0<=i&&n[h]!==o[i];)i--;for(;1<=h&&0<=i;h--,i--)if(n[h]!==o[i]){if(h!==1||i!==1)do if(h--,i--,0>i||n[h]!==o[i]){var l=`
`+n[h].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=h&&0<=i);break}}}finally{Eo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zs(e):""}function nv(e){switch(e.tag){case 5:return zs(e.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return e=ko(e.type,!1),e;case 11:return e=ko(e.type.render,!1),e;case 1:return e=ko(e.type,!0),e;default:return""}}function pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case $r:return"Portal";case da:return"Profiler";case xl:return"StrictMode";case ha:return"Suspense";case fa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Td:return(e._context.displayName||"Context")+".Provider";case Sl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wl:return t=e.displayName||null,t!==null?t:pa(e.type)||"Memo";case Qt:t=e._payload,e=e._init;try{return pa(e(t))}catch{}}return null}function iv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pa(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ov(e){var t=Bd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(h){s=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(h){s=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function On(e){e._valueTracker||(e._valueTracker=ov(e))}function Id(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Bd(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ma(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function jc(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=fr(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fd(e,t){t=t.checked,t!=null&&yl(e,"checked",t,!1)}function va(e,t){Fd(e,t);var r=fr(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ga(e,t.type,r):t.hasOwnProperty("defaultValue")&&ga(e,t.type,fr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ga(e,t,r){(t!=="number"||yi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var $s=Array.isArray;function ts(e,t,r,s){if(e=e.options,t){t={};for(var n=0;n<r.length;n++)t["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=t.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&s&&(e[r].defaultSelected=!0)}else{for(r=""+fr(r),t=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function _a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(X(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Lc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(X(92));if($s(r)){if(1<r.length)throw Error(X(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fr(r)}}function Hd(e,t){var r=fr(t.value),s=fr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function Dc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ud(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ya(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ud(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mn,zd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,n){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,n)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mn=Mn||document.createElement("div"),Mn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ks={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},av=["Webkit","ms","Moz","O"];Object.keys(Ks).forEach(function(e){av.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ks[t]=Ks[e]})});function $d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ks.hasOwnProperty(e)&&Ks[e]?(""+t).trim():t+"px"}function Wd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,n=$d(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,n):e[r]=n}}var lv=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(e,t){if(t){if(lv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(X(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(X(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(X(61))}if(t.style!=null&&typeof t.style!="object")throw Error(X(62))}}function Sa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wa=null;function bl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ba=null,rs=null,ss=null;function Ac(e){if(e=kn(e)){if(typeof ba!="function")throw Error(X(280));var t=e.stateNode;t&&(t=Qi(t),ba(e.stateNode,e.type,t))}}function Vd(e){rs?ss?ss.push(e):ss=[e]:rs=e}function Kd(){if(rs){var e=rs,t=ss;if(ss=rs=null,Ac(e),t)for(e=0;e<t.length;e++)Ac(t[e])}}function qd(e,t){return e(t)}function Gd(){}var Ro=!1;function Xd(e,t,r){if(Ro)return e(t,r);Ro=!0;try{return qd(e,t,r)}finally{Ro=!1,(rs!==null||ss!==null)&&(Gd(),Kd())}}function sn(e,t){var r=e.stateNode;if(r===null)return null;var s=Qi(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(X(231,t,typeof r));return r}var Ca=!1;if(Mt)try{var As={};Object.defineProperty(As,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Ca=!1}function cv(e,t,r,s,n,o,h,i,l){var p=Array.prototype.slice.call(arguments,3);try{t.apply(r,p)}catch(v){this.onError(v)}}var qs=!1,xi=null,Si=!1,Ea=null,uv={onError:function(e){qs=!0,xi=e}};function dv(e,t,r,s,n,o,h,i,l){qs=!1,xi=null,cv.apply(uv,arguments)}function hv(e,t,r,s,n,o,h,i,l){if(dv.apply(this,arguments),qs){if(qs){var p=xi;qs=!1,xi=null}else throw Error(X(198));Si||(Si=!0,Ea=p)}}function Mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pc(e){if(Mr(e)!==e)throw Error(X(188))}function fv(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(X(188));return t!==e?null:e}for(var r=e,s=t;;){var n=r.return;if(n===null)break;var o=n.alternate;if(o===null){if(s=n.return,s!==null){r=s;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===r)return Pc(n),e;if(o===s)return Pc(n),t;o=o.sibling}throw Error(X(188))}if(r.return!==s.return)r=n,s=o;else{for(var h=!1,i=n.child;i;){if(i===r){h=!0,r=n,s=o;break}if(i===s){h=!0,s=n,r=o;break}i=i.sibling}if(!h){for(i=o.child;i;){if(i===r){h=!0,r=o,s=n;break}if(i===s){h=!0,s=o,r=n;break}i=i.sibling}if(!h)throw Error(X(189))}}if(r.alternate!==s)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?e:t}function Qd(e){return e=fv(e),e!==null?Yd(e):null}function Yd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yd(e);if(t!==null)return t;e=e.sibling}return null}var Zd=et.unstable_scheduleCallback,Tc=et.unstable_cancelCallback,pv=et.unstable_shouldYield,mv=et.unstable_requestPaint,Se=et.unstable_now,vv=et.unstable_getCurrentPriorityLevel,Cl=et.unstable_ImmediatePriority,eh=et.unstable_UserBlockingPriority,wi=et.unstable_NormalPriority,gv=et.unstable_LowPriority,th=et.unstable_IdlePriority,qi=null,Rt=null;function _v(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(qi,e,void 0,(e.current.flags&128)===128)}catch{}}var vt=Math.clz32?Math.clz32:Sv,yv=Math.log,xv=Math.LN2;function Sv(e){return e>>>=0,e===0?32:31-(yv(e)/xv|0)|0}var Bn=64,In=4194304;function Ws(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bi(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,n=e.suspendedLanes,o=e.pingedLanes,h=r&268435455;if(h!==0){var i=h&~n;i!==0?s=Ws(i):(o&=h,o!==0&&(s=Ws(o)))}else h=r&~n,h!==0?s=Ws(h):o!==0&&(s=Ws(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&n)&&(n=s&-s,o=t&-t,n>=o||n===16&&(o&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-vt(t),n=1<<r,s|=e[r],t&=~n;return s}function wv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bv(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,o=e.pendingLanes;0<o;){var h=31-vt(o),i=1<<h,l=n[h];l===-1?(!(i&r)||i&s)&&(n[h]=wv(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}function ka(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rh(){var e=Bn;return Bn<<=1,!(Bn&4194240)&&(Bn=64),e}function jo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Cn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vt(t),e[t]=r}function Cv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-vt(r),o=1<<n;t[n]=0,s[n]=-1,e[n]=-1,r&=~o}}function El(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-vt(r),n=1<<s;n&t|e[s]&t&&(e[s]|=t),r&=~n}}var ae=0;function sh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nh,kl,ih,oh,ah,Ra=!1,Fn=[],nr=null,ir=null,or=null,nn=new Map,on=new Map,Zt=[],Ev="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(e,t){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":nn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":on.delete(t.pointerId)}}function Ps(e,t,r,s,n,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:o,targetContainers:[n]},t!==null&&(t=kn(t),t!==null&&kl(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function kv(e,t,r,s,n){switch(t){case"focusin":return nr=Ps(nr,e,t,r,s,n),!0;case"dragenter":return ir=Ps(ir,e,t,r,s,n),!0;case"mouseover":return or=Ps(or,e,t,r,s,n),!0;case"pointerover":var o=n.pointerId;return nn.set(o,Ps(nn.get(o)||null,e,t,r,s,n)),!0;case"gotpointercapture":return o=n.pointerId,on.set(o,Ps(on.get(o)||null,e,t,r,s,n)),!0}return!1}function lh(e){var t=Sr(e.target);if(t!==null){var r=Mr(t);if(r!==null){if(t=r.tag,t===13){if(t=Jd(r),t!==null){e.blockedOn=t,ah(e.priority,function(){ih(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ja(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);wa=s,r.target.dispatchEvent(s),wa=null}else return t=kn(r),t!==null&&kl(t),e.blockedOn=r,!1;t.shift()}return!0}function Mc(e,t,r){ni(e)&&r.delete(t)}function Rv(){Ra=!1,nr!==null&&ni(nr)&&(nr=null),ir!==null&&ni(ir)&&(ir=null),or!==null&&ni(or)&&(or=null),nn.forEach(Mc),on.forEach(Mc)}function Ts(e,t){e.blockedOn===t&&(e.blockedOn=null,Ra||(Ra=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,Rv)))}function an(e){function t(n){return Ts(n,e)}if(0<Fn.length){Ts(Fn[0],e);for(var r=1;r<Fn.length;r++){var s=Fn[r];s.blockedOn===e&&(s.blockedOn=null)}}for(nr!==null&&Ts(nr,e),ir!==null&&Ts(ir,e),or!==null&&Ts(or,e),nn.forEach(t),on.forEach(t),r=0;r<Zt.length;r++)s=Zt[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<Zt.length&&(r=Zt[0],r.blockedOn===null);)lh(r),r.blockedOn===null&&Zt.shift()}var ns=Ht.ReactCurrentBatchConfig,Ci=!0;function jv(e,t,r,s){var n=ae,o=ns.transition;ns.transition=null;try{ae=1,Rl(e,t,r,s)}finally{ae=n,ns.transition=o}}function Nv(e,t,r,s){var n=ae,o=ns.transition;ns.transition=null;try{ae=4,Rl(e,t,r,s)}finally{ae=n,ns.transition=o}}function Rl(e,t,r,s){if(Ci){var n=ja(e,t,r,s);if(n===null)Io(e,t,s,Ei,r),Oc(e,s);else if(kv(n,e,t,r,s))s.stopPropagation();else if(Oc(e,s),t&4&&-1<Ev.indexOf(e)){for(;n!==null;){var o=kn(n);if(o!==null&&nh(o),o=ja(e,t,r,s),o===null&&Io(e,t,s,Ei,r),o===n)break;n=o}n!==null&&s.stopPropagation()}else Io(e,t,s,null,r)}}var Ei=null;function ja(e,t,r,s){if(Ei=null,e=bl(s),e=Sr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function ch(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vv()){case Cl:return 1;case eh:return 4;case wi:case gv:return 16;case th:return 536870912;default:return 16}default:return 16}}var tr=null,jl=null,ii=null;function uh(){if(ii)return ii;var e,t=jl,r=t.length,s,n="value"in tr?tr.value:tr.textContent,o=n.length;for(e=0;e<r&&t[e]===n[e];e++);var h=r-e;for(s=1;s<=h&&t[r-s]===n[o-s];s++);return ii=n.slice(e,1<s?1-s:void 0)}function oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hn(){return!0}function Bc(){return!1}function rt(e){function t(r,s,n,o,h){this._reactName=r,this._targetInst=n,this.type=s,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(r=e[i],this[i]=r?r(o):o[i]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hn:Bc,this.isPropagationStopped=Bc,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),t}var ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nl=rt(ys),En=_e({},ys,{view:0,detail:0}),Lv=rt(En),No,Lo,Os,Gi=_e({},En,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Os&&(Os&&e.type==="mousemove"?(No=e.screenX-Os.screenX,Lo=e.screenY-Os.screenY):Lo=No=0,Os=e),No)},movementY:function(e){return"movementY"in e?e.movementY:Lo}}),Ic=rt(Gi),Dv=_e({},Gi,{dataTransfer:0}),Av=rt(Dv),Pv=_e({},En,{relatedTarget:0}),Do=rt(Pv),Tv=_e({},ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Ov=rt(Tv),Mv=_e({},ys,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bv=rt(Mv),Iv=_e({},ys,{data:0}),Fc=rt(Iv),Fv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Uv[e])?!!t[e]:!1}function Ll(){return zv}var $v=_e({},En,{key:function(e){if(e.key){var t=Fv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ll,charCode:function(e){return e.type==="keypress"?oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wv=rt($v),Vv=_e({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hc=rt(Vv),Kv=_e({},En,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ll}),qv=rt(Kv),Gv=_e({},ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=rt(Gv),Jv=_e({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qv=rt(Jv),Yv=[9,13,27,32],Dl=Mt&&"CompositionEvent"in window,Gs=null;Mt&&"documentMode"in document&&(Gs=document.documentMode);var Zv=Mt&&"TextEvent"in window&&!Gs,dh=Mt&&(!Dl||Gs&&8<Gs&&11>=Gs),Uc=" ",zc=!1;function hh(e,t){switch(e){case"keyup":return Yv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function eg(e,t){switch(e){case"compositionend":return fh(t);case"keypress":return t.which!==32?null:(zc=!0,Uc);case"textInput":return e=t.data,e===Uc&&zc?null:e;default:return null}}function tg(e,t){if(Vr)return e==="compositionend"||!Dl&&hh(e,t)?(e=uh(),ii=jl=tr=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dh&&t.locale!=="ko"?null:t.data;default:return null}}var rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!rg[e.type]:t==="textarea"}function ph(e,t,r,s){Vd(s),t=ki(t,"onChange"),0<t.length&&(r=new Nl("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Xs=null,ln=null;function sg(e){Eh(e,0)}function Xi(e){var t=Gr(e);if(Id(t))return e}function ng(e,t){if(e==="change")return t}var mh=!1;if(Mt){var Ao;if(Mt){var Po="oninput"in document;if(!Po){var Wc=document.createElement("div");Wc.setAttribute("oninput","return;"),Po=typeof Wc.oninput=="function"}Ao=Po}else Ao=!1;mh=Ao&&(!document.documentMode||9<document.documentMode)}function Vc(){Xs&&(Xs.detachEvent("onpropertychange",vh),ln=Xs=null)}function vh(e){if(e.propertyName==="value"&&Xi(ln)){var t=[];ph(t,ln,e,bl(e)),Xd(sg,t)}}function ig(e,t,r){e==="focusin"?(Vc(),Xs=t,ln=r,Xs.attachEvent("onpropertychange",vh)):e==="focusout"&&Vc()}function og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(ln)}function ag(e,t){if(e==="click")return Xi(t)}function lg(e,t){if(e==="input"||e==="change")return Xi(t)}function cg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:cg;function cn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var n=r[s];if(!ua.call(t,n)||!_t(e[n],t[n]))return!1}return!0}function Kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,t){var r=Kc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kc(r)}}function gh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _h(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=yi(e.document)}return t}function Al(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ug(e){var t=_h(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&gh(r.ownerDocument.documentElement,r)){if(s!==null&&Al(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,o=Math.min(s.start,n);s=s.end===void 0?o:Math.min(s.end,n),!e.extend&&o>s&&(n=s,s=o,o=n),n=qc(r,o);var h=qc(r,s);n&&h&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(n.node,n.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dg=Mt&&"documentMode"in document&&11>=document.documentMode,Kr=null,Na=null,Js=null,La=!1;function Gc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;La||Kr==null||Kr!==yi(s)||(s=Kr,"selectionStart"in s&&Al(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Js&&cn(Js,s)||(Js=s,s=ki(Na,"onSelect"),0<s.length&&(t=new Nl("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Kr)))}function Un(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var qr={animationend:Un("Animation","AnimationEnd"),animationiteration:Un("Animation","AnimationIteration"),animationstart:Un("Animation","AnimationStart"),transitionend:Un("Transition","TransitionEnd")},To={},yh={};Mt&&(yh=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Ji(e){if(To[e])return To[e];if(!qr[e])return e;var t=qr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yh)return To[e]=t[r];return e}var xh=Ji("animationend"),Sh=Ji("animationiteration"),wh=Ji("animationstart"),bh=Ji("transitionend"),Ch=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(e,t){Ch.set(e,t),Or(t,[e])}for(var Oo=0;Oo<Xc.length;Oo++){var Mo=Xc[Oo],hg=Mo.toLowerCase(),fg=Mo[0].toUpperCase()+Mo.slice(1);mr(hg,"on"+fg)}mr(xh,"onAnimationEnd");mr(Sh,"onAnimationIteration");mr(wh,"onAnimationStart");mr("dblclick","onDoubleClick");mr("focusin","onFocus");mr("focusout","onBlur");mr(bh,"onTransitionEnd");us("onMouseEnter",["mouseout","mouseover"]);us("onMouseLeave",["mouseout","mouseover"]);us("onPointerEnter",["pointerout","pointerover"]);us("onPointerLeave",["pointerout","pointerover"]);Or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Or("onBeforeInput",["compositionend","keypress","textInput","paste"]);Or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vs));function Jc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,hv(s,t,void 0,e),e.currentTarget=null}function Eh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],n=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var h=s.length-1;0<=h;h--){var i=s[h],l=i.instance,p=i.currentTarget;if(i=i.listener,l!==o&&n.isPropagationStopped())break e;Jc(n,i,p),o=l}else for(h=0;h<s.length;h++){if(i=s[h],l=i.instance,p=i.currentTarget,i=i.listener,l!==o&&n.isPropagationStopped())break e;Jc(n,i,p),o=l}}}if(Si)throw e=Ea,Si=!1,Ea=null,e}function de(e,t){var r=t[Oa];r===void 0&&(r=t[Oa]=new Set);var s=e+"__bubble";r.has(s)||(kh(t,e,2,!1),r.add(s))}function Bo(e,t,r){var s=0;t&&(s|=4),kh(r,e,s,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function un(e){if(!e[zn]){e[zn]=!0,Pd.forEach(function(r){r!=="selectionchange"&&(pg.has(r)||Bo(r,!1,e),Bo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zn]||(t[zn]=!0,Bo("selectionchange",!1,t))}}function kh(e,t,r,s){switch(ch(t)){case 1:var n=jv;break;case 4:n=Nv;break;default:n=Rl}r=n.bind(null,t,r,e),n=void 0,!Ca||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,r,{capture:!0,passive:n}):e.addEventListener(t,r,!0):n!==void 0?e.addEventListener(t,r,{passive:n}):e.addEventListener(t,r,!1)}function Io(e,t,r,s,n){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var h=s.tag;if(h===3||h===4){var i=s.stateNode.containerInfo;if(i===n||i.nodeType===8&&i.parentNode===n)break;if(h===4)for(h=s.return;h!==null;){var l=h.tag;if((l===3||l===4)&&(l=h.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;h=h.return}for(;i!==null;){if(h=Sr(i),h===null)return;if(l=h.tag,l===5||l===6){s=o=h;continue e}i=i.parentNode}}s=s.return}Xd(function(){var p=o,v=bl(r),m=[];e:{var g=Ch.get(e);if(g!==void 0){var b=Nl,S=e;switch(e){case"keypress":if(oi(r)===0)break e;case"keydown":case"keyup":b=Wv;break;case"focusin":S="focus",b=Do;break;case"focusout":S="blur",b=Do;break;case"beforeblur":case"afterblur":b=Do;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=Av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=qv;break;case xh:case Sh:case wh:b=Ov;break;case bh:b=Xv;break;case"scroll":b=Lv;break;case"wheel":b=Qv;break;case"copy":case"cut":case"paste":b=Bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Hc}var y=(t&4)!==0,a=!y&&e==="scroll",u=y?g!==null?g+"Capture":null:g;y=[];for(var c=p,f;c!==null;){f=c;var _=f.stateNode;if(f.tag===5&&_!==null&&(f=_,u!==null&&(_=sn(c,u),_!=null&&y.push(dn(c,_,f)))),a)break;c=c.return}0<y.length&&(g=new b(g,S,null,r,v),m.push({event:g,listeners:y}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",g&&r!==wa&&(S=r.relatedTarget||r.fromElement)&&(Sr(S)||S[Bt]))break e;if((b||g)&&(g=v.window===v?v:(g=v.ownerDocument)?g.defaultView||g.parentWindow:window,b?(S=r.relatedTarget||r.toElement,b=p,S=S?Sr(S):null,S!==null&&(a=Mr(S),S!==a||S.tag!==5&&S.tag!==6)&&(S=null)):(b=null,S=p),b!==S)){if(y=Ic,_="onMouseLeave",u="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(y=Hc,_="onPointerLeave",u="onPointerEnter",c="pointer"),a=b==null?g:Gr(b),f=S==null?g:Gr(S),g=new y(_,c+"leave",b,r,v),g.target=a,g.relatedTarget=f,_=null,Sr(v)===p&&(y=new y(u,c+"enter",S,r,v),y.target=f,y.relatedTarget=a,_=y),a=_,b&&S)t:{for(y=b,u=S,c=0,f=y;f;f=Fr(f))c++;for(f=0,_=u;_;_=Fr(_))f++;for(;0<c-f;)y=Fr(y),c--;for(;0<f-c;)u=Fr(u),f--;for(;c--;){if(y===u||u!==null&&y===u.alternate)break t;y=Fr(y),u=Fr(u)}y=null}else y=null;b!==null&&Qc(m,g,b,y,!1),S!==null&&a!==null&&Qc(m,a,S,y,!0)}}e:{if(g=p?Gr(p):window,b=g.nodeName&&g.nodeName.toLowerCase(),b==="select"||b==="input"&&g.type==="file")var w=ng;else if($c(g))if(mh)w=lg;else{w=og;var E=ig}else(b=g.nodeName)&&b.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(w=ag);if(w&&(w=w(e,p))){ph(m,w,r,v);break e}E&&E(e,g,p),e==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&ga(g,"number",g.value)}switch(E=p?Gr(p):window,e){case"focusin":($c(E)||E.contentEditable==="true")&&(Kr=E,Na=p,Js=null);break;case"focusout":Js=Na=Kr=null;break;case"mousedown":La=!0;break;case"contextmenu":case"mouseup":case"dragend":La=!1,Gc(m,r,v);break;case"selectionchange":if(dg)break;case"keydown":case"keyup":Gc(m,r,v)}var k;if(Dl)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vr?hh(e,r)&&(x="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(dh&&r.locale!=="ko"&&(Vr||x!=="onCompositionStart"?x==="onCompositionEnd"&&Vr&&(k=uh()):(tr=v,jl="value"in tr?tr.value:tr.textContent,Vr=!0)),E=ki(p,x),0<E.length&&(x=new Fc(x,e,null,r,v),m.push({event:x,listeners:E}),k?x.data=k:(k=fh(r),k!==null&&(x.data=k)))),(k=Zv?eg(e,r):tg(e,r))&&(p=ki(p,"onBeforeInput"),0<p.length&&(v=new Fc("onBeforeInput","beforeinput",null,r,v),m.push({event:v,listeners:p}),v.data=k))}Eh(m,t)})}function dn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ki(e,t){for(var r=t+"Capture",s=[];e!==null;){var n=e,o=n.stateNode;n.tag===5&&o!==null&&(n=o,o=sn(e,r),o!=null&&s.unshift(dn(e,o,n)),o=sn(e,t),o!=null&&s.push(dn(e,o,n))),e=e.return}return s}function Fr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qc(e,t,r,s,n){for(var o=t._reactName,h=[];r!==null&&r!==s;){var i=r,l=i.alternate,p=i.stateNode;if(l!==null&&l===s)break;i.tag===5&&p!==null&&(i=p,n?(l=sn(r,o),l!=null&&h.unshift(dn(r,l,i))):n||(l=sn(r,o),l!=null&&h.push(dn(r,l,i)))),r=r.return}h.length!==0&&e.push({event:t,listeners:h})}var mg=/\r\n?/g,vg=/\u0000|\uFFFD/g;function Yc(e){return(typeof e=="string"?e:""+e).replace(mg,`
`).replace(vg,"")}function $n(e,t,r){if(t=Yc(t),Yc(e)!==t&&r)throw Error(X(425))}function Ri(){}var Da=null,Aa=null;function Pa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,Zc=typeof Promise=="function"?Promise:void 0,_g=typeof queueMicrotask=="function"?queueMicrotask:typeof Zc<"u"?function(e){return Zc.resolve(null).then(e).catch(yg)}:Ta;function yg(e){setTimeout(function(){throw e})}function Fo(e,t){var r=t,s=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(s===0){e.removeChild(n),an(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=n}while(r);an(t)}function ar(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function eu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var xs=Math.random().toString(36).slice(2),Et="__reactFiber$"+xs,hn="__reactProps$"+xs,Bt="__reactContainer$"+xs,Oa="__reactEvents$"+xs,xg="__reactListeners$"+xs,Sg="__reactHandles$"+xs;function Sr(e){var t=e[Et];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Bt]||r[Et]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=eu(e);e!==null;){if(r=e[Et])return r;e=eu(e)}return t}e=r,r=e.parentNode}return null}function kn(e){return e=e[Et]||e[Bt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(X(33))}function Qi(e){return e[hn]||null}var Ma=[],Xr=-1;function vr(e){return{current:e}}function he(e){0>Xr||(e.current=Ma[Xr],Ma[Xr]=null,Xr--)}function le(e,t){Xr++,Ma[Xr]=e.current,e.current=t}var pr={},Be=vr(pr),Ve=vr(!1),jr=pr;function ds(e,t){var r=e.type.contextTypes;if(!r)return pr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var n={},o;for(o in r)n[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ke(e){return e=e.childContextTypes,e!=null}function ji(){he(Ve),he(Be)}function tu(e,t,r){if(Be.current!==pr)throw Error(X(168));le(Be,t),le(Ve,r)}function Rh(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var n in s)if(!(n in t))throw Error(X(108,iv(e)||"Unknown",n));return _e({},r,s)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,jr=Be.current,le(Be,e),le(Ve,Ve.current),!0}function ru(e,t,r){var s=e.stateNode;if(!s)throw Error(X(169));r?(e=Rh(e,t,jr),s.__reactInternalMemoizedMergedChildContext=e,he(Ve),he(Be),le(Be,e)):he(Ve),le(Ve,r)}var Dt=null,Yi=!1,Ho=!1;function jh(e){Dt===null?Dt=[e]:Dt.push(e)}function wg(e){Yi=!0,jh(e)}function gr(){if(!Ho&&Dt!==null){Ho=!0;var e=0,t=ae;try{var r=Dt;for(ae=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}Dt=null,Yi=!1}catch(n){throw Dt!==null&&(Dt=Dt.slice(e+1)),Zd(Cl,gr),n}finally{ae=t,Ho=!1}}return null}var Jr=[],Qr=0,Li=null,Di=0,it=[],ot=0,Nr=null,At=1,Pt="";function yr(e,t){Jr[Qr++]=Di,Jr[Qr++]=Li,Li=e,Di=t}function Nh(e,t,r){it[ot++]=At,it[ot++]=Pt,it[ot++]=Nr,Nr=e;var s=At;e=Pt;var n=32-vt(s)-1;s&=~(1<<n),r+=1;var o=32-vt(t)+n;if(30<o){var h=n-n%5;o=(s&(1<<h)-1).toString(32),s>>=h,n-=h,At=1<<32-vt(t)+n|r<<n|s,Pt=o+e}else At=1<<o|r<<n|s,Pt=e}function Pl(e){e.return!==null&&(yr(e,1),Nh(e,1,0))}function Tl(e){for(;e===Li;)Li=Jr[--Qr],Jr[Qr]=null,Di=Jr[--Qr],Jr[Qr]=null;for(;e===Nr;)Nr=it[--ot],it[ot]=null,Pt=it[--ot],it[ot]=null,At=it[--ot],it[ot]=null}var Ze=null,Ye=null,fe=!1,mt=null;function Lh(e,t){var r=at(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function su(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Ye=ar(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:At,overflow:Pt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=at(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ze=e,Ye=null,!0):!1;default:return!1}}function Ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ia(e){if(fe){var t=Ye;if(t){var r=t;if(!su(e,t)){if(Ba(e))throw Error(X(418));t=ar(r.nextSibling);var s=Ze;t&&su(e,t)?Lh(s,r):(e.flags=e.flags&-4097|2,fe=!1,Ze=e)}}else{if(Ba(e))throw Error(X(418));e.flags=e.flags&-4097|2,fe=!1,Ze=e}}}function nu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Wn(e){if(e!==Ze)return!1;if(!fe)return nu(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Pa(e.type,e.memoizedProps)),t&&(t=Ye)){if(Ba(e))throw Dh(),Error(X(418));for(;t;)Lh(e,t),t=ar(t.nextSibling)}if(nu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(X(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ye=ar(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Ze?ar(e.stateNode.nextSibling):null;return!0}function Dh(){for(var e=Ye;e;)e=ar(e.nextSibling)}function hs(){Ye=Ze=null,fe=!1}function Ol(e){mt===null?mt=[e]:mt.push(e)}var bg=Ht.ReactCurrentBatchConfig;function Ms(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var s=r.stateNode}if(!s)throw Error(X(147,e));var n=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(h){var i=n.refs;h===null?delete i[o]:i[o]=h},t._stringRef=o,t)}if(typeof e!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,e))}return e}function Vn(e,t){throw e=Object.prototype.toString.call(t),Error(X(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function iu(e){var t=e._init;return t(e._payload)}function Ah(e){function t(u,c){if(e){var f=u.deletions;f===null?(u.deletions=[c],u.flags|=16):f.push(c)}}function r(u,c){if(!e)return null;for(;c!==null;)t(u,c),c=c.sibling;return null}function s(u,c){for(u=new Map;c!==null;)c.key!==null?u.set(c.key,c):u.set(c.index,c),c=c.sibling;return u}function n(u,c){return u=dr(u,c),u.index=0,u.sibling=null,u}function o(u,c,f){return u.index=f,e?(f=u.alternate,f!==null?(f=f.index,f<c?(u.flags|=2,c):f):(u.flags|=2,c)):(u.flags|=1048576,c)}function h(u){return e&&u.alternate===null&&(u.flags|=2),u}function i(u,c,f,_){return c===null||c.tag!==6?(c=qo(f,u.mode,_),c.return=u,c):(c=n(c,f),c.return=u,c)}function l(u,c,f,_){var w=f.type;return w===Wr?v(u,c,f.props.children,_,f.key):c!==null&&(c.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&iu(w)===c.type)?(_=n(c,f.props),_.ref=Ms(u,c,f),_.return=u,_):(_=fi(f.type,f.key,f.props,null,u.mode,_),_.ref=Ms(u,c,f),_.return=u,_)}function p(u,c,f,_){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Go(f,u.mode,_),c.return=u,c):(c=n(c,f.children||[]),c.return=u,c)}function v(u,c,f,_,w){return c===null||c.tag!==7?(c=kr(f,u.mode,_,w),c.return=u,c):(c=n(c,f),c.return=u,c)}function m(u,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=qo(""+c,u.mode,f),c.return=u,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Tn:return f=fi(c.type,c.key,c.props,null,u.mode,f),f.ref=Ms(u,null,c),f.return=u,f;case $r:return c=Go(c,u.mode,f),c.return=u,c;case Qt:var _=c._init;return m(u,_(c._payload),f)}if($s(c)||Ds(c))return c=kr(c,u.mode,f,null),c.return=u,c;Vn(u,c)}return null}function g(u,c,f,_){var w=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return w!==null?null:i(u,c,""+f,_);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Tn:return f.key===w?l(u,c,f,_):null;case $r:return f.key===w?p(u,c,f,_):null;case Qt:return w=f._init,g(u,c,w(f._payload),_)}if($s(f)||Ds(f))return w!==null?null:v(u,c,f,_,null);Vn(u,f)}return null}function b(u,c,f,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return u=u.get(f)||null,i(c,u,""+_,w);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Tn:return u=u.get(_.key===null?f:_.key)||null,l(c,u,_,w);case $r:return u=u.get(_.key===null?f:_.key)||null,p(c,u,_,w);case Qt:var E=_._init;return b(u,c,f,E(_._payload),w)}if($s(_)||Ds(_))return u=u.get(f)||null,v(c,u,_,w,null);Vn(c,_)}return null}function S(u,c,f,_){for(var w=null,E=null,k=c,x=c=0,C=null;k!==null&&x<f.length;x++){k.index>x?(C=k,k=null):C=k.sibling;var D=g(u,k,f[x],_);if(D===null){k===null&&(k=C);break}e&&k&&D.alternate===null&&t(u,k),c=o(D,c,x),E===null?w=D:E.sibling=D,E=D,k=C}if(x===f.length)return r(u,k),fe&&yr(u,x),w;if(k===null){for(;x<f.length;x++)k=m(u,f[x],_),k!==null&&(c=o(k,c,x),E===null?w=k:E.sibling=k,E=k);return fe&&yr(u,x),w}for(k=s(u,k);x<f.length;x++)C=b(k,u,x,f[x],_),C!==null&&(e&&C.alternate!==null&&k.delete(C.key===null?x:C.key),c=o(C,c,x),E===null?w=C:E.sibling=C,E=C);return e&&k.forEach(function(A){return t(u,A)}),fe&&yr(u,x),w}function y(u,c,f,_){var w=Ds(f);if(typeof w!="function")throw Error(X(150));if(f=w.call(f),f==null)throw Error(X(151));for(var E=w=null,k=c,x=c=0,C=null,D=f.next();k!==null&&!D.done;x++,D=f.next()){k.index>x?(C=k,k=null):C=k.sibling;var A=g(u,k,D.value,_);if(A===null){k===null&&(k=C);break}e&&k&&A.alternate===null&&t(u,k),c=o(A,c,x),E===null?w=A:E.sibling=A,E=A,k=C}if(D.done)return r(u,k),fe&&yr(u,x),w;if(k===null){for(;!D.done;x++,D=f.next())D=m(u,D.value,_),D!==null&&(c=o(D,c,x),E===null?w=D:E.sibling=D,E=D);return fe&&yr(u,x),w}for(k=s(u,k);!D.done;x++,D=f.next())D=b(k,u,x,D.value,_),D!==null&&(e&&D.alternate!==null&&k.delete(D.key===null?x:D.key),c=o(D,c,x),E===null?w=D:E.sibling=D,E=D);return e&&k.forEach(function(j){return t(u,j)}),fe&&yr(u,x),w}function a(u,c,f,_){if(typeof f=="object"&&f!==null&&f.type===Wr&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Tn:e:{for(var w=f.key,E=c;E!==null;){if(E.key===w){if(w=f.type,w===Wr){if(E.tag===7){r(u,E.sibling),c=n(E,f.props.children),c.return=u,u=c;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Qt&&iu(w)===E.type){r(u,E.sibling),c=n(E,f.props),c.ref=Ms(u,E,f),c.return=u,u=c;break e}r(u,E);break}else t(u,E);E=E.sibling}f.type===Wr?(c=kr(f.props.children,u.mode,_,f.key),c.return=u,u=c):(_=fi(f.type,f.key,f.props,null,u.mode,_),_.ref=Ms(u,c,f),_.return=u,u=_)}return h(u);case $r:e:{for(E=f.key;c!==null;){if(c.key===E)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){r(u,c.sibling),c=n(c,f.children||[]),c.return=u,u=c;break e}else{r(u,c);break}else t(u,c);c=c.sibling}c=Go(f,u.mode,_),c.return=u,u=c}return h(u);case Qt:return E=f._init,a(u,c,E(f._payload),_)}if($s(f))return S(u,c,f,_);if(Ds(f))return y(u,c,f,_);Vn(u,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(r(u,c.sibling),c=n(c,f),c.return=u,u=c):(r(u,c),c=qo(f,u.mode,_),c.return=u,u=c),h(u)):r(u,c)}return a}var fs=Ah(!0),Ph=Ah(!1),Ai=vr(null),Pi=null,Yr=null,Ml=null;function Bl(){Ml=Yr=Pi=null}function Il(e){var t=Ai.current;he(Ai),e._currentValue=t}function Fa(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function is(e,t){Pi=e,Ml=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ut(e){var t=e._currentValue;if(Ml!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(Pi===null)throw Error(X(308));Yr=e,Pi.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var wr=null;function Fl(e){wr===null?wr=[e]:wr.push(e)}function Th(e,t,r,s){var n=t.interleaved;return n===null?(r.next=r,Fl(t)):(r.next=n.next,n.next=r),t.interleaved=r,It(e,s)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yt=!1;function Hl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function lr(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ie&2){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,It(e,r)}return n=s.interleaved,n===null?(t.next=t,Fl(s)):(t.next=n.next,n.next=t),s.interleaved=t,It(e,r)}function ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,El(e,r)}}function ou(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var n=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var h={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?n=o=h:o=o.next=h,r=r.next}while(r!==null);o===null?n=o=t:o=o.next=t}else n=o=t;r={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ti(e,t,r,s){var n=e.updateQueue;Yt=!1;var o=n.firstBaseUpdate,h=n.lastBaseUpdate,i=n.shared.pending;if(i!==null){n.shared.pending=null;var l=i,p=l.next;l.next=null,h===null?o=p:h.next=p,h=l;var v=e.alternate;v!==null&&(v=v.updateQueue,i=v.lastBaseUpdate,i!==h&&(i===null?v.firstBaseUpdate=p:i.next=p,v.lastBaseUpdate=l))}if(o!==null){var m=n.baseState;h=0,v=p=l=null,i=o;do{var g=i.lane,b=i.eventTime;if((s&g)===g){v!==null&&(v=v.next={eventTime:b,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var S=e,y=i;switch(g=t,b=r,y.tag){case 1:if(S=y.payload,typeof S=="function"){m=S.call(b,m,g);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,g=typeof S=="function"?S.call(b,m,g):S,g==null)break e;m=_e({},m,g);break e;case 2:Yt=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,g=n.effects,g===null?n.effects=[i]:g.push(i))}else b={eventTime:b,lane:g,tag:i.tag,payload:i.payload,callback:i.callback,next:null},v===null?(p=v=b,l=m):v=v.next=b,h|=g;if(i=i.next,i===null){if(i=n.shared.pending,i===null)break;g=i,i=g.next,g.next=null,n.lastBaseUpdate=g,n.shared.pending=null}}while(!0);if(v===null&&(l=m),n.baseState=l,n.firstBaseUpdate=p,n.lastBaseUpdate=v,t=n.shared.interleaved,t!==null){n=t;do h|=n.lane,n=n.next;while(n!==t)}else o===null&&(n.shared.lanes=0);Dr|=h,e.lanes=h,e.memoizedState=m}}function au(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],n=s.callback;if(n!==null){if(s.callback=null,s=r,typeof n!="function")throw Error(X(191,n));n.call(s)}}}var Rn={},jt=vr(Rn),fn=vr(Rn),pn=vr(Rn);function br(e){if(e===Rn)throw Error(X(174));return e}function Ul(e,t){switch(le(pn,t),le(fn,e),le(jt,Rn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ya(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ya(t,e)}he(jt),le(jt,t)}function ps(){he(jt),he(fn),he(pn)}function Mh(e){br(pn.current);var t=br(jt.current),r=ya(t,e.type);t!==r&&(le(fn,e),le(jt,r))}function zl(e){fn.current===e&&(he(jt),he(fn))}var ve=vr(0);function Oi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=[];function $l(){for(var e=0;e<Uo.length;e++)Uo[e]._workInProgressVersionPrimary=null;Uo.length=0}var li=Ht.ReactCurrentDispatcher,zo=Ht.ReactCurrentBatchConfig,Lr=0,ge=null,Ce=null,ke=null,Mi=!1,Qs=!1,mn=0,Cg=0;function Pe(){throw Error(X(321))}function Wl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_t(e[r],t[r]))return!1;return!0}function Vl(e,t,r,s,n,o){if(Lr=o,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?jg:Ng,e=r(s,n),Qs){o=0;do{if(Qs=!1,mn=0,25<=o)throw Error(X(301));o+=1,ke=Ce=null,t.updateQueue=null,li.current=Lg,e=r(s,n)}while(Qs)}if(li.current=Bi,t=Ce!==null&&Ce.next!==null,Lr=0,ke=Ce=ge=null,Mi=!1,t)throw Error(X(300));return e}function Kl(){var e=mn!==0;return mn=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?ge.memoizedState=ke=e:ke=ke.next=e,ke}function dt(){if(Ce===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=ke===null?ge.memoizedState:ke.next;if(t!==null)ke=t,Ce=e;else{if(e===null)throw Error(X(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},ke===null?ge.memoizedState=ke=e:ke=ke.next=e}return ke}function vn(e,t){return typeof t=="function"?t(e):t}function $o(e){var t=dt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var s=Ce,n=s.baseQueue,o=r.pending;if(o!==null){if(n!==null){var h=n.next;n.next=o.next,o.next=h}s.baseQueue=n=o,r.pending=null}if(n!==null){o=n.next,s=s.baseState;var i=h=null,l=null,p=o;do{var v=p.lane;if((Lr&v)===v)l!==null&&(l=l.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),s=p.hasEagerState?p.eagerState:e(s,p.action);else{var m={lane:v,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};l===null?(i=l=m,h=s):l=l.next=m,ge.lanes|=v,Dr|=v}p=p.next}while(p!==null&&p!==o);l===null?h=s:l.next=i,_t(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=h,t.baseQueue=l,r.lastRenderedState=s}if(e=r.interleaved,e!==null){n=e;do o=n.lane,ge.lanes|=o,Dr|=o,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Wo(e){var t=dt(),r=t.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=e;var s=r.dispatch,n=r.pending,o=t.memoizedState;if(n!==null){r.pending=null;var h=n=n.next;do o=e(o,h.action),h=h.next;while(h!==n);_t(o,t.memoizedState)||(We=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,s]}function Bh(){}function Ih(e,t){var r=ge,s=dt(),n=t(),o=!_t(s.memoizedState,n);if(o&&(s.memoizedState=n,We=!0),s=s.queue,ql(Uh.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||ke!==null&&ke.memoizedState.tag&1){if(r.flags|=2048,gn(9,Hh.bind(null,r,s,n,t),void 0,null),Re===null)throw Error(X(349));Lr&30||Fh(r,t,n)}return n}function Fh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hh(e,t,r,s){t.value=r,t.getSnapshot=s,zh(t)&&$h(e)}function Uh(e,t,r){return r(function(){zh(t)&&$h(e)})}function zh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_t(e,r)}catch{return!0}}function $h(e){var t=It(e,1);t!==null&&gt(t,e,1,-1)}function lu(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vn,lastRenderedState:e},t.queue=e,e=e.dispatch=Rg.bind(null,ge,e),[t.memoizedState,e]}function gn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function Wh(){return dt().memoizedState}function ci(e,t,r,s){var n=Ct();ge.flags|=e,n.memoizedState=gn(1|t,r,void 0,s===void 0?null:s)}function Zi(e,t,r,s){var n=dt();s=s===void 0?null:s;var o=void 0;if(Ce!==null){var h=Ce.memoizedState;if(o=h.destroy,s!==null&&Wl(s,h.deps)){n.memoizedState=gn(t,r,o,s);return}}ge.flags|=e,n.memoizedState=gn(1|t,r,o,s)}function cu(e,t){return ci(8390656,8,e,t)}function ql(e,t){return Zi(2048,8,e,t)}function Vh(e,t){return Zi(4,2,e,t)}function Kh(e,t){return Zi(4,4,e,t)}function qh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gh(e,t,r){return r=r!=null?r.concat([e]):null,Zi(4,4,qh.bind(null,t,e),r)}function Gl(){}function Xh(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function Jh(e,t){var r=dt();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Wl(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function Qh(e,t,r){return Lr&21?(_t(r,t)||(r=rh(),ge.lanes|=r,Dr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=r)}function Eg(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var s=zo.transition;zo.transition={};try{e(!1),t()}finally{ae=r,zo.transition=s}}function Yh(){return dt().memoizedState}function kg(e,t,r){var s=ur(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Zh(e))ef(t,r);else if(r=Th(e,t,r,s),r!==null){var n=He();gt(r,e,s,n),tf(r,t,s)}}function Rg(e,t,r){var s=ur(e),n={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zh(e))ef(t,n);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,i=o(h,r);if(n.hasEagerState=!0,n.eagerState=i,_t(i,h)){var l=t.interleaved;l===null?(n.next=n,Fl(t)):(n.next=l.next,l.next=n),t.interleaved=n;return}}catch{}finally{}r=Th(e,t,n,s),r!==null&&(n=He(),gt(r,e,s,n),tf(r,t,s))}}function Zh(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function ef(e,t){Qs=Mi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tf(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,El(e,r)}}var Bi={readContext:ut,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},jg={readContext:ut,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ut,useEffect:cu,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ci(4194308,4,qh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ci(4194308,4,e,t)},useInsertionEffect:function(e,t){return ci(4,2,e,t)},useMemo:function(e,t){var r=Ct();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=Ct();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=kg.bind(null,ge,e),[s.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:lu,useDebugValue:Gl,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=lu(!1),t=e[0];return e=Eg.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ge,n=Ct();if(fe){if(r===void 0)throw Error(X(407));r=r()}else{if(r=t(),Re===null)throw Error(X(349));Lr&30||Fh(s,t,r)}n.memoizedState=r;var o={value:r,getSnapshot:t};return n.queue=o,cu(Uh.bind(null,s,o,e),[e]),s.flags|=2048,gn(9,Hh.bind(null,s,o,r,t),void 0,null),r},useId:function(){var e=Ct(),t=Re.identifierPrefix;if(fe){var r=Pt,s=At;r=(s&~(1<<32-vt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=mn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Cg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ng={readContext:ut,useCallback:Xh,useContext:ut,useEffect:ql,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Kh,useMemo:Jh,useReducer:$o,useRef:Wh,useState:function(){return $o(vn)},useDebugValue:Gl,useDeferredValue:function(e){var t=dt();return Qh(t,Ce.memoizedState,e)},useTransition:function(){var e=$o(vn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Ih,useId:Yh,unstable_isNewReconciler:!1},Lg={readContext:ut,useCallback:Xh,useContext:ut,useEffect:ql,useImperativeHandle:Gh,useInsertionEffect:Vh,useLayoutEffect:Kh,useMemo:Jh,useReducer:Wo,useRef:Wh,useState:function(){return Wo(vn)},useDebugValue:Gl,useDeferredValue:function(e){var t=dt();return Ce===null?t.memoizedState=e:Qh(t,Ce.memoizedState,e)},useTransition:function(){var e=Wo(vn)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Bh,useSyncExternalStore:Ih,useId:Yh,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ha(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eo={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=He(),n=ur(e),o=Tt(s,n);o.payload=t,r!=null&&(o.callback=r),t=lr(e,o,n),t!==null&&(gt(t,e,n,s),ai(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=He(),n=ur(e),o=Tt(s,n);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=lr(e,o,n),t!==null&&(gt(t,e,n,s),ai(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=He(),s=ur(e),n=Tt(r,s);n.tag=2,t!=null&&(n.callback=t),t=lr(e,n,s),t!==null&&(gt(t,e,s,r),ai(t,e,s))}};function uu(e,t,r,s,n,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,h):t.prototype&&t.prototype.isPureReactComponent?!cn(r,s)||!cn(n,o):!0}function rf(e,t,r){var s=!1,n=pr,o=t.contextType;return typeof o=="object"&&o!==null?o=ut(o):(n=Ke(t)?jr:Be.current,s=t.contextTypes,o=(s=s!=null)?ds(e,n):pr),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),t}function du(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&eo.enqueueReplaceState(t,t.state,null)}function Ua(e,t,r,s){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Hl(e);var o=t.contextType;typeof o=="object"&&o!==null?n.context=ut(o):(o=Ke(t)?jr:Be.current,n.context=ds(e,o)),n.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ha(e,t,o,r),n.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(t=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),t!==n.state&&eo.enqueueReplaceState(n,n.state,null),Ti(e,r,n,s),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function ms(e,t){try{var r="",s=t;do r+=nv(s),s=s.return;while(s);var n=r}catch(o){n=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:n,digest:null}}function Vo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function za(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Dg=typeof WeakMap=="function"?WeakMap:Map;function sf(e,t,r){r=Tt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Fi||(Fi=!0,Ya=s),za(e,t)},r}function nf(e,t,r){r=Tt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var n=t.value;r.payload=function(){return s(n)},r.callback=function(){za(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){za(e,t),typeof s!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),r}function hu(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Dg;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(r)||(n.add(r),e=Vg.bind(null,e,t,r),t.then(e,e))}function fu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function pu(e,t,r,s,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Tt(-1,1),t.tag=2,lr(r,t,1))),r.lanes|=1),e)}var Ag=Ht.ReactCurrentOwner,We=!1;function Fe(e,t,r,s){t.child=e===null?Ph(t,null,r,s):fs(t,e.child,r,s)}function mu(e,t,r,s,n){r=r.render;var o=t.ref;return is(t,n),s=Vl(e,t,r,s,o,n),r=Kl(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ft(e,t,n)):(fe&&r&&Pl(t),t.flags|=1,Fe(e,t,s,n),t.child)}function vu(e,t,r,s,n){if(e===null){var o=r.type;return typeof o=="function"&&!rc(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,of(e,t,o,s,n)):(e=fi(r.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&n)){var h=o.memoizedProps;if(r=r.compare,r=r!==null?r:cn,r(h,s)&&e.ref===t.ref)return Ft(e,t,n)}return t.flags|=1,e=dr(o,s),e.ref=t.ref,e.return=t,t.child=e}function of(e,t,r,s,n){if(e!==null){var o=e.memoizedProps;if(cn(o,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=o,(e.lanes&n)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Ft(e,t,n)}return $a(e,t,r,s,n)}function af(e,t,r){var s=t.pendingProps,n=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(es,Qe),Qe|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(es,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:r,le(es,Qe),Qe|=s}else o!==null?(s=o.baseLanes|r,t.memoizedState=null):s=r,le(es,Qe),Qe|=s;return Fe(e,t,n,r),t.child}function lf(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $a(e,t,r,s,n){var o=Ke(r)?jr:Be.current;return o=ds(t,o),is(t,n),r=Vl(e,t,r,s,o,n),s=Kl(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Ft(e,t,n)):(fe&&s&&Pl(t),t.flags|=1,Fe(e,t,r,n),t.child)}function gu(e,t,r,s,n){if(Ke(r)){var o=!0;Ni(t)}else o=!1;if(is(t,n),t.stateNode===null)ui(e,t),rf(t,r,s),Ua(t,r,s,n),s=!0;else if(e===null){var h=t.stateNode,i=t.memoizedProps;h.props=i;var l=h.context,p=r.contextType;typeof p=="object"&&p!==null?p=ut(p):(p=Ke(r)?jr:Be.current,p=ds(t,p));var v=r.getDerivedStateFromProps,m=typeof v=="function"||typeof h.getSnapshotBeforeUpdate=="function";m||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(i!==s||l!==p)&&du(t,h,s,p),Yt=!1;var g=t.memoizedState;h.state=g,Ti(t,s,h,n),l=t.memoizedState,i!==s||g!==l||Ve.current||Yt?(typeof v=="function"&&(Ha(t,r,v,s),l=t.memoizedState),(i=Yt||uu(t,r,i,s,g,l,p))?(m||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),h.props=s,h.state=l,h.context=p,s=i):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{h=t.stateNode,Oh(e,t),i=t.memoizedProps,p=t.type===t.elementType?i:ft(t.type,i),h.props=p,m=t.pendingProps,g=h.context,l=r.contextType,typeof l=="object"&&l!==null?l=ut(l):(l=Ke(r)?jr:Be.current,l=ds(t,l));var b=r.getDerivedStateFromProps;(v=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(i!==m||g!==l)&&du(t,h,s,l),Yt=!1,g=t.memoizedState,h.state=g,Ti(t,s,h,n);var S=t.memoizedState;i!==m||g!==S||Ve.current||Yt?(typeof b=="function"&&(Ha(t,r,b,s),S=t.memoizedState),(p=Yt||uu(t,r,p,s,g,S,l)||!1)?(v||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(s,S,l),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(s,S,l)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=S),h.props=s,h.state=S,h.context=l,s=p):(typeof h.componentDidUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),s=!1)}return Wa(e,t,r,s,o,n)}function Wa(e,t,r,s,n,o){lf(e,t);var h=(t.flags&128)!==0;if(!s&&!h)return n&&ru(t,r,!1),Ft(e,t,o);s=t.stateNode,Ag.current=t;var i=h&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&h?(t.child=fs(t,e.child,null,o),t.child=fs(t,null,i,o)):Fe(e,t,i,o),t.memoizedState=s.state,n&&ru(t,r,!0),t.child}function cf(e){var t=e.stateNode;t.pendingContext?tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tu(e,t.context,!1),Ul(e,t.containerInfo)}function _u(e,t,r,s,n){return hs(),Ol(n),t.flags|=256,Fe(e,t,r,s),t.child}var Va={dehydrated:null,treeContext:null,retryLane:0};function Ka(e){return{baseLanes:e,cachePool:null,transitions:null}}function uf(e,t,r){var s=t.pendingProps,n=ve.current,o=!1,h=(t.flags&128)!==0,i;if((i=h)||(i=e!==null&&e.memoizedState===null?!1:(n&2)!==0),i?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),le(ve,n&1),e===null)return Ia(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=s.children,e=s.fallback,o?(s=t.mode,o=t.child,h={mode:"hidden",children:h},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=h):o=so(h,s,0,null),e=kr(e,s,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Ka(r),t.memoizedState=Va,e):Xl(t,h));if(n=e.memoizedState,n!==null&&(i=n.dehydrated,i!==null))return Pg(e,t,h,s,i,n,r);if(o){o=s.fallback,h=t.mode,n=e.child,i=n.sibling;var l={mode:"hidden",children:s.children};return!(h&1)&&t.child!==n?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=dr(n,l),s.subtreeFlags=n.subtreeFlags&14680064),i!==null?o=dr(i,o):(o=kr(o,h,r,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,h=e.child.memoizedState,h=h===null?Ka(r):{baseLanes:h.baseLanes|r,cachePool:null,transitions:h.transitions},o.memoizedState=h,o.childLanes=e.childLanes&~r,t.memoizedState=Va,s}return o=e.child,e=o.sibling,s=dr(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Xl(e,t){return t=so({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Kn(e,t,r,s){return s!==null&&Ol(s),fs(t,e.child,null,r),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Pg(e,t,r,s,n,o,h){if(r)return t.flags&256?(t.flags&=-257,s=Vo(Error(X(422))),Kn(e,t,h,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,n=t.mode,s=so({mode:"visible",children:s.children},n,0,null),o=kr(o,n,h,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&fs(t,e.child,null,h),t.child.memoizedState=Ka(h),t.memoizedState=Va,o);if(!(t.mode&1))return Kn(e,t,h,null);if(n.data==="$!"){if(s=n.nextSibling&&n.nextSibling.dataset,s)var i=s.dgst;return s=i,o=Error(X(419)),s=Vo(o,s,void 0),Kn(e,t,h,s)}if(i=(h&e.childLanes)!==0,We||i){if(s=Re,s!==null){switch(h&-h){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(s.suspendedLanes|h)?0:n,n!==0&&n!==o.retryLane&&(o.retryLane=n,It(e,n),gt(s,e,n,-1))}return tc(),s=Vo(Error(X(421))),Kn(e,t,h,s)}return n.data==="$?"?(t.flags|=128,t.child=e.child,t=Kg.bind(null,e),n._reactRetry=t,null):(e=o.treeContext,Ye=ar(n.nextSibling),Ze=t,fe=!0,mt=null,e!==null&&(it[ot++]=At,it[ot++]=Pt,it[ot++]=Nr,At=e.id,Pt=e.overflow,Nr=t),t=Xl(t,s.children),t.flags|=4096,t)}function yu(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Fa(e.return,t,r)}function Ko(e,t,r,s,n){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:n}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=r,o.tailMode=n)}function df(e,t,r){var s=t.pendingProps,n=s.revealOrder,o=s.tail;if(Fe(e,t,s.children,r),s=ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yu(e,r,t);else if(e.tag===19)yu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(le(ve,s),!(t.mode&1))t.memoizedState=null;else switch(n){case"forwards":for(r=t.child,n=null;r!==null;)e=r.alternate,e!==null&&Oi(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=t.child,t.child=null):(n=r.sibling,r.sibling=null),Ko(t,!1,n,r,o);break;case"backwards":for(r=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Oi(e)===null){t.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}Ko(t,!0,r,null,o);break;case"together":Ko(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ft(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(X(153));if(t.child!==null){for(e=t.child,r=dr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Tg(e,t,r){switch(t.tag){case 3:cf(t),hs();break;case 5:Mh(t);break;case 1:Ke(t.type)&&Ni(t);break;case 4:Ul(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,n=t.memoizedProps.value;le(Ai,s._currentValue),s._currentValue=n;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(le(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?uf(e,t,r):(le(ve,ve.current&1),e=Ft(e,t,r),e!==null?e.sibling:null);le(ve,ve.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return df(e,t,r);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),le(ve,ve.current),s)break;return null;case 22:case 23:return t.lanes=0,af(e,t,r)}return Ft(e,t,r)}var hf,qa,ff,pf;hf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qa=function(){};ff=function(e,t,r,s){var n=e.memoizedProps;if(n!==s){e=t.stateNode,br(jt.current);var o=null;switch(r){case"input":n=ma(e,n),s=ma(e,s),o=[];break;case"select":n=_e({},n,{value:void 0}),s=_e({},s,{value:void 0}),o=[];break;case"textarea":n=_a(e,n),s=_a(e,s),o=[];break;default:typeof n.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Ri)}xa(r,s);var h;r=null;for(p in n)if(!s.hasOwnProperty(p)&&n.hasOwnProperty(p)&&n[p]!=null)if(p==="style"){var i=n[p];for(h in i)i.hasOwnProperty(h)&&(r||(r={}),r[h]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(tn.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in s){var l=s[p];if(i=n!=null?n[p]:void 0,s.hasOwnProperty(p)&&l!==i&&(l!=null||i!=null))if(p==="style")if(i){for(h in i)!i.hasOwnProperty(h)||l&&l.hasOwnProperty(h)||(r||(r={}),r[h]="");for(h in l)l.hasOwnProperty(h)&&i[h]!==l[h]&&(r||(r={}),r[h]=l[h])}else r||(o||(o=[]),o.push(p,r)),r=l;else p==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,i=i?i.__html:void 0,l!=null&&i!==l&&(o=o||[]).push(p,l)):p==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(p,""+l):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(tn.hasOwnProperty(p)?(l!=null&&p==="onScroll"&&de("scroll",e),o||i===l||(o=[])):(o=o||[]).push(p,l))}r&&(o=o||[]).push("style",r);var p=o;(t.updateQueue=p)&&(t.flags|=4)}};pf=function(e,t,r,s){r!==s&&(t.flags|=4)};function Bs(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags&14680064,s|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Og(e,t,r){var s=t.pendingProps;switch(Tl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ke(t.type)&&ji(),Te(t),null;case 3:return s=t.stateNode,ps(),he(Ve),he(Be),$l(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Wn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mt!==null&&(tl(mt),mt=null))),qa(e,t),Te(t),null;case 5:zl(t);var n=br(pn.current);if(r=t.type,e!==null&&t.stateNode!=null)ff(e,t,r,s,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(X(166));return Te(t),null}if(e=br(jt.current),Wn(t)){s=t.stateNode,r=t.type;var o=t.memoizedProps;switch(s[Et]=t,s[hn]=o,e=(t.mode&1)!==0,r){case"dialog":de("cancel",s),de("close",s);break;case"iframe":case"object":case"embed":de("load",s);break;case"video":case"audio":for(n=0;n<Vs.length;n++)de(Vs[n],s);break;case"source":de("error",s);break;case"img":case"image":case"link":de("error",s),de("load",s);break;case"details":de("toggle",s);break;case"input":jc(s,o),de("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},de("invalid",s);break;case"textarea":Lc(s,o),de("invalid",s)}xa(r,o),n=null;for(var h in o)if(o.hasOwnProperty(h)){var i=o[h];h==="children"?typeof i=="string"?s.textContent!==i&&(o.suppressHydrationWarning!==!0&&$n(s.textContent,i,e),n=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(o.suppressHydrationWarning!==!0&&$n(s.textContent,i,e),n=["children",""+i]):tn.hasOwnProperty(h)&&i!=null&&h==="onScroll"&&de("scroll",s)}switch(r){case"input":On(s),Nc(s,o,!0);break;case"textarea":On(s),Dc(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=Ri)}s=n,t.updateQueue=s,s!==null&&(t.flags|=4)}else{h=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ud(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=h.createElement(r,{is:s.is}):(e=h.createElement(r),r==="select"&&(h=e,s.multiple?h.multiple=!0:s.size&&(h.size=s.size))):e=h.createElementNS(e,r),e[Et]=t,e[hn]=s,hf(e,t,!1,!1),t.stateNode=e;e:{switch(h=Sa(r,s),r){case"dialog":de("cancel",e),de("close",e),n=s;break;case"iframe":case"object":case"embed":de("load",e),n=s;break;case"video":case"audio":for(n=0;n<Vs.length;n++)de(Vs[n],e);n=s;break;case"source":de("error",e),n=s;break;case"img":case"image":case"link":de("error",e),de("load",e),n=s;break;case"details":de("toggle",e),n=s;break;case"input":jc(e,s),n=ma(e,s),de("invalid",e);break;case"option":n=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},n=_e({},s,{value:void 0}),de("invalid",e);break;case"textarea":Lc(e,s),n=_a(e,s),de("invalid",e);break;default:n=s}xa(r,n),i=n;for(o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="style"?Wd(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zd(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&rn(e,l):typeof l=="number"&&rn(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(tn.hasOwnProperty(o)?l!=null&&o==="onScroll"&&de("scroll",e):l!=null&&yl(e,o,l,h))}switch(r){case"input":On(e),Nc(e,s,!1);break;case"textarea":On(e),Dc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+fr(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?ts(e,!!s.multiple,o,!1):s.defaultValue!=null&&ts(e,!!s.multiple,s.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=Ri)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)pf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(X(166));if(r=br(pn.current),br(jt.current),Wn(t)){if(s=t.stateNode,r=t.memoizedProps,s[Et]=t,(o=s.nodeValue!==r)&&(e=Ze,e!==null))switch(e.tag){case 3:$n(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$n(s.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Et]=t,t.stateNode=s}return Te(t),null;case 13:if(he(ve),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&Ye!==null&&t.mode&1&&!(t.flags&128))Dh(),hs(),t.flags|=98560,o=!1;else if(o=Wn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(X(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(X(317));o[Et]=t}else hs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),o=!1}else mt!==null&&(tl(mt),mt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ee===0&&(Ee=3):tc())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return ps(),qa(e,t),e===null&&un(t.stateNode.containerInfo),Te(t),null;case 10:return Il(t.type._context),Te(t),null;case 17:return Ke(t.type)&&ji(),Te(t),null;case 19:if(he(ve),o=t.memoizedState,o===null)return Te(t),null;if(s=(t.flags&128)!==0,h=o.rendering,h===null)if(s)Bs(o,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Oi(e),h!==null){for(t.flags|=128,Bs(o,!1),s=h.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)o=r,e=s,o.flags&=14680066,h=o.alternate,h===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,e=h.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return le(ve,ve.current&1|2),t.child}e=e.sibling}o.tail!==null&&Se()>vs&&(t.flags|=128,s=!0,Bs(o,!1),t.lanes=4194304)}else{if(!s)if(e=Oi(h),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!fe)return Te(t),null}else 2*Se()-o.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,s=!0,Bs(o,!1),t.lanes=4194304);o.isBackwards?(h.sibling=t.child,t.child=h):(r=o.last,r!==null?r.sibling=h:t.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Se(),t.sibling=null,r=ve.current,le(ve,s?r&1|2:r&1),t):(Te(t),null);case 22:case 23:return ec(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Qe&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(X(156,t.tag))}function Mg(e,t){switch(Tl(t),t.tag){case 1:return Ke(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ps(),he(Ve),he(Be),$l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zl(t),null;case 13:if(he(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(X(340));hs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ve),null;case 4:return ps(),null;case 10:return Il(t.type._context),null;case 22:case 23:return ec(),null;case 24:return null;default:return null}}var qn=!1,Oe=!1,Bg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ye(e,t,s)}else r.current=null}function Ga(e,t,r){try{r()}catch(s){ye(e,t,s)}}var xu=!1;function Ig(e,t){if(Da=Ci,e=_h(),Al(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var n=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var h=0,i=-1,l=-1,p=0,v=0,m=e,g=null;t:for(;;){for(var b;m!==r||n!==0&&m.nodeType!==3||(i=h+n),m!==o||s!==0&&m.nodeType!==3||(l=h+s),m.nodeType===3&&(h+=m.nodeValue.length),(b=m.firstChild)!==null;)g=m,m=b;for(;;){if(m===e)break t;if(g===r&&++p===n&&(i=h),g===o&&++v===s&&(l=h),(b=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=b}r=i===-1||l===-1?null:{start:i,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Aa={focusedElem:e,selectionRange:r},Ci=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,a=S.memoizedState,u=t.stateNode,c=u.getSnapshotBeforeUpdate(t.elementType===t.type?y:ft(t.type,y),a);u.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(_){ye(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return S=xu,xu=!1,S}function Ys(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&e)===e){var o=n.destroy;n.destroy=void 0,o!==void 0&&Ga(t,r,o)}n=n.next}while(n!==s)}}function to(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function Xa(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function mf(e){var t=e.alternate;t!==null&&(e.alternate=null,mf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[hn],delete t[Oa],delete t[xg],delete t[Sg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vf(e){return e.tag===5||e.tag===3||e.tag===4}function Su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ja(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ri));else if(s!==4&&(e=e.child,e!==null))for(Ja(e,t,r),e=e.sibling;e!==null;)Ja(e,t,r),e=e.sibling}function Qa(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Qa(e,t,r),e=e.sibling;e!==null;)Qa(e,t,r),e=e.sibling}var Ne=null,pt=!1;function qt(e,t,r){for(r=r.child;r!==null;)gf(e,t,r),r=r.sibling}function gf(e,t,r){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:Oe||Zr(r,t);case 6:var s=Ne,n=pt;Ne=null,qt(e,t,r),Ne=s,pt=n,Ne!==null&&(pt?(e=Ne,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ne.removeChild(r.stateNode));break;case 18:Ne!==null&&(pt?(e=Ne,r=r.stateNode,e.nodeType===8?Fo(e.parentNode,r):e.nodeType===1&&Fo(e,r),an(e)):Fo(Ne,r.stateNode));break;case 4:s=Ne,n=pt,Ne=r.stateNode.containerInfo,pt=!0,qt(e,t,r),Ne=s,pt=n;break;case 0:case 11:case 14:case 15:if(!Oe&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){n=s=s.next;do{var o=n,h=o.destroy;o=o.tag,h!==void 0&&(o&2||o&4)&&Ga(r,t,h),n=n.next}while(n!==s)}qt(e,t,r);break;case 1:if(!Oe&&(Zr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(i){ye(r,t,i)}qt(e,t,r);break;case 21:qt(e,t,r);break;case 22:r.mode&1?(Oe=(s=Oe)||r.memoizedState!==null,qt(e,t,r),Oe=s):qt(e,t,r);break;default:qt(e,t,r)}}function wu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Bg),t.forEach(function(s){var n=qg.bind(null,e,s);r.has(s)||(r.add(s),s.then(n,n))})}}function ht(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var n=r[s];try{var o=e,h=t,i=h;e:for(;i!==null;){switch(i.tag){case 5:Ne=i.stateNode,pt=!1;break e;case 3:Ne=i.stateNode.containerInfo,pt=!0;break e;case 4:Ne=i.stateNode.containerInfo,pt=!0;break e}i=i.return}if(Ne===null)throw Error(X(160));gf(o,h,n),Ne=null,pt=!1;var l=n.alternate;l!==null&&(l.return=null),n.return=null}catch(p){ye(n,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_f(t,e),t=t.sibling}function _f(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ht(t,e),wt(e),s&4){try{Ys(3,e,e.return),to(3,e)}catch(y){ye(e,e.return,y)}try{Ys(5,e,e.return)}catch(y){ye(e,e.return,y)}}break;case 1:ht(t,e),wt(e),s&512&&r!==null&&Zr(r,r.return);break;case 5:if(ht(t,e),wt(e),s&512&&r!==null&&Zr(r,r.return),e.flags&32){var n=e.stateNode;try{rn(n,"")}catch(y){ye(e,e.return,y)}}if(s&4&&(n=e.stateNode,n!=null)){var o=e.memoizedProps,h=r!==null?r.memoizedProps:o,i=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{i==="input"&&o.type==="radio"&&o.name!=null&&Fd(n,o),Sa(i,h);var p=Sa(i,o);for(h=0;h<l.length;h+=2){var v=l[h],m=l[h+1];v==="style"?Wd(n,m):v==="dangerouslySetInnerHTML"?zd(n,m):v==="children"?rn(n,m):yl(n,v,m,p)}switch(i){case"input":va(n,o);break;case"textarea":Hd(n,o);break;case"select":var g=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?ts(n,!!o.multiple,b,!1):g!==!!o.multiple&&(o.defaultValue!=null?ts(n,!!o.multiple,o.defaultValue,!0):ts(n,!!o.multiple,o.multiple?[]:"",!1))}n[hn]=o}catch(y){ye(e,e.return,y)}}break;case 6:if(ht(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(X(162));n=e.stateNode,o=e.memoizedProps;try{n.nodeValue=o}catch(y){ye(e,e.return,y)}}break;case 3:if(ht(t,e),wt(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{an(t.containerInfo)}catch(y){ye(e,e.return,y)}break;case 4:ht(t,e),wt(e);break;case 13:ht(t,e),wt(e),n=e.child,n.flags&8192&&(o=n.memoizedState!==null,n.stateNode.isHidden=o,!o||n.alternate!==null&&n.alternate.memoizedState!==null||(Yl=Se())),s&4&&wu(e);break;case 22:if(v=r!==null&&r.memoizedState!==null,e.mode&1?(Oe=(p=Oe)||v,ht(t,e),Oe=p):ht(t,e),wt(e),s&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!v&&e.mode&1)for(Z=e,v=e.child;v!==null;){for(m=Z=v;Z!==null;){switch(g=Z,b=g.child,g.tag){case 0:case 11:case 14:case 15:Ys(4,g,g.return);break;case 1:Zr(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){s=g,r=g.return;try{t=s,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(y){ye(s,r,y)}}break;case 5:Zr(g,g.return);break;case 22:if(g.memoizedState!==null){Cu(m);continue}}b!==null?(b.return=g,Z=b):Cu(m)}v=v.sibling}e:for(v=null,m=e;;){if(m.tag===5){if(v===null){v=m;try{n=m.stateNode,p?(o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(i=m.stateNode,l=m.memoizedProps.style,h=l!=null&&l.hasOwnProperty("display")?l.display:null,i.style.display=$d("display",h))}catch(y){ye(e,e.return,y)}}}else if(m.tag===6){if(v===null)try{m.stateNode.nodeValue=p?"":m.memoizedProps}catch(y){ye(e,e.return,y)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;v===m&&(v=null),m=m.return}v===m&&(v=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ht(t,e),wt(e),s&4&&wu(e);break;case 21:break;default:ht(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(vf(r)){var s=r;break e}r=r.return}throw Error(X(160))}switch(s.tag){case 5:var n=s.stateNode;s.flags&32&&(rn(n,""),s.flags&=-33);var o=Su(e);Qa(e,o,n);break;case 3:case 4:var h=s.stateNode.containerInfo,i=Su(e);Ja(e,i,h);break;default:throw Error(X(161))}}catch(l){ye(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fg(e,t,r){Z=e,yf(e)}function yf(e,t,r){for(var s=(e.mode&1)!==0;Z!==null;){var n=Z,o=n.child;if(n.tag===22&&s){var h=n.memoizedState!==null||qn;if(!h){var i=n.alternate,l=i!==null&&i.memoizedState!==null||Oe;i=qn;var p=Oe;if(qn=h,(Oe=l)&&!p)for(Z=n;Z!==null;)h=Z,l=h.child,h.tag===22&&h.memoizedState!==null?Eu(n):l!==null?(l.return=h,Z=l):Eu(n);for(;o!==null;)Z=o,yf(o),o=o.sibling;Z=n,qn=i,Oe=p}bu(e)}else n.subtreeFlags&8772&&o!==null?(o.return=n,Z=o):bu(e)}}function bu(e){for(;Z!==null;){var t=Z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||to(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Oe)if(r===null)s.componentDidMount();else{var n=t.elementType===t.type?r.memoizedProps:ft(t.type,r.memoizedProps);s.componentDidUpdate(n,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&au(t,o,s);break;case 3:var h=t.updateQueue;if(h!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}au(t,h,r)}break;case 5:var i=t.stateNode;if(r===null&&t.flags&4){r=i;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var v=p.memoizedState;if(v!==null){var m=v.dehydrated;m!==null&&an(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}Oe||t.flags&512&&Xa(t)}catch(g){ye(t,t.return,g)}}if(t===e){Z=null;break}if(r=t.sibling,r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Cu(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Z=r;break}Z=t.return}}function Eu(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{to(4,t)}catch(l){ye(t,r,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var n=t.return;try{s.componentDidMount()}catch(l){ye(t,n,l)}}var o=t.return;try{Xa(t)}catch(l){ye(t,o,l)}break;case 5:var h=t.return;try{Xa(t)}catch(l){ye(t,h,l)}}}catch(l){ye(t,t.return,l)}if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}var Hg=Math.ceil,Ii=Ht.ReactCurrentDispatcher,Jl=Ht.ReactCurrentOwner,ct=Ht.ReactCurrentBatchConfig,ie=0,Re=null,be=null,Le=0,Qe=0,es=vr(0),Ee=0,_n=null,Dr=0,ro=0,Ql=0,Zs=null,$e=null,Yl=0,vs=1/0,Lt=null,Fi=!1,Ya=null,cr=null,Gn=!1,rr=null,Hi=0,en=0,Za=null,di=-1,hi=0;function He(){return ie&6?Se():di!==-1?di:di=Se()}function ur(e){return e.mode&1?ie&2&&Le!==0?Le&-Le:bg.transition!==null?(hi===0&&(hi=rh()),hi):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ch(e.type)),e):1}function gt(e,t,r,s){if(50<en)throw en=0,Za=null,Error(X(185));Cn(e,r,s),(!(ie&2)||e!==Re)&&(e===Re&&(!(ie&2)&&(ro|=r),Ee===4&&er(e,Le)),qe(e,s),r===1&&ie===0&&!(t.mode&1)&&(vs=Se()+500,Yi&&gr()))}function qe(e,t){var r=e.callbackNode;bv(e,t);var s=bi(e,e===Re?Le:0);if(s===0)r!==null&&Tc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&Tc(r),t===1)e.tag===0?wg(ku.bind(null,e)):jh(ku.bind(null,e)),_g(function(){!(ie&6)&&gr()}),r=null;else{switch(sh(s)){case 1:r=Cl;break;case 4:r=eh;break;case 16:r=wi;break;case 536870912:r=th;break;default:r=wi}r=Rf(r,xf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xf(e,t){if(di=-1,hi=0,ie&6)throw Error(X(327));var r=e.callbackNode;if(os()&&e.callbackNode!==r)return null;var s=bi(e,e===Re?Le:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Ui(e,s);else{t=s;var n=ie;ie|=2;var o=wf();(Re!==e||Le!==t)&&(Lt=null,vs=Se()+500,Er(e,t));do try{$g();break}catch(i){Sf(e,i)}while(!0);Bl(),Ii.current=o,ie=n,be!==null?t=0:(Re=null,Le=0,t=Ee)}if(t!==0){if(t===2&&(n=ka(e),n!==0&&(s=n,t=el(e,n))),t===1)throw r=_n,Er(e,0),er(e,s),qe(e,Se()),r;if(t===6)er(e,s);else{if(n=e.current.alternate,!(s&30)&&!Ug(n)&&(t=Ui(e,s),t===2&&(o=ka(e),o!==0&&(s=o,t=el(e,o))),t===1))throw r=_n,Er(e,0),er(e,s),qe(e,Se()),r;switch(e.finishedWork=n,e.finishedLanes=s,t){case 0:case 1:throw Error(X(345));case 2:xr(e,$e,Lt);break;case 3:if(er(e,s),(s&130023424)===s&&(t=Yl+500-Se(),10<t)){if(bi(e,0)!==0)break;if(n=e.suspendedLanes,(n&s)!==s){He(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Ta(xr.bind(null,e,$e,Lt),t);break}xr(e,$e,Lt);break;case 4:if(er(e,s),(s&4194240)===s)break;for(t=e.eventTimes,n=-1;0<s;){var h=31-vt(s);o=1<<h,h=t[h],h>n&&(n=h),s&=~o}if(s=n,s=Se()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Hg(s/1960))-s,10<s){e.timeoutHandle=Ta(xr.bind(null,e,$e,Lt),s);break}xr(e,$e,Lt);break;case 5:xr(e,$e,Lt);break;default:throw Error(X(329))}}}return qe(e,Se()),e.callbackNode===r?xf.bind(null,e):null}function el(e,t){var r=Zs;return e.current.memoizedState.isDehydrated&&(Er(e,t).flags|=256),e=Ui(e,t),e!==2&&(t=$e,$e=r,t!==null&&tl(t)),e}function tl(e){$e===null?$e=e:$e.push.apply($e,e)}function Ug(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var n=r[s],o=n.getSnapshot;n=n.value;try{if(!_t(o(),n))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function er(e,t){for(t&=~Ql,t&=~ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-vt(t),s=1<<r;e[r]=-1,t&=~s}}function ku(e){if(ie&6)throw Error(X(327));os();var t=bi(e,0);if(!(t&1))return qe(e,Se()),null;var r=Ui(e,t);if(e.tag!==0&&r===2){var s=ka(e);s!==0&&(t=s,r=el(e,s))}if(r===1)throw r=_n,Er(e,0),er(e,t),qe(e,Se()),r;if(r===6)throw Error(X(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,$e,Lt),qe(e,Se()),null}function Zl(e,t){var r=ie;ie|=1;try{return e(t)}finally{ie=r,ie===0&&(vs=Se()+500,Yi&&gr())}}function Ar(e){rr!==null&&rr.tag===0&&!(ie&6)&&os();var t=ie;ie|=1;var r=ct.transition,s=ae;try{if(ct.transition=null,ae=1,e)return e()}finally{ae=s,ct.transition=r,ie=t,!(ie&6)&&gr()}}function ec(){Qe=es.current,he(es)}function Er(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,gg(r)),be!==null)for(r=be.return;r!==null;){var s=r;switch(Tl(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ji();break;case 3:ps(),he(Ve),he(Be),$l();break;case 5:zl(s);break;case 4:ps();break;case 13:he(ve);break;case 19:he(ve);break;case 10:Il(s.type._context);break;case 22:case 23:ec()}r=r.return}if(Re=e,be=e=dr(e.current,null),Le=Qe=t,Ee=0,_n=null,Ql=ro=Dr=0,$e=Zs=null,wr!==null){for(t=0;t<wr.length;t++)if(r=wr[t],s=r.interleaved,s!==null){r.interleaved=null;var n=s.next,o=r.pending;if(o!==null){var h=o.next;o.next=n,s.next=h}r.pending=s}wr=null}return e}function Sf(e,t){do{var r=be;try{if(Bl(),li.current=Bi,Mi){for(var s=ge.memoizedState;s!==null;){var n=s.queue;n!==null&&(n.pending=null),s=s.next}Mi=!1}if(Lr=0,ke=Ce=ge=null,Qs=!1,mn=0,Jl.current=null,r===null||r.return===null){Ee=1,_n=t,be=null;break}e:{var o=e,h=r.return,i=r,l=t;if(t=Le,i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var p=l,v=i,m=v.tag;if(!(v.mode&1)&&(m===0||m===11||m===15)){var g=v.alternate;g?(v.updateQueue=g.updateQueue,v.memoizedState=g.memoizedState,v.lanes=g.lanes):(v.updateQueue=null,v.memoizedState=null)}var b=fu(h);if(b!==null){b.flags&=-257,pu(b,h,i,o,t),b.mode&1&&hu(o,p,t),t=b,l=p;var S=t.updateQueue;if(S===null){var y=new Set;y.add(l),t.updateQueue=y}else S.add(l);break e}else{if(!(t&1)){hu(o,p,t),tc();break e}l=Error(X(426))}}else if(fe&&i.mode&1){var a=fu(h);if(a!==null){!(a.flags&65536)&&(a.flags|=256),pu(a,h,i,o,t),Ol(ms(l,i));break e}}o=l=ms(l,i),Ee!==4&&(Ee=2),Zs===null?Zs=[o]:Zs.push(o),o=h;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var u=sf(o,l,t);ou(o,u);break e;case 1:i=l;var c=o.type,f=o.stateNode;if(!(o.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=nf(o,i,t);ou(o,_);break e}}o=o.return}while(o!==null)}Cf(r)}catch(w){t=w,be===r&&r!==null&&(be=r=r.return);continue}break}while(!0)}function wf(){var e=Ii.current;return Ii.current=Bi,e===null?Bi:e}function tc(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Re===null||!(Dr&268435455)&&!(ro&268435455)||er(Re,Le)}function Ui(e,t){var r=ie;ie|=2;var s=wf();(Re!==e||Le!==t)&&(Lt=null,Er(e,t));do try{zg();break}catch(n){Sf(e,n)}while(!0);if(Bl(),ie=r,Ii.current=s,be!==null)throw Error(X(261));return Re=null,Le=0,Ee}function zg(){for(;be!==null;)bf(be)}function $g(){for(;be!==null&&!pv();)bf(be)}function bf(e){var t=kf(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Cf(e):be=t,Jl.current=null}function Cf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Mg(r,t),r!==null){r.flags&=32767,be=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,be=null;return}}else if(r=Og(r,t,Qe),r!==null){be=r;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Ee===0&&(Ee=5)}function xr(e,t,r){var s=ae,n=ct.transition;try{ct.transition=null,ae=1,Wg(e,t,r,s)}finally{ct.transition=n,ae=s}return null}function Wg(e,t,r,s){do os();while(rr!==null);if(ie&6)throw Error(X(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(X(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Cv(e,o),e===Re&&(be=Re=null,Le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gn||(Gn=!0,Rf(wi,function(){return os(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ct.transition,ct.transition=null;var h=ae;ae=1;var i=ie;ie|=4,Jl.current=null,Ig(e,r),_f(r,e),ug(Aa),Ci=!!Da,Aa=Da=null,e.current=r,Fg(r),mv(),ie=i,ae=h,ct.transition=o}else e.current=r;if(Gn&&(Gn=!1,rr=e,Hi=n),o=e.pendingLanes,o===0&&(cr=null),_v(r.stateNode),qe(e,Se()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)n=t[r],s(n.value,{componentStack:n.stack,digest:n.digest});if(Fi)throw Fi=!1,e=Ya,Ya=null,e;return Hi&1&&e.tag!==0&&os(),o=e.pendingLanes,o&1?e===Za?en++:(en=0,Za=e):en=0,gr(),null}function os(){if(rr!==null){var e=sh(Hi),t=ct.transition,r=ae;try{if(ct.transition=null,ae=16>e?16:e,rr===null)var s=!1;else{if(e=rr,rr=null,Hi=0,ie&6)throw Error(X(331));var n=ie;for(ie|=4,Z=e.current;Z!==null;){var o=Z,h=o.child;if(Z.flags&16){var i=o.deletions;if(i!==null){for(var l=0;l<i.length;l++){var p=i[l];for(Z=p;Z!==null;){var v=Z;switch(v.tag){case 0:case 11:case 15:Ys(8,v,o)}var m=v.child;if(m!==null)m.return=v,Z=m;else for(;Z!==null;){v=Z;var g=v.sibling,b=v.return;if(mf(v),v===p){Z=null;break}if(g!==null){g.return=b,Z=g;break}Z=b}}}var S=o.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var a=y.sibling;y.sibling=null,y=a}while(y!==null)}}Z=o}}if(o.subtreeFlags&2064&&h!==null)h.return=o,Z=h;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ys(9,o,o.return)}var u=o.sibling;if(u!==null){u.return=o.return,Z=u;break e}Z=o.return}}var c=e.current;for(Z=c;Z!==null;){h=Z;var f=h.child;if(h.subtreeFlags&2064&&f!==null)f.return=h,Z=f;else e:for(h=c;Z!==null;){if(i=Z,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:to(9,i)}}catch(w){ye(i,i.return,w)}if(i===h){Z=null;break e}var _=i.sibling;if(_!==null){_.return=i.return,Z=_;break e}Z=i.return}}if(ie=n,gr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(qi,e)}catch{}s=!0}return s}finally{ae=r,ct.transition=t}}return!1}function Ru(e,t,r){t=ms(r,t),t=sf(e,t,1),e=lr(e,t,1),t=He(),e!==null&&(Cn(e,1,t),qe(e,t))}function ye(e,t,r){if(e.tag===3)Ru(e,e,r);else for(;t!==null;){if(t.tag===3){Ru(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(cr===null||!cr.has(s))){e=ms(r,e),e=nf(t,e,1),t=lr(t,e,1),e=He(),t!==null&&(Cn(t,1,e),qe(t,e));break}}t=t.return}}function Vg(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&r,Re===e&&(Le&r)===r&&(Ee===4||Ee===3&&(Le&130023424)===Le&&500>Se()-Yl?Er(e,0):Ql|=r),qe(e,t)}function Ef(e,t){t===0&&(e.mode&1?(t=In,In<<=1,!(In&130023424)&&(In=4194304)):t=1);var r=He();e=It(e,t),e!==null&&(Cn(e,t,r),qe(e,r))}function Kg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ef(e,r)}function qg(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(X(314))}s!==null&&s.delete(t),Ef(e,r)}var kf;kf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)We=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return We=!1,Tg(e,t,r);We=!!(e.flags&131072)}else We=!1,fe&&t.flags&1048576&&Nh(t,Di,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;ui(e,t),e=t.pendingProps;var n=ds(t,Be.current);is(t,r),n=Vl(null,t,s,e,n,r);var o=Kl();return t.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(s)?(o=!0,Ni(t)):o=!1,t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Hl(t),n.updater=eo,t.stateNode=n,n._reactInternals=t,Ua(t,s,e,r),t=Wa(null,t,s,!0,o,r)):(t.tag=0,fe&&o&&Pl(t),Fe(null,t,n,r),t=t.child),t;case 16:s=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,n=s._init,s=n(s._payload),t.type=s,n=t.tag=Xg(s),e=ft(s,e),n){case 0:t=$a(null,t,s,e,r);break e;case 1:t=gu(null,t,s,e,r);break e;case 11:t=mu(null,t,s,e,r);break e;case 14:t=vu(null,t,s,ft(s.type,e),r);break e}throw Error(X(306,s,""))}return t;case 0:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:ft(s,n),$a(e,t,s,n,r);case 1:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:ft(s,n),gu(e,t,s,n,r);case 3:e:{if(cf(t),e===null)throw Error(X(387));s=t.pendingProps,o=t.memoizedState,n=o.element,Oh(e,t),Ti(t,s,null,r);var h=t.memoizedState;if(s=h.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){n=ms(Error(X(423)),t),t=_u(e,t,s,r,n);break e}else if(s!==n){n=ms(Error(X(424)),t),t=_u(e,t,s,r,n);break e}else for(Ye=ar(t.stateNode.containerInfo.firstChild),Ze=t,fe=!0,mt=null,r=Ph(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(hs(),s===n){t=Ft(e,t,r);break e}Fe(e,t,s,r)}t=t.child}return t;case 5:return Mh(t),e===null&&Ia(t),s=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,h=n.children,Pa(s,n)?h=null:o!==null&&Pa(s,o)&&(t.flags|=32),lf(e,t),Fe(e,t,h,r),t.child;case 6:return e===null&&Ia(t),null;case 13:return uf(e,t,r);case 4:return Ul(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=fs(t,null,s,r):Fe(e,t,s,r),t.child;case 11:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:ft(s,n),mu(e,t,s,n,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,n=t.pendingProps,o=t.memoizedProps,h=n.value,le(Ai,s._currentValue),s._currentValue=h,o!==null)if(_t(o.value,h)){if(o.children===n.children&&!Ve.current){t=Ft(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var i=o.dependencies;if(i!==null){h=o.child;for(var l=i.firstContext;l!==null;){if(l.context===s){if(o.tag===1){l=Tt(-1,r&-r),l.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var v=p.pending;v===null?l.next=l:(l.next=v.next,v.next=l),p.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fa(o.return,r,t),i.lanes|=r;break}l=l.next}}else if(o.tag===10)h=o.type===t.type?null:o.child;else if(o.tag===18){if(h=o.return,h===null)throw Error(X(341));h.lanes|=r,i=h.alternate,i!==null&&(i.lanes|=r),Fa(h,r,t),h=o.sibling}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===t){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}Fe(e,t,n.children,r),t=t.child}return t;case 9:return n=t.type,s=t.pendingProps.children,is(t,r),n=ut(n),s=s(n),t.flags|=1,Fe(e,t,s,r),t.child;case 14:return s=t.type,n=ft(s,t.pendingProps),n=ft(s.type,n),vu(e,t,s,n,r);case 15:return of(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,n=t.pendingProps,n=t.elementType===s?n:ft(s,n),ui(e,t),t.tag=1,Ke(s)?(e=!0,Ni(t)):e=!1,is(t,r),rf(t,s,n),Ua(t,s,n,r),Wa(null,t,s,!0,e,r);case 19:return df(e,t,r);case 22:return af(e,t,r)}throw Error(X(156,t.tag))};function Rf(e,t){return Zd(e,t)}function Gg(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function at(e,t,r,s){return new Gg(e,t,r,s)}function rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xg(e){if(typeof e=="function")return rc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sl)return 11;if(e===wl)return 14}return 2}function dr(e,t){var r=e.alternate;return r===null?(r=at(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function fi(e,t,r,s,n,o){var h=2;if(s=e,typeof e=="function")rc(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Wr:return kr(r.children,n,o,t);case xl:h=8,n|=8;break;case da:return e=at(12,r,t,n|2),e.elementType=da,e.lanes=o,e;case ha:return e=at(13,r,t,n),e.elementType=ha,e.lanes=o,e;case fa:return e=at(19,r,t,n),e.elementType=fa,e.lanes=o,e;case Md:return so(r,n,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Td:h=10;break e;case Od:h=9;break e;case Sl:h=11;break e;case wl:h=14;break e;case Qt:h=16,s=null;break e}throw Error(X(130,e==null?e:typeof e,""))}return t=at(h,r,t,n),t.elementType=e,t.type=s,t.lanes=o,t}function kr(e,t,r,s){return e=at(7,e,s,t),e.lanes=r,e}function so(e,t,r,s){return e=at(22,e,s,t),e.elementType=Md,e.lanes=r,e.stateNode={isHidden:!1},e}function qo(e,t,r){return e=at(6,e,null,t),e.lanes=r,e}function Go(e,t,r){return t=at(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jg(e,t,r,s,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function sc(e,t,r,s,n,o,h,i,l){return e=new Jg(e,t,r,i,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=at(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(o),e}function Qg(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$r,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function jf(e){if(!e)return pr;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(X(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(X(171))}if(e.tag===1){var r=e.type;if(Ke(r))return Rh(e,r,t)}return t}function Nf(e,t,r,s,n,o,h,i,l){return e=sc(r,s,!0,e,n,o,h,i,l),e.context=jf(null),r=e.current,s=He(),n=ur(r),o=Tt(s,n),o.callback=t??null,lr(r,o,n),e.current.lanes=n,Cn(e,n,s),qe(e,s),e}function no(e,t,r,s){var n=t.current,o=He(),h=ur(n);return r=jf(r),t.context===null?t.context=r:t.pendingContext=r,t=Tt(o,h),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=lr(n,t,h),e!==null&&(gt(e,n,h,o),ai(e,n,h)),h}function zi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ju(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function nc(e,t){ju(e,t),(e=e.alternate)&&ju(e,t)}function Yg(){return null}var Lf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ic(e){this._internalRoot=e}io.prototype.render=ic.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(X(409));no(e,t,null,null)};io.prototype.unmount=ic.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ar(function(){no(null,e,null,null)}),t[Bt]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=oh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zt.length&&t!==0&&t<Zt[r].priority;r++);Zt.splice(r,0,e),r===0&&lh(e)}};function oc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nu(){}function Zg(e,t,r,s,n){if(n){if(typeof s=="function"){var o=s;s=function(){var p=zi(h);o.call(p)}}var h=Nf(t,s,e,0,null,!1,!1,"",Nu);return e._reactRootContainer=h,e[Bt]=h.current,un(e.nodeType===8?e.parentNode:e),Ar(),h}for(;n=e.lastChild;)e.removeChild(n);if(typeof s=="function"){var i=s;s=function(){var p=zi(l);i.call(p)}}var l=sc(e,0,!1,null,null,!1,!1,"",Nu);return e._reactRootContainer=l,e[Bt]=l.current,un(e.nodeType===8?e.parentNode:e),Ar(function(){no(t,l,r,s)}),l}function ao(e,t,r,s,n){var o=r._reactRootContainer;if(o){var h=o;if(typeof n=="function"){var i=n;n=function(){var l=zi(h);i.call(l)}}no(t,h,e,n)}else h=Zg(r,t,e,n,s);return zi(h)}nh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ws(t.pendingLanes);r!==0&&(El(t,r|1),qe(t,Se()),!(ie&6)&&(vs=Se()+500,gr()))}break;case 13:Ar(function(){var s=It(e,1);if(s!==null){var n=He();gt(s,e,1,n)}}),nc(e,1)}};kl=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=He();gt(t,e,134217728,r)}nc(e,134217728)}};ih=function(e){if(e.tag===13){var t=ur(e),r=It(e,t);if(r!==null){var s=He();gt(r,e,t,s)}nc(e,t)}};oh=function(){return ae};ah=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};ba=function(e,t,r){switch(t){case"input":if(va(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var n=Qi(s);if(!n)throw Error(X(90));Id(s),va(s,n)}}}break;case"textarea":Hd(e,r);break;case"select":t=r.value,t!=null&&ts(e,!!r.multiple,t,!1)}};qd=Zl;Gd=Ar;var e_={usingClientEntryPoint:!1,Events:[kn,Gr,Qi,Vd,Kd,Zl]},Is={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t_={bundleType:Is.bundleType,version:Is.version,rendererPackageName:Is.rendererPackageName,rendererConfig:Is.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ht.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qd(e),e===null?null:e.stateNode},findFiberByHostInstance:Is.findFiberByHostInstance||Yg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xn.isDisabled&&Xn.supportsFiber)try{qi=Xn.inject(t_),Rt=Xn}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e_;tt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(t))throw Error(X(200));return Qg(e,t,null,r)};tt.createRoot=function(e,t){if(!oc(e))throw Error(X(299));var r=!1,s="",n=Lf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(n=t.onRecoverableError)),t=sc(e,1,!1,null,null,r,!1,s,n),e[Bt]=t.current,un(e.nodeType===8?e.parentNode:e),new ic(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(X(188)):(e=Object.keys(e).join(","),Error(X(268,e)));return e=Qd(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return Ar(e)};tt.hydrate=function(e,t,r){if(!oo(t))throw Error(X(200));return ao(null,e,t,!0,r)};tt.hydrateRoot=function(e,t,r){if(!oc(e))throw Error(X(405));var s=r!=null&&r.hydratedSources||null,n=!1,o="",h=Lf;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),t=Nf(t,null,e,1,r??null,n,!1,o,h),e[Bt]=t.current,un(e),s)for(e=0;e<s.length;e++)r=s[e],n=r._getVersion,n=n(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,n]:t.mutableSourceEagerHydrationData.push(r,n);return new io(t)};tt.render=function(e,t,r){if(!oo(t))throw Error(X(200));return ao(null,e,t,!1,r)};tt.unmountComponentAtNode=function(e){if(!oo(e))throw Error(X(40));return e._reactRootContainer?(Ar(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Bt]=null})}),!0):!1};tt.unstable_batchedUpdates=Zl;tt.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!oo(r))throw Error(X(200));if(e==null||e._reactInternals===void 0)throw Error(X(38));return ao(e,t,r,!1,s)};tt.version="18.3.1-next-f1338f8080-20240426";function Df(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Df)}catch(e){console.error(e)}}Df(),Ld.exports=tt;var ac=Ld.exports;const r_=_d(ac);var Af,Lu=ac;Af=Lu.createRoot,Lu.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yn(){return yn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},yn.apply(this,arguments)}var sr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sr||(sr={}));const Du="popstate";function s_(e){e===void 0&&(e={});function t(s,n){let{pathname:o,search:h,hash:i}=s.location;return rl("",{pathname:o,search:h,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(s,n){return typeof n=="string"?n:$i(n)}return i_(t,r,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function n_(){return Math.random().toString(36).substr(2,8)}function Au(e,t){return{usr:e.state,key:e.key,idx:t}}function rl(e,t,r,s){return r===void 0&&(r=null),yn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ss(t):t,{state:r,key:t&&t.key||s||n_()})}function $i(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Ss(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function i_(e,t,r,s){s===void 0&&(s={});let{window:n=document.defaultView,v5Compat:o=!1}=s,h=n.history,i=sr.Pop,l=null,p=v();p==null&&(p=0,h.replaceState(yn({},h.state,{idx:p}),""));function v(){return(h.state||{idx:null}).idx}function m(){i=sr.Pop;let a=v(),u=a==null?null:a-p;p=a,l&&l({action:i,location:y.location,delta:u})}function g(a,u){i=sr.Push;let c=rl(y.location,a,u);p=v()+1;let f=Au(c,p),_=y.createHref(c);try{h.pushState(f,"",_)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;n.location.assign(_)}o&&l&&l({action:i,location:y.location,delta:1})}function b(a,u){i=sr.Replace;let c=rl(y.location,a,u);p=v();let f=Au(c,p),_=y.createHref(c);h.replaceState(f,"",_),o&&l&&l({action:i,location:y.location,delta:0})}function S(a){let u=n.location.origin!=="null"?n.location.origin:n.location.href,c=typeof a=="string"?a:$i(a);return c=c.replace(/ $/,"%20"),we(u,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,u)}let y={get action(){return i},get location(){return e(n,h)},listen(a){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(Du,m),l=a,()=>{n.removeEventListener(Du,m),l=null}},createHref(a){return t(n,a)},createURL:S,encodeLocation(a){let u=S(a);return{pathname:u.pathname,search:u.search,hash:u.hash}},push:g,replace:b,go(a){return h.go(a)}};return y}var Pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pu||(Pu={}));function o_(e,t,r){return r===void 0&&(r="/"),a_(e,t,r)}function a_(e,t,r,s){let n=typeof t=="string"?Ss(t):t,o=cc(n.pathname||"/",r);if(o==null)return null;let h=Pf(e);l_(h);let i=null;for(let l=0;i==null&&l<h.length;++l){let p=x_(o);i=g_(h[l],p)}return i}function Pf(e,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let n=(o,h,i)=>{let l={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:h,route:o};l.relativePath.startsWith("/")&&(we(l.relativePath.startsWith(s),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(s.length));let p=hr([s,l.relativePath]),v=r.concat(l);o.children&&o.children.length>0&&(we(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Pf(o.children,t,v,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:m_(p,o.index),routesMeta:v})};return e.forEach((o,h)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))n(o,h);else for(let l of Tf(o.path))n(o,h,l)}),t}function Tf(e){let t=e.split("/");if(t.length===0)return[];let[r,...s]=t,n=r.endsWith("?"),o=r.replace(/\?$/,"");if(s.length===0)return n?[o,""]:[o];let h=Tf(s.join("/")),i=[];return i.push(...h.map(l=>l===""?o:[o,l].join("/"))),n&&i.push(...h),i.map(l=>e.startsWith("/")&&l===""?"/":l)}function l_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:v_(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const c_=/^:[\w-]+$/,u_=3,d_=2,h_=1,f_=10,p_=-2,Tu=e=>e==="*";function m_(e,t){let r=e.split("/"),s=r.length;return r.some(Tu)&&(s+=p_),t&&(s+=d_),r.filter(n=>!Tu(n)).reduce((n,o)=>n+(c_.test(o)?u_:o===""?h_:f_),s)}function v_(e,t){return e.length===t.length&&e.slice(0,-1).every((s,n)=>s===t[n])?e[e.length-1]-t[t.length-1]:0}function g_(e,t,r){let{routesMeta:s}=e,n={},o="/",h=[];for(let i=0;i<s.length;++i){let l=s[i],p=i===s.length-1,v=o==="/"?t:t.slice(o.length)||"/",m=__({path:l.relativePath,caseSensitive:l.caseSensitive,end:p},v),g=l.route;if(!m)return null;Object.assign(n,m.params),h.push({params:n,pathname:hr([o,m.pathname]),pathnameBase:E_(hr([o,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(o=hr([o,m.pathnameBase]))}return h}function __(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=y_(e.path,e.caseSensitive,e.end),n=t.match(r);if(!n)return null;let o=n[0],h=o.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:s.reduce((p,v,m)=>{let{paramName:g,isOptional:b}=v;if(g==="*"){let y=i[m]||"";h=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const S=i[m];return b&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:h,pattern:e}}function y_(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),lc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,i,l)=>(s.push({paramName:i,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),s]}function x_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&s!=="/"?null:e.slice(r)||"/"}const S_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w_=e=>S_.test(e);function b_(e,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:n=""}=typeof e=="string"?Ss(e):e,o;if(r)if(w_(r))o=r;else{if(r.includes("//")){let h=r;r=r.replace(/\/\/+/g,"/"),lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+r))}r.startsWith("/")?o=Ou(r.substring(1),"/"):o=Ou(r,t)}else o=t;return{pathname:o,search:k_(s),hash:R_(n)}}function Ou(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Xo(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function C_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uc(e,t){let r=C_(e);return t?r.map((s,n)=>n===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function dc(e,t,r,s){s===void 0&&(s=!1);let n;typeof e=="string"?n=Ss(e):(n=yn({},e),we(!n.pathname||!n.pathname.includes("?"),Xo("?","pathname","search",n)),we(!n.pathname||!n.pathname.includes("#"),Xo("#","pathname","hash",n)),we(!n.search||!n.search.includes("#"),Xo("#","search","hash",n)));let o=e===""||n.pathname==="",h=o?"/":n.pathname,i;if(h==null)i=r;else{let m=t.length-1;if(!s&&h.startsWith("..")){let g=h.split("/");for(;g[0]==="..";)g.shift(),m-=1;n.pathname=g.join("/")}i=m>=0?t[m]:"/"}let l=b_(n,i),p=h&&h!=="/"&&h.endsWith("/"),v=(o||h===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(p||v)&&(l.pathname+="/"),l}const hr=e=>e.join("/").replace(/\/\/+/g,"/"),E_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),k_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Of=["post","put","patch","delete"];new Set(Of);const N_=["get",...Of];new Set(N_);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xn(){return xn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},xn.apply(this,arguments)}const hc=N.createContext(null),L_=N.createContext(null),_r=N.createContext(null),lo=N.createContext(null),Ut=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Mf=N.createContext(null);function D_(e,t){let{relative:r}=t===void 0?{}:t;ws()||we(!1);let{basename:s,navigator:n}=N.useContext(_r),{hash:o,pathname:h,search:i}=Ff(e,{relative:r}),l=h;return s!=="/"&&(l=h==="/"?s:hr([s,h])),n.createHref({pathname:l,search:i,hash:o})}function ws(){return N.useContext(lo)!=null}function bs(){return ws()||we(!1),N.useContext(lo).location}function Bf(e){N.useContext(_r).static||N.useLayoutEffect(e)}function Br(){let{isDataRoute:e}=N.useContext(Ut);return e?W_():A_()}function A_(){ws()||we(!1);let e=N.useContext(hc),{basename:t,future:r,navigator:s}=N.useContext(_r),{matches:n}=N.useContext(Ut),{pathname:o}=bs(),h=JSON.stringify(uc(n,r.v7_relativeSplatPath)),i=N.useRef(!1);return Bf(()=>{i.current=!0}),N.useCallback(function(p,v){if(v===void 0&&(v={}),!i.current)return;if(typeof p=="number"){s.go(p);return}let m=dc(p,JSON.parse(h),o,v.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:hr([t,m.pathname])),(v.replace?s.replace:s.push)(m,v.state,v)},[t,s,h,o,e])}function If(){let{matches:e}=N.useContext(Ut),t=e[e.length-1];return t?t.params:{}}function Ff(e,t){let{relative:r}=t===void 0?{}:t,{future:s}=N.useContext(_r),{matches:n}=N.useContext(Ut),{pathname:o}=bs(),h=JSON.stringify(uc(n,s.v7_relativeSplatPath));return N.useMemo(()=>dc(e,JSON.parse(h),o,r==="path"),[e,h,o,r])}function P_(e,t){return T_(e,t)}function T_(e,t,r,s){ws()||we(!1);let{navigator:n}=N.useContext(_r),{matches:o}=N.useContext(Ut),h=o[o.length-1],i=h?h.params:{};h&&h.pathname;let l=h?h.pathnameBase:"/";h&&h.route;let p=bs(),v;if(t){var m;let a=typeof t=="string"?Ss(t):t;l==="/"||(m=a.pathname)!=null&&m.startsWith(l)||we(!1),v=a}else v=p;let g=v.pathname||"/",b=g;if(l!=="/"){let a=l.replace(/^\//,"").split("/");b="/"+g.replace(/^\//,"").split("/").slice(a.length).join("/")}let S=o_(e,{pathname:b}),y=F_(S&&S.map(a=>Object.assign({},a,{params:Object.assign({},i,a.params),pathname:hr([l,n.encodeLocation?n.encodeLocation(a.pathname).pathname:a.pathname]),pathnameBase:a.pathnameBase==="/"?l:hr([l,n.encodeLocation?n.encodeLocation(a.pathnameBase).pathname:a.pathnameBase])})),o,r,s);return t&&y?N.createElement(lo.Provider,{value:{location:xn({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:sr.Pop}},y):y}function O_(){let e=$_(),t=j_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:n},r):null,null)}const M_=N.createElement(O_,null);class B_ extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(Ut.Provider,{value:this.props.routeContext},N.createElement(Mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I_(e){let{routeContext:t,match:r,children:s}=e,n=N.useContext(hc);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(Ut.Provider,{value:t},s)}function F_(e,t,r,s){var n;if(t===void 0&&(t=[]),r===void 0&&(r=null),s===void 0&&(s=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=s)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let h=e,i=(n=r)==null?void 0:n.errors;if(i!=null){let v=h.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);v>=0||we(!1),h=h.slice(0,Math.min(h.length,v+1))}let l=!1,p=-1;if(r&&s&&s.v7_partialHydration)for(let v=0;v<h.length;v++){let m=h[v];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=v),m.route.id){let{loaderData:g,errors:b}=r,S=m.route.loader&&g[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||S){l=!0,p>=0?h=h.slice(0,p+1):h=[h[0]];break}}}return h.reduceRight((v,m,g)=>{let b,S=!1,y=null,a=null;r&&(b=i&&m.route.id?i[m.route.id]:void 0,y=m.route.errorElement||M_,l&&(p<0&&g===0?(V_("route-fallback"),S=!0,a=null):p===g&&(S=!0,a=m.route.hydrateFallbackElement||null)));let u=t.concat(h.slice(0,g+1)),c=()=>{let f;return b?f=y:S?f=a:m.route.Component?f=N.createElement(m.route.Component,null):m.route.element?f=m.route.element:f=v,N.createElement(I_,{match:m,routeContext:{outlet:v,matches:u,isDataRoute:r!=null},children:f})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?N.createElement(B_,{location:r.location,revalidation:r.revalidation,component:y,error:b,children:c(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):c()},null)}var Hf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hf||{}),Uf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Uf||{});function H_(e){let t=N.useContext(hc);return t||we(!1),t}function U_(e){let t=N.useContext(L_);return t||we(!1),t}function z_(e){let t=N.useContext(Ut);return t||we(!1),t}function zf(e){let t=z_(),r=t.matches[t.matches.length-1];return r.route.id||we(!1),r.route.id}function $_(){var e;let t=N.useContext(Mf),r=U_(),s=zf();return t!==void 0?t:(e=r.errors)==null?void 0:e[s]}function W_(){let{router:e}=H_(Hf.UseNavigateStable),t=zf(Uf.UseNavigateStable),r=N.useRef(!1);return Bf(()=>{r.current=!0}),N.useCallback(function(n,o){o===void 0&&(o={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,xn({fromRouteId:t},o)))},[e,t])}const Mu={};function V_(e,t,r){Mu[e]||(Mu[e]=!0)}function K_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ie(e){let{to:t,replace:r,state:s,relative:n}=e;ws()||we(!1);let{future:o,static:h}=N.useContext(_r),{matches:i}=N.useContext(Ut),{pathname:l}=bs(),p=Br(),v=dc(t,uc(i,o.v7_relativeSplatPath),l,n==="path"),m=JSON.stringify(v);return N.useEffect(()=>p(JSON.parse(m),{replace:r,state:s,relative:n}),[p,m,n,r,s]),null}function je(e){we(!1)}function q_(e){let{basename:t="/",children:r=null,location:s,navigationType:n=sr.Pop,navigator:o,static:h=!1,future:i}=e;ws()&&we(!1);let l=t.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:l,navigator:o,static:h,future:xn({v7_relativeSplatPath:!1},i)}),[l,i,o,h]);typeof s=="string"&&(s=Ss(s));let{pathname:v="/",search:m="",hash:g="",state:b=null,key:S="default"}=s,y=N.useMemo(()=>{let a=cc(v,l);return a==null?null:{location:{pathname:a,search:m,hash:g,state:b,key:S},navigationType:n}},[l,v,m,g,b,S,n]);return y==null?null:N.createElement(_r.Provider,{value:p},N.createElement(lo.Provider,{children:r,value:y}))}function G_(e){let{children:t,location:r}=e;return P_(sl(t),r)}new Promise(()=>{});function sl(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(s,n)=>{if(!N.isValidElement(s))return;let o=[...t,n];if(s.type===N.Fragment){r.push.apply(r,sl(s.props.children,o));return}s.type!==je&&we(!1),!s.props.index||!s.props.children||we(!1);let h={id:s.props.id||o.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=sl(s.props.children,o)),r.push(h)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nl(){return nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},nl.apply(this,arguments)}function X_(e,t){if(e==null)return{};var r={},s=Object.keys(e),n,o;for(o=0;o<s.length;o++)n=s[o],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function J_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Q_(e,t){return e.button===0&&(!t||t==="_self")&&!J_(e)}const Y_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Z_="6";try{window.__reactRouterVersion=Z_}catch{}const e0="startTransition",Bu=vl[e0];function t0(e){let{basename:t,children:r,future:s,window:n}=e,o=N.useRef();o.current==null&&(o.current=s_({window:n,v5Compat:!0}));let h=o.current,[i,l]=N.useState({action:h.action,location:h.location}),{v7_startTransition:p}=s||{},v=N.useCallback(m=>{p&&Bu?Bu(()=>l(m)):l(m)},[l,p]);return N.useLayoutEffect(()=>h.listen(v),[h,v]),N.useEffect(()=>K_(s),[s]),N.createElement(q_,{basename:t,children:r,location:i.location,navigationType:i.action,navigator:h,future:s})}const r0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,n0=N.forwardRef(function(t,r){let{onClick:s,relative:n,reloadDocument:o,replace:h,state:i,target:l,to:p,preventScrollReset:v,viewTransition:m}=t,g=X_(t,Y_),{basename:b}=N.useContext(_r),S,y=!1;if(typeof p=="string"&&s0.test(p)&&(S=p,r0))try{let f=new URL(window.location.href),_=p.startsWith("//")?new URL(f.protocol+p):new URL(p),w=cc(_.pathname,b);_.origin===f.origin&&w!=null?p=w+_.search+_.hash:y=!0}catch{}let a=D_(p,{relative:n}),u=i0(p,{replace:h,state:i,target:l,preventScrollReset:v,relative:n,viewTransition:m});function c(f){s&&s(f),f.defaultPrevented||u(f)}return N.createElement("a",nl({},g,{href:S||a,onClick:y||o?s:c,ref:r,target:l}))});var Iu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Iu||(Iu={}));var Fu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fu||(Fu={}));function i0(e,t){let{target:r,replace:s,state:n,preventScrollReset:o,relative:h,viewTransition:i}=t===void 0?{}:t,l=Br(),p=bs(),v=Ff(e,{relative:h});return N.useCallback(m=>{if(Q_(m,r)){m.preventDefault();let g=s!==void 0?s:$i(p)===$i(v);l(e,{replace:g,state:n,preventScrollReset:o,relative:h,viewTransition:i})}},[p,l,v,s,n,r,e,o,h,i])}function Je({children:e}){const t=bs(),r=Br(),s=()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),r("/login")},n=[{path:"/dashboard",label:"",icon:""},{path:"/projects",label:"",icon:""},{path:"/assets",label:"",icon:""},{path:"/asset-credentials",label:"",icon:""},{path:"/webssh",label:"WebSSH",icon:""},{path:"/users",label:"",icon:""},{path:"/user-groups",label:"",icon:""},{path:"/roles",label:"",icon:""},{path:"/user-roles",label:"",icon:""},{path:"/group-roles",label:"",icon:""},{path:"/audit",label:"",icon:""}];return d.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[d.jsxs("aside",{className:"w-64 bg-white shadow-sm border-r flex flex-col flex-shrink-0",children:[d.jsx("div",{className:"h-16 flex items-center justify-center border-b flex-shrink-0",children:d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"KMDB"})}),d.jsx("nav",{className:"flex-1 overflow-y-auto py-4 min-w-0",children:d.jsx("div",{className:"space-y-1 px-3",children:n.map(o=>d.jsxs(n0,{to:o.path,className:`flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap w-full ${t.pathname===o.path?"bg-blue-50 text-blue-700 border-l-4 border-blue-700":"text-gray-700 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx("span",{className:"mr-3 text-lg flex-shrink-0",children:o.icon}),d.jsx("span",{className:"truncate",children:o.label})]},o.path))})}),d.jsx("div",{className:"border-t p-4",children:d.jsxs("button",{onClick:s,className:"w-full flex items-center justify-center px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[d.jsx("span",{className:"mr-2",children:""}),""]})})]}),d.jsx("main",{className:"flex-1 overflow-y-auto",children:d.jsx("div",{className:"p-6",children:e})})]})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l0=(e,t)=>{const r=N.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:h,className:i="",children:l,...p},v)=>N.createElement("svg",{ref:v,...o0,width:n,height:n,stroke:s,strokeWidth:h?Number(o)*24/Number(n):o,className:["lucide",`lucide-${a0(e)}`,i].join(" "),...p},[...t.map(([m,g])=>N.createElement(m,g)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=l0("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function $f(e){var t,r,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(r=$f(e[t]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}function u0(){for(var e,t,r=0,s="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=$f(e))&&(s&&(s+=" "),s+=t);return s}const fc="-",d0=e=>{const t=f0(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:h=>{const i=h.split(fc);return i[0]===""&&i.length!==1&&i.shift(),Wf(i,t)||h0(h)},getConflictingClassGroupIds:(h,i)=>{const l=r[h]||[];return i&&s[h]?[...l,...s[h]]:l}}},Wf=(e,t)=>{var h;if(e.length===0)return t.classGroupId;const r=e[0],s=t.nextPart.get(r),n=s?Wf(e.slice(1),s):void 0;if(n)return n;if(t.validators.length===0)return;const o=e.join(fc);return(h=t.validators.find(({validator:i})=>i(o)))==null?void 0:h.classGroupId},Hu=/^\[(.+)\]$/,h0=e=>{if(Hu.test(e)){const t=Hu.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},f0=e=>{const{theme:t,prefix:r}=e,s={nextPart:new Map,validators:[]};return m0(Object.entries(e.classGroups),r).forEach(([o,h])=>{il(h,s,o,t)}),s},il=(e,t,r,s)=>{e.forEach(n=>{if(typeof n=="string"){const o=n===""?t:Uu(t,n);o.classGroupId=r;return}if(typeof n=="function"){if(p0(n)){il(n(s),t,r,s);return}t.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([o,h])=>{il(h,Uu(t,o),r,s)})})},Uu=(e,t)=>{let r=e;return t.split(fc).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},p0=e=>e.isThemeGetter,m0=(e,t)=>t?e.map(([r,s])=>{const n=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([h,i])=>[t+h,i])):o);return[r,n]}):e,v0=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,s=new Map;const n=(o,h)=>{r.set(o,h),t++,t>e&&(t=0,s=r,r=new Map)};return{get(o){let h=r.get(o);if(h!==void 0)return h;if((h=s.get(o))!==void 0)return n(o,h),h},set(o,h){r.has(o)?r.set(o,h):n(o,h)}}},Vf="!",g0=e=>{const{separator:t,experimentalParseClassName:r}=e,s=t.length===1,n=t[0],o=t.length,h=i=>{const l=[];let p=0,v=0,m;for(let a=0;a<i.length;a++){let u=i[a];if(p===0){if(u===n&&(s||i.slice(a,a+o)===t)){l.push(i.slice(v,a)),v=a+o;continue}if(u==="/"){m=a;continue}}u==="["?p++:u==="]"&&p--}const g=l.length===0?i:i.substring(v),b=g.startsWith(Vf),S=b?g.substring(1):g,y=m&&m>v?m-v:void 0;return{modifiers:l,hasImportantModifier:b,baseClassName:S,maybePostfixModifierPosition:y}};return r?i=>r({className:i,parseClassName:h}):h},_0=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(s=>{s[0]==="["?(t.push(...r.sort(),s),r=[]):r.push(s)}),t.push(...r.sort()),t},y0=e=>({cache:v0(e.cacheSize),parseClassName:g0(e),...d0(e)}),x0=/\s+/,S0=(e,t)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=t,o=[],h=e.trim().split(x0);let i="";for(let l=h.length-1;l>=0;l-=1){const p=h[l],{modifiers:v,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:b}=r(p);let S=!!b,y=s(S?g.substring(0,b):g);if(!y){if(!S){i=p+(i.length>0?" "+i:i);continue}if(y=s(g),!y){i=p+(i.length>0?" "+i:i);continue}S=!1}const a=_0(v).join(":"),u=m?a+Vf:a,c=u+y;if(o.includes(c))continue;o.push(c);const f=n(y,S);for(let _=0;_<f.length;++_){const w=f[_];o.push(u+w)}i=p+(i.length>0?" "+i:i)}return i};function w0(){let e=0,t,r,s="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Kf(t))&&(s&&(s+=" "),s+=r);return s}const Kf=e=>{if(typeof e=="string")return e;let t,r="";for(let s=0;s<e.length;s++)e[s]&&(t=Kf(e[s]))&&(r&&(r+=" "),r+=t);return r};function b0(e,...t){let r,s,n,o=h;function h(l){const p=t.reduce((v,m)=>m(v),e());return r=y0(p),s=r.cache.get,n=r.cache.set,o=i,i(l)}function i(l){const p=s(l);if(p)return p;const v=S0(l,r);return n(l,v),v}return function(){return o(w0.apply(null,arguments))}}const ue=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},qf=/^\[(?:([a-z-]+):)?(.+)\]$/i,C0=/^\d+\/\d+$/,E0=new Set(["px","full","screen"]),k0=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R0=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,j0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N0=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L0=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Nt=e=>as(e)||E0.has(e)||C0.test(e),Gt=e=>Cs(e,"length",I0),as=e=>!!e&&!Number.isNaN(Number(e)),Jo=e=>Cs(e,"number",as),Fs=e=>!!e&&Number.isInteger(Number(e)),D0=e=>e.endsWith("%")&&as(e.slice(0,-1)),se=e=>qf.test(e),Xt=e=>k0.test(e),A0=new Set(["length","size","percentage"]),P0=e=>Cs(e,A0,Gf),T0=e=>Cs(e,"position",Gf),O0=new Set(["image","url"]),M0=e=>Cs(e,O0,H0),B0=e=>Cs(e,"",F0),Hs=()=>!0,Cs=(e,t,r)=>{const s=qf.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):r(s[2]):!1},I0=e=>R0.test(e)&&!j0.test(e),Gf=()=>!1,F0=e=>N0.test(e),H0=e=>L0.test(e),U0=()=>{const e=ue("colors"),t=ue("spacing"),r=ue("blur"),s=ue("brightness"),n=ue("borderColor"),o=ue("borderRadius"),h=ue("borderSpacing"),i=ue("borderWidth"),l=ue("contrast"),p=ue("grayscale"),v=ue("hueRotate"),m=ue("invert"),g=ue("gap"),b=ue("gradientColorStops"),S=ue("gradientColorStopPositions"),y=ue("inset"),a=ue("margin"),u=ue("opacity"),c=ue("padding"),f=ue("saturate"),_=ue("scale"),w=ue("sepia"),E=ue("skew"),k=ue("space"),x=ue("translate"),C=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",se,t],j=()=>[se,t],T=()=>["",Nt,Gt],I=()=>["auto",as,se],F=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",se],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>[as,se];return{cacheSize:500,separator:":",theme:{colors:[Hs],spacing:[Nt,Gt],blur:["none","",Xt,se],brightness:M(),borderColor:[e],borderRadius:["none","","full",Xt,se],borderSpacing:j(),borderWidth:T(),contrast:M(),grayscale:P(),hueRotate:M(),invert:P(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[D0,Gt],inset:A(),margin:A(),opacity:M(),padding:j(),saturate:M(),scale:M(),sepia:P(),skew:M(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",se]}],container:["container"],columns:[{columns:[Xt]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...F(),se]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fs,se]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",se]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",Fs,se]}],"grid-cols":[{"grid-cols":[Hs]}],"col-start-end":[{col:["auto",{span:["full",Fs,se]},se]}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":[Hs]}],"row-start-end":[{row:["auto",{span:[Fs,se]},se]}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",se]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[c]}],px:[{px:[c]}],py:[{py:[c]}],ps:[{ps:[c]}],pe:[{pe:[c]}],pt:[{pt:[c]}],pr:[{pr:[c]}],pb:[{pb:[c]}],pl:[{pl:[c]}],m:[{m:[a]}],mx:[{mx:[a]}],my:[{my:[a]}],ms:[{ms:[a]}],me:[{me:[a]}],mt:[{mt:[a]}],mr:[{mr:[a]}],mb:[{mb:[a]}],ml:[{ml:[a]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",se,t]}],"min-w":[{"min-w":[se,t,"min","max","fit"]}],"max-w":[{"max-w":[se,t,"none","full","min","max","fit","prose",{screen:[Xt]},Xt]}],h:[{h:[se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Xt,Gt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Jo]}],"font-family":[{font:[Hs]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",se]}],"line-clamp":[{"line-clamp":["none",as,Jo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Nt,se]}],"list-image":[{"list-image":["none",se]}],"list-style-type":[{list:["none","disc","decimal",se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[u]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[u]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Nt,Gt]}],"underline-offset":[{"underline-offset":["auto",Nt,se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[u]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...F(),T0]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",P0]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},M0]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[u]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[u]}],"divide-style":[{divide:z()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Nt,se]}],"outline-w":[{outline:[Nt,Gt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[u]}],"ring-offset-w":[{"ring-offset":[Nt,Gt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Xt,B0]}],"shadow-color":[{shadow:[Hs]}],opacity:[{opacity:[u]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Xt,se]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[v]}],invert:[{invert:[m]}],saturate:[{saturate:[f]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[v]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[u]}],"backdrop-saturate":[{"backdrop-saturate":[f]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[h]}],"border-spacing-x":[{"border-spacing-x":[h]}],"border-spacing-y":[{"border-spacing-y":[h]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",se]}],duration:[{duration:M()}],ease:[{ease:["linear","in","out","in-out",se]}],delay:[{delay:M()}],animate:[{animate:["none","spin","ping","pulse","bounce",se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Fs,se]}],"translate-x":[{"translate-x":[x]}],"translate-y":[{"translate-y":[x]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Nt,Gt,Jo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z0=b0(U0);function lt(...e){return z0(u0(e))}function $0({title:e,description:t,variant:r="default",onClose:s}){const n={default:"bg-white border-gray-200",success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200"},o={default:"text-gray-900",success:"text-green-900",error:"text-red-900",warning:"text-yellow-900"};return d.jsx("div",{className:lt("pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg border shadow-lg",n[r]),children:d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"flex items-start",children:[d.jsxs("div",{className:"flex-1",children:[e&&d.jsx("p",{className:lt("text-sm font-semibold",o[r]),children:e}),t&&d.jsx("p",{className:lt("mt-1 text-sm",o[r]),children:t})]}),s&&d.jsx("button",{onClick:s,className:lt("ml-4 inline-flex rounded-md p-1.5 transition-colors hover:bg-black/5 focus:outline-none",o[r]),children:d.jsx(c0,{className:"h-4 w-4"})})]})})})}function W0({toasts:e,onRemove:t}){return d.jsx("div",{className:"pointer-events-none fixed bottom-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",children:e.map(r=>d.jsx($0,{...r,onClose:()=>t(r.id)},r.id))})}let V0=0;function st(){const[e,t]=N.useState([]),r=N.useCallback(o=>{const h=`toast-${++V0}`,i={...o,id:h};return t(l=>[...l,i]),setTimeout(()=>{t(l=>l.filter(p=>p.id!==h))},3e3),h},[]),s=N.useCallback(o=>{t(h=>h.filter(i=>i.id!==o))},[]);return{toast:r,ToastProvider:()=>d.jsx(W0,{toasts:e,onRemove:s})}}function Xf(e,t){return function(){return e.apply(t,arguments)}}const{toString:K0}=Object.prototype,{getPrototypeOf:pc}=Object,{iterator:co,toStringTag:Jf}=Symbol,uo=(e=>t=>{const r=K0.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),yt=e=>(e=e.toLowerCase(),t=>uo(t)===e),ho=e=>t=>typeof t===e,{isArray:Es}=Array,gs=ho("undefined");function jn(e){return e!==null&&!gs(e)&&e.constructor!==null&&!gs(e.constructor)&&Ge(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qf=yt("ArrayBuffer");function q0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qf(e.buffer),t}const G0=ho("string"),Ge=ho("function"),Yf=ho("number"),Nn=e=>e!==null&&typeof e=="object",X0=e=>e===!0||e===!1,pi=e=>{if(uo(e)!=="object")return!1;const t=pc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Jf in e)&&!(co in e)},J0=e=>{if(!Nn(e)||jn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Q0=yt("Date"),Y0=yt("File"),Z0=yt("Blob"),ey=yt("FileList"),ty=e=>Nn(e)&&Ge(e.pipe),ry=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ge(e.append)&&((t=uo(e))==="formdata"||t==="object"&&Ge(e.toString)&&e.toString()==="[object FormData]"))},sy=yt("URLSearchParams"),[ny,iy,oy,ay]=["ReadableStream","Request","Response","Headers"].map(yt),ly=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ln(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,n;if(typeof e!="object"&&(e=[e]),Es(e))for(s=0,n=e.length;s<n;s++)t.call(null,e[s],s,e);else{if(jn(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),h=o.length;let i;for(s=0;s<h;s++)i=o[s],t.call(null,e[i],i,e)}}function Zf(e,t){if(jn(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s=r.length,n;for(;s-- >0;)if(n=r[s],t===n.toLowerCase())return n;return null}const Cr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ep=e=>!gs(e)&&e!==Cr;function ol(){const{caseless:e,skipUndefined:t}=ep(this)&&this||{},r={},s=(n,o)=>{const h=e&&Zf(r,o)||o;pi(r[h])&&pi(n)?r[h]=ol(r[h],n):pi(n)?r[h]=ol({},n):Es(n)?r[h]=n.slice():(!t||!gs(n))&&(r[h]=n)};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&Ln(arguments[n],s);return r}const cy=(e,t,r,{allOwnKeys:s}={})=>(Ln(t,(n,o)=>{r&&Ge(n)?e[o]=Xf(n,r):e[o]=n},{allOwnKeys:s}),e),uy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),dy=(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},hy=(e,t,r,s)=>{let n,o,h;const i={};if(t=t||{},e==null)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)h=n[o],(!s||s(h,e,t))&&!i[h]&&(t[h]=e[h],i[h]=!0);e=r!==!1&&pc(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},fy=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return s!==-1&&s===r},py=e=>{if(!e)return null;if(Es(e))return e;let t=e.length;if(!Yf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},my=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&pc(Uint8Array)),vy=(e,t)=>{const s=(e&&e[co]).call(e);let n;for(;(n=s.next())&&!n.done;){const o=n.value;t.call(e,o[0],o[1])}},gy=(e,t)=>{let r;const s=[];for(;(r=e.exec(t))!==null;)s.push(r);return s},_y=yt("HTMLFormElement"),yy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,n){return s.toUpperCase()+n}),zu=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),xy=yt("RegExp"),tp=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};Ln(r,(n,o)=>{let h;(h=t(n,o,e))!==!1&&(s[o]=h||n)}),Object.defineProperties(e,s)},Sy=e=>{tp(e,(t,r)=>{if(Ge(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(Ge(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},wy=(e,t)=>{const r={},s=n=>{n.forEach(o=>{r[o]=!0})};return Es(e)?s(e):s(String(e).split(t)),r},by=()=>{},Cy=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ey(e){return!!(e&&Ge(e.append)&&e[Jf]==="FormData"&&e[co])}const ky=e=>{const t=new Array(10),r=(s,n)=>{if(Nn(s)){if(t.indexOf(s)>=0)return;if(jn(s))return s;if(!("toJSON"in s)){t[n]=s;const o=Es(s)?[]:{};return Ln(s,(h,i)=>{const l=r(h,n+1);!gs(l)&&(o[i]=l)}),t[n]=void 0,o}}return s};return r(e,0)},Ry=yt("AsyncFunction"),jy=e=>e&&(Nn(e)||Ge(e))&&Ge(e.then)&&Ge(e.catch),rp=((e,t)=>e?setImmediate:t?((r,s)=>(Cr.addEventListener("message",({source:n,data:o})=>{n===Cr&&o===r&&s.length&&s.shift()()},!1),n=>{s.push(n),Cr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ge(Cr.postMessage)),Ny=typeof queueMicrotask<"u"?queueMicrotask.bind(Cr):typeof process<"u"&&process.nextTick||rp,Ly=e=>e!=null&&Ge(e[co]),W={isArray:Es,isArrayBuffer:Qf,isBuffer:jn,isFormData:ry,isArrayBufferView:q0,isString:G0,isNumber:Yf,isBoolean:X0,isObject:Nn,isPlainObject:pi,isEmptyObject:J0,isReadableStream:ny,isRequest:iy,isResponse:oy,isHeaders:ay,isUndefined:gs,isDate:Q0,isFile:Y0,isBlob:Z0,isRegExp:xy,isFunction:Ge,isStream:ty,isURLSearchParams:sy,isTypedArray:my,isFileList:ey,forEach:Ln,merge:ol,extend:cy,trim:ly,stripBOM:uy,inherits:dy,toFlatObject:hy,kindOf:uo,kindOfTest:yt,endsWith:fy,toArray:py,forEachEntry:vy,matchAll:gy,isHTMLForm:_y,hasOwnProperty:zu,hasOwnProp:zu,reduceDescriptors:tp,freezeMethods:Sy,toObjectSet:wy,toCamelCase:yy,noop:by,toFiniteNumber:Cy,findKey:Zf,global:Cr,isContextDefined:ep,isSpecCompliantForm:Ey,toJSONObject:ky,isAsyncFn:Ry,isThenable:jy,setImmediate:rp,asap:Ny,isIterable:Ly};function re(e,t,r,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}W.inherits(re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const sp=re.prototype,np={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{np[e]={value:e}});Object.defineProperties(re,np);Object.defineProperty(sp,"isAxiosError",{value:!0});re.from=(e,t,r,s,n,o)=>{const h=Object.create(sp);W.toFlatObject(e,h,function(v){return v!==Error.prototype},p=>p!=="isAxiosError");const i=e&&e.message?e.message:"Error",l=t==null&&e?e.code:t;return re.call(h,i,l,r,s,n),e&&h.cause==null&&Object.defineProperty(h,"cause",{value:e,configurable:!0}),h.name=e&&e.name||"Error",o&&Object.assign(h,o),h};const Dy=null;function al(e){return W.isPlainObject(e)||W.isArray(e)}function ip(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function $u(e,t,r){return e?e.concat(t).map(function(n,o){return n=ip(n),!r&&o?"["+n+"]":n}).join(r?".":""):t}function Ay(e){return W.isArray(e)&&!e.some(al)}const Py=W.toFlatObject(W,{},null,function(t){return/^is[A-Z]/.test(t)});function fo(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,a){return!W.isUndefined(a[y])});const s=r.metaTokens,n=r.visitor||v,o=r.dots,h=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(n))throw new TypeError("visitor must be a function");function p(S){if(S===null)return"";if(W.isDate(S))return S.toISOString();if(W.isBoolean(S))return S.toString();if(!l&&W.isBlob(S))throw new re("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(S)||W.isTypedArray(S)?l&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function v(S,y,a){let u=S;if(S&&!a&&typeof S=="object"){if(W.endsWith(y,"{}"))y=s?y:y.slice(0,-2),S=JSON.stringify(S);else if(W.isArray(S)&&Ay(S)||(W.isFileList(S)||W.endsWith(y,"[]"))&&(u=W.toArray(S)))return y=ip(y),u.forEach(function(f,_){!(W.isUndefined(f)||f===null)&&t.append(h===!0?$u([y],_,o):h===null?y:y+"[]",p(f))}),!1}return al(S)?!0:(t.append($u(a,y,o),p(S)),!1)}const m=[],g=Object.assign(Py,{defaultVisitor:v,convertValue:p,isVisitable:al});function b(S,y){if(!W.isUndefined(S)){if(m.indexOf(S)!==-1)throw Error("Circular reference detected in "+y.join("."));m.push(S),W.forEach(S,function(u,c){(!(W.isUndefined(u)||u===null)&&n.call(t,u,W.isString(c)?c.trim():c,y,g))===!0&&b(u,y?y.concat(c):[c])}),m.pop()}}if(!W.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Wu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function mc(e,t){this._pairs=[],e&&fo(e,this,t)}const op=mc.prototype;op.append=function(t,r){this._pairs.push([t,r])};op.toString=function(t){const r=t?function(s){return t.call(this,s,Wu)}:Wu;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function Ty(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ap(e,t,r){if(!t)return e;const s=r&&r.encode||Ty;W.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let o;if(n?o=n(t,r):o=W.isURLSearchParams(t)?t.toString():new mc(t,r).toString(s),o){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Vu{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){W.forEach(this.handlers,function(s){s!==null&&t(s)})}}const lp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Oy=typeof URLSearchParams<"u"?URLSearchParams:mc,My=typeof FormData<"u"?FormData:null,By=typeof Blob<"u"?Blob:null,Iy={isBrowser:!0,classes:{URLSearchParams:Oy,FormData:My,Blob:By},protocols:["http","https","file","blob","url","data"]},vc=typeof window<"u"&&typeof document<"u",ll=typeof navigator=="object"&&navigator||void 0,Fy=vc&&(!ll||["ReactNative","NativeScript","NS"].indexOf(ll.product)<0),Hy=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uy=vc&&window.location.href||"http://localhost",zy=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vc,hasStandardBrowserEnv:Fy,hasStandardBrowserWebWorkerEnv:Hy,navigator:ll,origin:Uy},Symbol.toStringTag,{value:"Module"})),Me={...zy,...Iy};function $y(e,t){return fo(e,new Me.classes.URLSearchParams,{visitor:function(r,s,n,o){return Me.isNode&&W.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...t})}function Wy(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Vy(e){const t={},r=Object.keys(e);let s;const n=r.length;let o;for(s=0;s<n;s++)o=r[s],t[o]=e[o];return t}function cp(e){function t(r,s,n,o){let h=r[o++];if(h==="__proto__")return!0;const i=Number.isFinite(+h),l=o>=r.length;return h=!h&&W.isArray(n)?n.length:h,l?(W.hasOwnProp(n,h)?n[h]=[n[h],s]:n[h]=s,!i):((!n[h]||!W.isObject(n[h]))&&(n[h]=[]),t(r,s,n[h],o)&&W.isArray(n[h])&&(n[h]=Vy(n[h])),!i)}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(s,n)=>{t(Wy(s),n,r,0)}),r}return null}function Ky(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Dn={transitional:lp,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const s=r.getContentType()||"",n=s.indexOf("application/json")>-1,o=W.isObject(t);if(o&&W.isHTMLForm(t)&&(t=new FormData(t)),W.isFormData(t))return n?JSON.stringify(cp(t)):t;if(W.isArrayBuffer(t)||W.isBuffer(t)||W.isStream(t)||W.isFile(t)||W.isBlob(t)||W.isReadableStream(t))return t;if(W.isArrayBufferView(t))return t.buffer;if(W.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return $y(t,this.formSerializer).toString();if((i=W.isFileList(t))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fo(i?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||n?(r.setContentType("application/json",!1),Ky(t)):t}],transformResponse:[function(t){const r=this.transitional||Dn.transitional,s=r&&r.forcedJSONParsing,n=this.responseType==="json";if(W.isResponse(t)||W.isReadableStream(t))return t;if(t&&W.isString(t)&&(s&&!this.responseType||n)){const h=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(t,this.parseReviver)}catch(i){if(h)throw i.name==="SyntaxError"?re.from(i,re.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{Dn.headers[e]={}});const qy=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Gy=e=>{const t={};let r,s,n;return e&&e.split(`
`).forEach(function(h){n=h.indexOf(":"),r=h.substring(0,n).trim().toLowerCase(),s=h.substring(n+1).trim(),!(!r||t[r]&&qy[r])&&(r==="set-cookie"?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t},Ku=Symbol("internals");function Us(e){return e&&String(e).trim().toLowerCase()}function mi(e){return e===!1||e==null?e:W.isArray(e)?e.map(mi):String(e)}function Xy(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}const Jy=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Qo(e,t,r,s,n){if(W.isFunction(s))return s.call(this,t,r);if(n&&(t=r),!!W.isString(t)){if(W.isString(s))return t.indexOf(s)!==-1;if(W.isRegExp(s))return s.test(t)}}function Qy(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,s)=>r.toUpperCase()+s)}function Yy(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(n,o,h){return this[s].call(this,t,n,o,h)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,r,s){const n=this;function o(i,l,p){const v=Us(l);if(!v)throw new Error("header name must be a non-empty string");const m=W.findKey(n,v);(!m||n[m]===void 0||p===!0||p===void 0&&n[m]!==!1)&&(n[m||l]=mi(i))}const h=(i,l)=>W.forEach(i,(p,v)=>o(p,v,l));if(W.isPlainObject(t)||t instanceof this.constructor)h(t,r);else if(W.isString(t)&&(t=t.trim())&&!Jy(t))h(Gy(t),r);else if(W.isObject(t)&&W.isIterable(t)){let i={},l,p;for(const v of t){if(!W.isArray(v))throw TypeError("Object iterator must return a key-value pair");i[p=v[0]]=(l=i[p])?W.isArray(l)?[...l,v[1]]:[l,v[1]]:v[1]}h(i,r)}else t!=null&&o(r,t,s);return this}get(t,r){if(t=Us(t),t){const s=W.findKey(this,t);if(s){const n=this[s];if(!r)return n;if(r===!0)return Xy(n);if(W.isFunction(r))return r.call(this,n,s);if(W.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=Us(t),t){const s=W.findKey(this,t);return!!(s&&this[s]!==void 0&&(!r||Qo(this,this[s],s,r)))}return!1}delete(t,r){const s=this;let n=!1;function o(h){if(h=Us(h),h){const i=W.findKey(s,h);i&&(!r||Qo(s,s[i],i,r))&&(delete s[i],n=!0)}}return W.isArray(t)?t.forEach(o):o(t),n}clear(t){const r=Object.keys(this);let s=r.length,n=!1;for(;s--;){const o=r[s];(!t||Qo(this,this[o],o,t,!0))&&(delete this[o],n=!0)}return n}normalize(t){const r=this,s={};return W.forEach(this,(n,o)=>{const h=W.findKey(s,o);if(h){r[h]=mi(n),delete r[o];return}const i=t?Qy(o):String(o).trim();i!==o&&delete r[o],r[i]=mi(n),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return W.forEach(this,(s,n)=>{s!=null&&s!==!1&&(r[n]=t&&W.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const s=new this(t);return r.forEach(n=>s.set(n)),s}static accessor(t){const s=(this[Ku]=this[Ku]={accessors:{}}).accessors,n=this.prototype;function o(h){const i=Us(h);s[i]||(Yy(n,h),s[i]=!0)}return W.isArray(t)?t.forEach(o):o(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);W.reduceDescriptors(Xe.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[r]=s}}});W.freezeMethods(Xe);function Yo(e,t){const r=this||Dn,s=t||r,n=Xe.from(s.headers);let o=s.data;return W.forEach(e,function(i){o=i.call(r,o,n.normalize(),t?t.status:void 0)}),n.normalize(),o}function up(e){return!!(e&&e.__CANCEL__)}function ks(e,t,r){re.call(this,e??"canceled",re.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(ks,re,{__CANCEL__:!0});function dp(e,t,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):t(new re("Request failed with status code "+r.status,[re.ERR_BAD_REQUEST,re.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Zy(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ex(e,t){e=e||10;const r=new Array(e),s=new Array(e);let n=0,o=0,h;return t=t!==void 0?t:1e3,function(l){const p=Date.now(),v=s[o];h||(h=p),r[n]=l,s[n]=p;let m=o,g=0;for(;m!==n;)g+=r[m++],m=m%e;if(n=(n+1)%e,n===o&&(o=(o+1)%e),p-h<t)return;const b=v&&p-v;return b?Math.round(g*1e3/b):void 0}}function tx(e,t){let r=0,s=1e3/t,n,o;const h=(p,v=Date.now())=>{r=v,n=null,o&&(clearTimeout(o),o=null),e(...p)};return[(...p)=>{const v=Date.now(),m=v-r;m>=s?h(p,v):(n=p,o||(o=setTimeout(()=>{o=null,h(n)},s-m)))},()=>n&&h(n)]}const Wi=(e,t,r=3)=>{let s=0;const n=ex(50,250);return tx(o=>{const h=o.loaded,i=o.lengthComputable?o.total:void 0,l=h-s,p=n(l),v=h<=i;s=h;const m={loaded:h,total:i,progress:i?h/i:void 0,bytes:l,rate:p||void 0,estimated:p&&i&&v?(i-h)/p:void 0,event:o,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},r)},qu=(e,t)=>{const r=e!=null;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Gu=e=>(...t)=>W.asap(()=>e(...t)),rx=Me.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Me.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Me.origin),Me.navigator&&/(msie|trident)/i.test(Me.navigator.userAgent)):()=>!0,sx=Me.hasStandardBrowserEnv?{write(e,t,r,s,n,o,h){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];W.isNumber(r)&&i.push(`expires=${new Date(r).toUTCString()}`),W.isString(s)&&i.push(`path=${s}`),W.isString(n)&&i.push(`domain=${n}`),o===!0&&i.push("secure"),W.isString(h)&&i.push(`SameSite=${h}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function nx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ix(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function hp(e,t,r){let s=!nx(t);return e&&(s||r==!1)?ix(e,t):t}const Xu=e=>e instanceof Xe?{...e}:e;function Pr(e,t){t=t||{};const r={};function s(p,v,m,g){return W.isPlainObject(p)&&W.isPlainObject(v)?W.merge.call({caseless:g},p,v):W.isPlainObject(v)?W.merge({},v):W.isArray(v)?v.slice():v}function n(p,v,m,g){if(W.isUndefined(v)){if(!W.isUndefined(p))return s(void 0,p,m,g)}else return s(p,v,m,g)}function o(p,v){if(!W.isUndefined(v))return s(void 0,v)}function h(p,v){if(W.isUndefined(v)){if(!W.isUndefined(p))return s(void 0,p)}else return s(void 0,v)}function i(p,v,m){if(m in t)return s(p,v);if(m in e)return s(void 0,p)}const l={url:o,method:o,data:o,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:i,headers:(p,v,m)=>n(Xu(p),Xu(v),m,!0)};return W.forEach(Object.keys({...e,...t}),function(v){const m=l[v]||n,g=m(e[v],t[v],v);W.isUndefined(g)&&m!==i||(r[v]=g)}),r}const fp=e=>{const t=Pr({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:n,xsrfCookieName:o,headers:h,auth:i}=t;if(t.headers=h=Xe.from(h),t.url=ap(hp(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&h.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),W.isFormData(r)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(W.isFunction(r.getHeaders)){const l=r.getHeaders(),p=["content-type","content-length"];Object.entries(l).forEach(([v,m])=>{p.includes(v.toLowerCase())&&h.set(v,m)})}}if(Me.hasStandardBrowserEnv&&(s&&W.isFunction(s)&&(s=s(t)),s||s!==!1&&rx(t.url))){const l=n&&o&&sx.read(o);l&&h.set(n,l)}return t},ox=typeof XMLHttpRequest<"u",ax=ox&&function(e){return new Promise(function(r,s){const n=fp(e);let o=n.data;const h=Xe.from(n.headers).normalize();let{responseType:i,onUploadProgress:l,onDownloadProgress:p}=n,v,m,g,b,S;function y(){b&&b(),S&&S(),n.cancelToken&&n.cancelToken.unsubscribe(v),n.signal&&n.signal.removeEventListener("abort",v)}let a=new XMLHttpRequest;a.open(n.method.toUpperCase(),n.url,!0),a.timeout=n.timeout;function u(){if(!a)return;const f=Xe.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),w={data:!i||i==="text"||i==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:f,config:e,request:a};dp(function(k){r(k),y()},function(k){s(k),y()},w),a=null}"onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(s(new re("Request aborted",re.ECONNABORTED,e,a)),a=null)},a.onerror=function(_){const w=_&&_.message?_.message:"Network Error",E=new re(w,re.ERR_NETWORK,e,a);E.event=_||null,s(E),a=null},a.ontimeout=function(){let _=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const w=n.transitional||lp;n.timeoutErrorMessage&&(_=n.timeoutErrorMessage),s(new re(_,w.clarifyTimeoutError?re.ETIMEDOUT:re.ECONNABORTED,e,a)),a=null},o===void 0&&h.setContentType(null),"setRequestHeader"in a&&W.forEach(h.toJSON(),function(_,w){a.setRequestHeader(w,_)}),W.isUndefined(n.withCredentials)||(a.withCredentials=!!n.withCredentials),i&&i!=="json"&&(a.responseType=n.responseType),p&&([g,S]=Wi(p,!0),a.addEventListener("progress",g)),l&&a.upload&&([m,b]=Wi(l),a.upload.addEventListener("progress",m),a.upload.addEventListener("loadend",b)),(n.cancelToken||n.signal)&&(v=f=>{a&&(s(!f||f.type?new ks(null,e,a):f),a.abort(),a=null)},n.cancelToken&&n.cancelToken.subscribe(v),n.signal&&(n.signal.aborted?v():n.signal.addEventListener("abort",v)));const c=Zy(n.url);if(c&&Me.protocols.indexOf(c)===-1){s(new re("Unsupported protocol "+c+":",re.ERR_BAD_REQUEST,e));return}a.send(o||null)})},lx=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let s=new AbortController,n;const o=function(p){if(!n){n=!0,i();const v=p instanceof Error?p:this.reason;s.abort(v instanceof re?v:new ks(v instanceof Error?v.message:v))}};let h=t&&setTimeout(()=>{h=null,o(new re(`timeout ${t} of ms exceeded`,re.ETIMEDOUT))},t);const i=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(p=>{p.unsubscribe?p.unsubscribe(o):p.removeEventListener("abort",o)}),e=null)};e.forEach(p=>p.addEventListener("abort",o));const{signal:l}=s;return l.unsubscribe=()=>W.asap(i),l}},cx=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let s=0,n;for(;s<r;)n=s+t,yield e.slice(s,n),s=n},ux=async function*(e,t){for await(const r of dx(e))yield*cx(r,t)},dx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:s}=await t.read();if(r)break;yield s}}finally{await t.cancel()}},Ju=(e,t,r,s)=>{const n=ux(e,t);let o=0,h,i=l=>{h||(h=!0,s&&s(l))};return new ReadableStream({async pull(l){try{const{done:p,value:v}=await n.next();if(p){i(),l.close();return}let m=v.byteLength;if(r){let g=o+=m;r(g)}l.enqueue(new Uint8Array(v))}catch(p){throw i(p),p}},cancel(l){return i(l),n.return()}},{highWaterMark:2})},Qu=64*1024,{isFunction:Jn}=W,hx=(({Request:e,Response:t})=>({Request:e,Response:t}))(W.global),{ReadableStream:Yu,TextEncoder:Zu}=W.global,ed=(e,...t)=>{try{return!!e(...t)}catch{return!1}},fx=e=>{e=W.merge.call({skipUndefined:!0},hx,e);const{fetch:t,Request:r,Response:s}=e,n=t?Jn(t):typeof fetch=="function",o=Jn(r),h=Jn(s);if(!n)return!1;const i=n&&Jn(Yu),l=n&&(typeof Zu=="function"?(S=>y=>S.encode(y))(new Zu):async S=>new Uint8Array(await new r(S).arrayBuffer())),p=o&&i&&ed(()=>{let S=!1;const y=new r(Me.origin,{body:new Yu,method:"POST",get duplex(){return S=!0,"half"}}).headers.has("Content-Type");return S&&!y}),v=h&&i&&ed(()=>W.isReadableStream(new s("").body)),m={stream:v&&(S=>S.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(S=>{!m[S]&&(m[S]=(y,a)=>{let u=y&&y[S];if(u)return u.call(y);throw new re(`Response type '${S}' is not supported`,re.ERR_NOT_SUPPORT,a)})});const g=async S=>{if(S==null)return 0;if(W.isBlob(S))return S.size;if(W.isSpecCompliantForm(S))return(await new r(Me.origin,{method:"POST",body:S}).arrayBuffer()).byteLength;if(W.isArrayBufferView(S)||W.isArrayBuffer(S))return S.byteLength;if(W.isURLSearchParams(S)&&(S=S+""),W.isString(S))return(await l(S)).byteLength},b=async(S,y)=>{const a=W.toFiniteNumber(S.getContentLength());return a??g(y)};return async S=>{let{url:y,method:a,data:u,signal:c,cancelToken:f,timeout:_,onDownloadProgress:w,onUploadProgress:E,responseType:k,headers:x,withCredentials:C="same-origin",fetchOptions:D}=fp(S),A=t||fetch;k=k?(k+"").toLowerCase():"text";let j=lx([c,f&&f.toAbortSignal()],_),T=null;const I=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let F;try{if(E&&p&&a!=="get"&&a!=="head"&&(F=await b(x,u))!==0){let M=new r(y,{method:"POST",body:u,duplex:"half"}),U;if(W.isFormData(u)&&(U=M.headers.get("content-type"))&&x.setContentType(U),M.body){const[H,q]=qu(F,Wi(Gu(E)));u=Ju(M.body,Qu,H,q)}}W.isString(C)||(C=C?"include":"omit");const z=o&&"credentials"in r.prototype,G={...D,signal:j,method:a.toUpperCase(),headers:x.normalize().toJSON(),body:u,duplex:"half",credentials:z?C:void 0};T=o&&new r(y,G);let R=await(o?A(T,D):A(y,G));const P=v&&(k==="stream"||k==="response");if(v&&(w||P&&I)){const M={};["status","statusText","headers"].forEach(V=>{M[V]=R[V]});const U=W.toFiniteNumber(R.headers.get("content-length")),[H,q]=w&&qu(U,Wi(Gu(w),!0))||[];R=new s(Ju(R.body,Qu,H,()=>{q&&q(),I&&I()}),M)}k=k||"text";let O=await m[W.findKey(m,k)||"text"](R,S);return!P&&I&&I(),await new Promise((M,U)=>{dp(M,U,{data:O,headers:Xe.from(R.headers),status:R.status,statusText:R.statusText,config:S,request:T})})}catch(z){throw I&&I(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new re("Network Error",re.ERR_NETWORK,S,T),{cause:z.cause||z}):re.from(z,z&&z.code,S,T)}}},px=new Map,pp=e=>{let t=e&&e.env||{};const{fetch:r,Request:s,Response:n}=t,o=[s,n,r];let h=o.length,i=h,l,p,v=px;for(;i--;)l=o[i],p=v.get(l),p===void 0&&v.set(l,p=i?new Map:fx(t)),v=p;return p};pp();const gc={http:Dy,xhr:ax,fetch:{get:pp}};W.forEach(gc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const td=e=>`- ${e}`,mx=e=>W.isFunction(e)||e===null||e===!1;function vx(e,t){e=W.isArray(e)?e:[e];const{length:r}=e;let s,n;const o={};for(let h=0;h<r;h++){s=e[h];let i;if(n=s,!mx(s)&&(n=gc[(i=String(s)).toLowerCase()],n===void 0))throw new re(`Unknown adapter '${i}'`);if(n&&(W.isFunction(n)||(n=n.get(t))))break;o[i||"#"+h]=n}if(!n){const h=Object.entries(o).map(([l,p])=>`adapter ${l} `+(p===!1?"is not supported by the environment":"is not available in the build"));let i=r?h.length>1?`since :
`+h.map(td).join(`
`):" "+td(h[0]):"as no adapter specified";throw new re("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n}const mp={getAdapter:vx,adapters:gc};function Zo(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ks(null,e)}function rd(e){return Zo(e),e.headers=Xe.from(e.headers),e.data=Yo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mp.getAdapter(e.adapter||Dn.adapter,e)(e).then(function(s){return Zo(e),s.data=Yo.call(e,e.transformResponse,s),s.headers=Xe.from(s.headers),s},function(s){return up(s)||(Zo(e),s&&s.response&&(s.response.data=Yo.call(e,e.transformResponse,s.response),s.response.headers=Xe.from(s.response.headers))),Promise.reject(s)})}const vp="1.13.2",po={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{po[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const sd={};po.transitional=function(t,r,s){function n(o,h){return"[Axios v"+vp+"] Transitional option '"+o+"'"+h+(s?". "+s:"")}return(o,h,i)=>{if(t===!1)throw new re(n(h," has been removed"+(r?" in "+r:"")),re.ERR_DEPRECATED);return r&&!sd[h]&&(sd[h]=!0,console.warn(n(h," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(o,h,i):!0}};po.spelling=function(t){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function gx(e,t,r){if(typeof e!="object")throw new re("options must be an object",re.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let n=s.length;for(;n-- >0;){const o=s[n],h=t[o];if(h){const i=e[o],l=i===void 0||h(i,o,e);if(l!==!0)throw new re("option "+o+" must be "+l,re.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new re("Unknown option "+o,re.ERR_BAD_OPTION)}}const vi={assertOptions:gx,validators:po},bt=vi.validators;let Rr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Vu,response:new Vu}}async request(t,r){try{return await this._request(t,r)}catch(s){if(s instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Pr(this.defaults,r);const{transitional:s,paramsSerializer:n,headers:o}=r;s!==void 0&&vi.assertOptions(s,{silentJSONParsing:bt.transitional(bt.boolean),forcedJSONParsing:bt.transitional(bt.boolean),clarifyTimeoutError:bt.transitional(bt.boolean)},!1),n!=null&&(W.isFunction(n)?r.paramsSerializer={serialize:n}:vi.assertOptions(n,{encode:bt.function,serialize:bt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vi.assertOptions(r,{baseUrl:bt.spelling("baseURL"),withXsrfToken:bt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let h=o&&W.merge(o.common,o[r.method]);o&&W.forEach(["delete","get","head","post","put","patch","common"],S=>{delete o[S]}),r.headers=Xe.concat(h,o);const i=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});const p=[];this.interceptors.response.forEach(function(y){p.push(y.fulfilled,y.rejected)});let v,m=0,g;if(!l){const S=[rd.bind(this),void 0];for(S.unshift(...i),S.push(...p),g=S.length,v=Promise.resolve(r);m<g;)v=v.then(S[m++],S[m++]);return v}g=i.length;let b=r;for(;m<g;){const S=i[m++],y=i[m++];try{b=S(b)}catch(a){y.call(this,a);break}}try{v=rd.call(this,b)}catch(S){return Promise.reject(S)}for(m=0,g=p.length;m<g;)v=v.then(p[m++],p[m++]);return v}getUri(t){t=Pr(this.defaults,t);const r=hp(t.baseURL,t.url,t.allowAbsoluteUrls);return ap(r,t.params,t.paramsSerializer)}};W.forEach(["delete","get","head","options"],function(t){Rr.prototype[t]=function(r,s){return this.request(Pr(s||{},{method:t,url:r,data:(s||{}).data}))}});W.forEach(["post","put","patch"],function(t){function r(s){return function(o,h,i){return this.request(Pr(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:h}))}}Rr.prototype[t]=r(),Rr.prototype[t+"Form"]=r(!0)});let _x=class gp{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(n=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](n);s._listeners=null}),this.promise.then=n=>{let o;const h=new Promise(i=>{s.subscribe(i),o=i}).then(n);return h.cancel=function(){s.unsubscribe(o)},h},t(function(o,h,i){s.reason||(s.reason=new ks(o,h,i),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=s=>{t.abort(s)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new gp(function(n){t=n}),cancel:t}}};function yx(e){return function(r){return e.apply(null,r)}}function xx(e){return W.isObject(e)&&e.isAxiosError===!0}const cl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cl).forEach(([e,t])=>{cl[t]=e});function _p(e){const t=new Rr(e),r=Xf(Rr.prototype.request,t);return W.extend(r,Rr.prototype,t,{allOwnKeys:!0}),W.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return _p(Pr(e,n))},r}const xe=_p(Dn);xe.Axios=Rr;xe.CanceledError=ks;xe.CancelToken=_x;xe.isCancel=up;xe.VERSION=vp;xe.toFormData=fo;xe.AxiosError=re;xe.Cancel=xe.CanceledError;xe.all=function(t){return Promise.all(t)};xe.spread=yx;xe.isAxiosError=xx;xe.mergeConfig=Pr;xe.AxiosHeaders=Xe;xe.formToJSON=e=>cp(W.isHTMLForm(e)?new FormData(e):e);xe.getAdapter=mp.getAdapter;xe.HttpStatusCode=cl;xe.default=xe;const{Axios:Gw,AxiosError:Xw,CanceledError:Jw,isCancel:Qw,CancelToken:Yw,VERSION:Zw,all:eb,Cancel:tb,isAxiosError:rb,spread:sb,toFormData:nb,AxiosHeaders:ib,HttpStatusCode:ob,formToJSON:ab,getAdapter:lb,mergeConfig:cb}=xe,J=xe.create({baseURL:"/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}});J.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));J.interceptors.response.use(e=>e,async e=>{var r;const t=e.config;if(((r=e.response)==null?void 0:r.status)===401&&!t._retry){t._retry=!0;const s=localStorage.getItem("refresh_token");if(s)try{const n=await xe.post("/api/v1/auth/refresh",{refresh_token:s}),{access_token:o,refresh_token:h}=n.data;return localStorage.setItem("access_token",o),localStorage.setItem("refresh_token",h),t.headers.Authorization=`Bearer ${o}`,J(t)}catch(n){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(n)}else localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login"}return Promise.reject(e)});function Sx(){const[e,t]=N.useState(null),[r,s]=N.useState(!0),{toast:n}=st();N.useEffect(()=>{o()},[]);const o=async()=>{s(!0);try{const v=await J.get("/dashboard/stats");t(v.data)}catch(v){console.error(":",v),n({title:"",description:"",variant:"error"})}finally{s(!1)}},h=v=>{switch(v){case"active":return"bg-green-100 text-green-800 border-green-300";case"inactive":return"bg-gray-100 text-gray-800 border-gray-300";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},i=v=>{switch(v){case"active":return"";case"inactive":return"";case"maintenance":return"";default:return v}},l=v=>({server:"",vm:"",network_device:"",application:""})[v]||v,p=v=>({create:"",update:"",delete:"",connect:"",view:""})[v]||v;return r?d.jsx("div",{className:"p-8",children:d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):e?d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:""}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.overview.total_assets})]}),d.jsx("div",{className:"text-4xl",children:""})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.overview.total_users})]}),d.jsx("div",{className:"text-4xl",children:""})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),d.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.overview.total_projects})]}),d.jsx("div",{className:"text-4xl",children:""})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),d.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.overview.total_groups})]}),d.jsx("div",{className:"text-4xl",children:""})]})}),d.jsx("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600 mb-1",children:""}),d.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:e.overview.total_roles})]}),d.jsx("div",{className:"text-4xl",children:""})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-3",children:Object.entries(e.assets_by_status).map(([v,m])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center",children:d.jsx("span",{className:`px-3 py-1 rounded border text-sm font-medium ${h(v)}`,children:i(v)})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:`h-2 rounded-full ${v==="active"?"bg-green-500":v==="inactive"?"bg-gray-500":"bg-yellow-500"}`,style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),d.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v))})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsxs("div",{className:"space-y-3",children:[Object.entries(e.assets_by_type).sort((v,m)=>m[1]-v[1]).map(([v,m])=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm font-medium",children:l(v)}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),d.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v)),Object.keys(e.assets_by_type).length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[Object.entries(e.project_distribution).sort((v,m)=>m[1]-v[1]).map(([v,m])=>d.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[d.jsx("span",{className:"text-sm font-medium",children:v}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:`${e.overview.total_assets>0?m/e.overview.total_assets*100:0}%`}})}),d.jsx("span",{className:"text-lg font-semibold w-12 text-right",children:m})]})]},v)),Object.keys(e.project_distribution).length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm border",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:e.recent_activities&&e.recent_activities.length>0?e.recent_activities.map(v=>d.jsx("div",{className:"p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:d.jsx("div",{className:"flex items-start justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:v.module}),d.jsx("span",{className:"text-sm font-medium",children:p(v.action)})]}),v.details&&d.jsx("p",{className:"text-xs text-gray-600 mt-1 truncate",children:v.details}),d.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(v.created_at).toLocaleString("zh-CN")})]})})},v.id)):d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})})]})]})]}):d.jsx("div",{className:"p-8",children:d.jsx("div",{className:"text-center py-12 text-red-500",children:""})})}function wx(e,t){const r=N.createContext(t),s=o=>{const{children:h,...i}=o,l=N.useMemo(()=>i,Object.values(i));return d.jsx(r.Provider,{value:l,children:h})};s.displayName=e+"Provider";function n(o){const h=N.useContext(r);if(h)return h;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,n]}function yp(e,t=[]){let r=[];function s(o,h){const i=N.createContext(h),l=r.length;r=[...r,h];const p=m=>{var u;const{scope:g,children:b,...S}=m,y=((u=g==null?void 0:g[e])==null?void 0:u[l])||i,a=N.useMemo(()=>S,Object.values(S));return d.jsx(y.Provider,{value:a,children:b})};p.displayName=o+"Provider";function v(m,g){var y;const b=((y=g==null?void 0:g[e])==null?void 0:y[l])||i,S=N.useContext(b);if(S)return S;if(h!==void 0)return h;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[p,v]}const n=()=>{const o=r.map(h=>N.createContext(h));return function(i){const l=(i==null?void 0:i[e])||o;return N.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return n.scopeName=e,[s,bx(n,...t)]}function bx(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const s=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const h=s.reduce((i,{useScope:l,scopeName:p})=>{const m=l(o)[`__scope${p}`];return{...i,...m}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:h}),[h])}};return r.scopeName=t.scopeName,r}function nd(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function _c(...e){return t=>{let r=!1;const s=e.map(n=>{const o=nd(n,t);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let n=0;n<s.length;n++){const o=s[n];typeof o=="function"?o():nd(e[n],null)}}}}function zt(...e){return N.useCallback(_c(...e),e)}function Ot(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e==null||e(n),r===!1||!n.defaultPrevented)return t==null?void 0:t(n)}}var Sn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Cx=vl[" useId ".trim().toString()]||(()=>{}),Ex=0;function ea(e){const[t,r]=N.useState(Cx());return Sn(()=>{r(s=>s??String(Ex++))},[e]),e||(t?`radix-${t}`:"")}var kx=vl[" useInsertionEffect ".trim().toString()]||Sn;function Rx({prop:e,defaultProp:t,onChange:r=()=>{},caller:s}){const[n,o,h]=jx({defaultProp:t,onChange:r}),i=e!==void 0,l=i?e:n;{const v=N.useRef(e!==void 0);N.useEffect(()=>{const m=v.current;m!==i&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=i},[i,s])}const p=N.useCallback(v=>{var m;if(i){const g=Nx(v)?v(e):v;g!==e&&((m=h.current)==null||m.call(h,g))}else o(v)},[i,e,o,h]);return[l,p]}function jx({defaultProp:e,onChange:t}){const[r,s]=N.useState(e),n=N.useRef(r),o=N.useRef(t);return kx(()=>{o.current=t},[t]),N.useEffect(()=>{var h;n.current!==r&&((h=o.current)==null||h.call(o,r),n.current=r)},[r,n]),[r,s,o]}function Nx(e){return typeof e=="function"}function Lx(e){const t=Dx(e),r=N.forwardRef((s,n)=>{const{children:o,...h}=s,i=N.Children.toArray(o),l=i.find(Px);if(l){const p=l.props.children,v=i.map(m=>m===l?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:m);return d.jsx(t,{...h,ref:n,children:N.isValidElement(p)?N.cloneElement(p,void 0,v):null})}return d.jsx(t,{...h,ref:n,children:o})});return r.displayName=`${e}.Slot`,r}function Dx(e){const t=N.forwardRef((r,s)=>{const{children:n,...o}=r;if(N.isValidElement(n)){const h=Ox(n),i=Tx(o,n.props);return n.type!==N.Fragment&&(i.ref=s?_c(s,h):h),N.cloneElement(n,i)}return N.Children.count(n)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ax=Symbol("radix.slottable");function Px(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ax}function Tx(e,t){const r={...t};for(const s in t){const n=e[s],o=t[s];/^on[A-Z]/.test(s)?n&&o?r[s]=(...i)=>{const l=o(...i);return n(...i),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...o}:s==="className"&&(r[s]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}function Ox(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Mx=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=Mx.reduce((e,t)=>{const r=Lx(`Primitive.${t}`),s=N.forwardRef((n,o)=>{const{asChild:h,...i}=n,l=h?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(l,{...i,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Bx(e,t){e&&ac.flushSync(()=>e.dispatchEvent(t))}function wn(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...r)=>{var s;return(s=t.current)==null?void 0:s.call(t,...r)},[])}function Ix(e,t=globalThis==null?void 0:globalThis.document){const r=wn(e);N.useEffect(()=>{const s=n=>{n.key==="Escape"&&r(n)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[r,t])}var Fx="DismissableLayer",ul="dismissableLayer.update",Hx="dismissableLayer.pointerDownOutside",Ux="dismissableLayer.focusOutside",id,xp=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sp=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:h,onDismiss:i,...l}=e,p=N.useContext(xp),[v,m]=N.useState(null),g=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=N.useState({}),S=zt(t,k=>m(k)),y=Array.from(p.layers),[a]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),u=y.indexOf(a),c=v?y.indexOf(v):-1,f=p.layersWithOutsidePointerEventsDisabled.size>0,_=c>=u,w=Wx(k=>{const x=k.target,C=[...p.branches].some(D=>D.contains(x));!_||C||(n==null||n(k),h==null||h(k),k.defaultPrevented||i==null||i())},g),E=Vx(k=>{const x=k.target;[...p.branches].some(D=>D.contains(x))||(o==null||o(k),h==null||h(k),k.defaultPrevented||i==null||i())},g);return Ix(k=>{c===p.layers.size-1&&(s==null||s(k),!k.defaultPrevented&&i&&(k.preventDefault(),i()))},g),N.useEffect(()=>{if(v)return r&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(id=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),od(),()=>{r&&p.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=id)}},[v,g,r,p]),N.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),od())},[v,p]),N.useEffect(()=>{const k=()=>b({});return document.addEventListener(ul,k),()=>document.removeEventListener(ul,k)},[]),d.jsx($t.div,{...l,ref:S,style:{pointerEvents:f?_?"auto":"none":void 0,...e.style},onFocusCapture:Ot(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ot(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ot(e.onPointerDownCapture,w.onPointerDownCapture)})});Sp.displayName=Fx;var zx="DismissableLayerBranch",$x=N.forwardRef((e,t)=>{const r=N.useContext(xp),s=N.useRef(null),n=zt(t,s);return N.useEffect(()=>{const o=s.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),d.jsx($t.div,{...e,ref:n})});$x.displayName=zx;function Wx(e,t=globalThis==null?void 0:globalThis.document){const r=wn(e),s=N.useRef(!1),n=N.useRef(()=>{});return N.useEffect(()=>{const o=i=>{if(i.target&&!s.current){let l=function(){wp(Hx,r,p,{discrete:!0})};const p={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",n.current),n.current=l,t.addEventListener("click",n.current,{once:!0})):l()}else t.removeEventListener("click",n.current);s.current=!1},h=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(h),t.removeEventListener("pointerdown",o),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>s.current=!0}}function Vx(e,t=globalThis==null?void 0:globalThis.document){const r=wn(e),s=N.useRef(!1);return N.useEffect(()=>{const n=o=>{o.target&&!s.current&&wp(Ux,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",n),()=>t.removeEventListener("focusin",n)},[t,r]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function od(){const e=new CustomEvent(ul);document.dispatchEvent(e)}function wp(e,t,r,{discrete:s}){const n=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),s?Bx(n,o):n.dispatchEvent(o)}var ta="focusScope.autoFocusOnMount",ra="focusScope.autoFocusOnUnmount",ad={bubbles:!1,cancelable:!0},Kx="FocusScope",bp=N.forwardRef((e,t)=>{const{loop:r=!1,trapped:s=!1,onMountAutoFocus:n,onUnmountAutoFocus:o,...h}=e,[i,l]=N.useState(null),p=wn(n),v=wn(o),m=N.useRef(null),g=zt(t,y=>l(y)),b=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let y=function(f){if(b.paused||!i)return;const _=f.target;i.contains(_)?m.current=_:Jt(m.current,{select:!0})},a=function(f){if(b.paused||!i)return;const _=f.relatedTarget;_!==null&&(i.contains(_)||Jt(m.current,{select:!0}))},u=function(f){if(document.activeElement===document.body)for(const w of f)w.removedNodes.length>0&&Jt(i)};document.addEventListener("focusin",y),document.addEventListener("focusout",a);const c=new MutationObserver(u);return i&&c.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",a),c.disconnect()}}},[s,i,b.paused]),N.useEffect(()=>{if(i){cd.add(b);const y=document.activeElement;if(!i.contains(y)){const u=new CustomEvent(ta,ad);i.addEventListener(ta,p),i.dispatchEvent(u),u.defaultPrevented||(qx(Yx(Cp(i)),{select:!0}),document.activeElement===y&&Jt(i))}return()=>{i.removeEventListener(ta,p),setTimeout(()=>{const u=new CustomEvent(ra,ad);i.addEventListener(ra,v),i.dispatchEvent(u),u.defaultPrevented||Jt(y??document.body,{select:!0}),i.removeEventListener(ra,v),cd.remove(b)},0)}}},[i,p,v,b]);const S=N.useCallback(y=>{if(!r&&!s||b.paused)return;const a=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,u=document.activeElement;if(a&&u){const c=y.currentTarget,[f,_]=Gx(c);f&&_?!y.shiftKey&&u===_?(y.preventDefault(),r&&Jt(f,{select:!0})):y.shiftKey&&u===f&&(y.preventDefault(),r&&Jt(_,{select:!0})):u===c&&y.preventDefault()}},[r,s,b.paused]);return d.jsx($t.div,{tabIndex:-1,...h,ref:g,onKeyDown:S})});bp.displayName=Kx;function qx(e,{select:t=!1}={}){const r=document.activeElement;for(const s of e)if(Jt(s,{select:t}),document.activeElement!==r)return}function Gx(e){const t=Cp(e),r=ld(t,e),s=ld(t.reverse(),e);return[r,s]}function Cp(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ld(e,t){for(const r of e)if(!Xx(r,{upTo:t}))return r}function Xx(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Jx(e){return e instanceof HTMLInputElement&&"select"in e}function Jt(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Jx(e)&&t&&e.select()}}var cd=Qx();function Qx(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ud(e,t),e.unshift(t)},remove(t){var r;e=ud(e,t),(r=e[0])==null||r.resume()}}}function ud(e,t){const r=[...e],s=r.indexOf(t);return s!==-1&&r.splice(s,1),r}function Yx(e){return e.filter(t=>t.tagName!=="A")}var Zx="Portal",Ep=N.forwardRef((e,t)=>{var i;const{container:r,...s}=e,[n,o]=N.useState(!1);Sn(()=>o(!0),[]);const h=r||n&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return h?r_.createPortal(d.jsx($t.div,{...s,ref:t}),h):null});Ep.displayName=Zx;function eS(e,t){return N.useReducer((r,s)=>t[r][s]??r,e)}var mo=e=>{const{present:t,children:r}=e,s=tS(t),n=typeof r=="function"?r({present:s.isPresent}):N.Children.only(r),o=zt(s.ref,rS(n));return typeof r=="function"||s.isPresent?N.cloneElement(n,{ref:o}):null};mo.displayName="Presence";function tS(e){const[t,r]=N.useState(),s=N.useRef(null),n=N.useRef(e),o=N.useRef("none"),h=e?"mounted":"unmounted",[i,l]=eS(h,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const p=Qn(s.current);o.current=i==="mounted"?p:"none"},[i]),Sn(()=>{const p=s.current,v=n.current;if(v!==e){const g=o.current,b=Qn(p);e?l("MOUNT"):b==="none"||(p==null?void 0:p.display)==="none"?l("UNMOUNT"):l(v&&g!==b?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,l]),Sn(()=>{if(t){let p;const v=t.ownerDocument.defaultView??window,m=b=>{const y=Qn(s.current).includes(CSS.escape(b.animationName));if(b.target===t&&y&&(l("ANIMATION_END"),!n.current)){const a=t.style.animationFillMode;t.style.animationFillMode="forwards",p=v.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=a)})}},g=b=>{b.target===t&&(o.current=Qn(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{v.clearTimeout(p),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:N.useCallback(p=>{s.current=p?getComputedStyle(p):null,r(p)},[])}}function Qn(e){return(e==null?void 0:e.animationName)||"none"}function rS(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sa=0;function sS(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??dd()),document.body.insertAdjacentElement("beforeend",e[1]??dd()),sa++,()=>{sa===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),sa--}},[])}function dd(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var kt=function(){return kt=Object.assign||function(t){for(var r,s=1,n=arguments.length;s<n;s++){r=arguments[s];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},kt.apply(this,arguments)};function kp(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(r[s[n]]=e[s[n]]);return r}function nS(e,t,r){if(r||arguments.length===2)for(var s=0,n=t.length,o;s<n;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var gi="right-scroll-bar-position",_i="width-before-scroll-bar",iS="with-scroll-bars-hidden",oS="--removed-body-scroll-bar-size";function na(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function aS(e,t){var r=N.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(s){var n=r.value;n!==s&&(r.value=s,r.callback(s,n))}}}})[0];return r.callback=t,r.facade}var lS=typeof window<"u"?N.useLayoutEffect:N.useEffect,hd=new WeakMap;function cS(e,t){var r=aS(null,function(s){return e.forEach(function(n){return na(n,s)})});return lS(function(){var s=hd.get(r);if(s){var n=new Set(s),o=new Set(e),h=r.current;n.forEach(function(i){o.has(i)||na(i,null)}),o.forEach(function(i){n.has(i)||na(i,h)})}hd.set(r,e)},[e]),r}function uS(e){return e}function dS(e,t){t===void 0&&(t=uS);var r=[],s=!1,n={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var h=t(o,s);return r.push(h),function(){r=r.filter(function(i){return i!==h})}},assignSyncMedium:function(o){for(s=!0;r.length;){var h=r;r=[],h.forEach(o)}r={push:function(i){return o(i)},filter:function(){return r}}},assignMedium:function(o){s=!0;var h=[];if(r.length){var i=r;r=[],i.forEach(o),h=r}var l=function(){var v=h;h=[],v.forEach(o)},p=function(){return Promise.resolve().then(l)};p(),r={push:function(v){h.push(v),p()},filter:function(v){return h=h.filter(v),r}}}};return n}function hS(e){e===void 0&&(e={});var t=dS(null);return t.options=kt({async:!0,ssr:!1},e),t}var Rp=function(e){var t=e.sideCar,r=kp(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,kt({},r))};Rp.isSideCarExport=!0;function fS(e,t){return e.useMedium(t),Rp}var jp=hS(),ia=function(){},vo=N.forwardRef(function(e,t){var r=N.useRef(null),s=N.useState({onScrollCapture:ia,onWheelCapture:ia,onTouchMoveCapture:ia}),n=s[0],o=s[1],h=e.forwardProps,i=e.children,l=e.className,p=e.removeScrollBar,v=e.enabled,m=e.shards,g=e.sideCar,b=e.noRelative,S=e.noIsolation,y=e.inert,a=e.allowPinchZoom,u=e.as,c=u===void 0?"div":u,f=e.gapMode,_=kp(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),w=g,E=cS([r,t]),k=kt(kt({},_),n);return N.createElement(N.Fragment,null,v&&N.createElement(w,{sideCar:jp,removeScrollBar:p,shards:m,noRelative:b,noIsolation:S,inert:y,setCallbacks:o,allowPinchZoom:!!a,lockRef:r,gapMode:f}),h?N.cloneElement(N.Children.only(i),kt(kt({},k),{ref:E})):N.createElement(c,kt({},k,{className:l,ref:E}),i))});vo.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};vo.classNames={fullWidth:_i,zeroRight:gi};var pS=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=pS();return t&&e.setAttribute("nonce",t),e}function vS(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function gS(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _S=function(){var e=0,t=null;return{add:function(r){e==0&&(t=mS())&&(vS(t,r),gS(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},yS=function(){var e=_S();return function(t,r){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Np=function(){var e=yS(),t=function(r){var s=r.styles,n=r.dynamic;return e(s,n),null};return t},xS={left:0,top:0,right:0,gap:0},oa=function(e){return parseInt(e||"",10)||0},SS=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],n=t[e==="padding"?"paddingRight":"marginRight"];return[oa(r),oa(s),oa(n)]},wS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return xS;var t=SS(e),r=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-r+t[2]-t[0])}},bS=Np(),ls="data-scroll-locked",CS=function(e,t,r,s){var n=e.left,o=e.top,h=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(iS,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(i,"px ").concat(s,`;
  }
  body[`).concat(ls,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),r==="margin"&&`
    padding-left: `.concat(n,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(h,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(s,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gi,` {
    right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(_i,` {
    margin-right: `).concat(i,"px ").concat(s,`;
  }
  
  .`).concat(gi," .").concat(gi,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(_i," .").concat(_i,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ls,`] {
    `).concat(oS,": ").concat(i,`px;
  }
`)},fd=function(){var e=parseInt(document.body.getAttribute(ls)||"0",10);return isFinite(e)?e:0},ES=function(){N.useEffect(function(){return document.body.setAttribute(ls,(fd()+1).toString()),function(){var e=fd()-1;e<=0?document.body.removeAttribute(ls):document.body.setAttribute(ls,e.toString())}},[])},kS=function(e){var t=e.noRelative,r=e.noImportant,s=e.gapMode,n=s===void 0?"margin":s;ES();var o=N.useMemo(function(){return wS(n)},[n]);return N.createElement(bS,{styles:CS(o,!t,n,r?"":"!important")})},dl=!1;if(typeof window<"u")try{var Yn=Object.defineProperty({},"passive",{get:function(){return dl=!0,!0}});window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{dl=!1}var Hr=dl?{passive:!1}:!1,RS=function(e){return e.tagName==="TEXTAREA"},Lp=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!RS(e)&&r[t]==="visible")},jS=function(e){return Lp(e,"overflowY")},NS=function(e){return Lp(e,"overflowX")},pd=function(e,t){var r=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var n=Dp(e,s);if(n){var o=Ap(e,s),h=o[1],i=o[2];if(h>i)return!0}s=s.parentNode}while(s&&s!==r.body);return!1},LS=function(e){var t=e.scrollTop,r=e.scrollHeight,s=e.clientHeight;return[t,r,s]},DS=function(e){var t=e.scrollLeft,r=e.scrollWidth,s=e.clientWidth;return[t,r,s]},Dp=function(e,t){return e==="v"?jS(t):NS(t)},Ap=function(e,t){return e==="v"?LS(t):DS(t)},AS=function(e,t){return e==="h"&&t==="rtl"?-1:1},PS=function(e,t,r,s,n){var o=AS(e,window.getComputedStyle(t).direction),h=o*s,i=r.target,l=t.contains(i),p=!1,v=h>0,m=0,g=0;do{if(!i)break;var b=Ap(e,i),S=b[0],y=b[1],a=b[2],u=y-a-o*S;(S||u)&&Dp(e,i)&&(m+=u,g+=S);var c=i.parentNode;i=c&&c.nodeType===Node.DOCUMENT_FRAGMENT_NODE?c.host:c}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(v&&Math.abs(m)<1||!v&&Math.abs(g)<1)&&(p=!0),p},Zn=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},md=function(e){return[e.deltaX,e.deltaY]},vd=function(e){return e&&"current"in e?e.current:e},TS=function(e,t){return e[0]===t[0]&&e[1]===t[1]},OS=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MS=0,Ur=[];function BS(e){var t=N.useRef([]),r=N.useRef([0,0]),s=N.useRef(),n=N.useState(MS++)[0],o=N.useState(Np)[0],h=N.useRef(e);N.useEffect(function(){h.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var y=nS([e.lockRef.current],(e.shards||[]).map(vd),!0).filter(Boolean);return y.forEach(function(a){return a.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),y.forEach(function(a){return a.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var i=N.useCallback(function(y,a){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!h.current.allowPinchZoom;var u=Zn(y),c=r.current,f="deltaX"in y?y.deltaX:c[0]-u[0],_="deltaY"in y?y.deltaY:c[1]-u[1],w,E=y.target,k=Math.abs(f)>Math.abs(_)?"h":"v";if("touches"in y&&k==="h"&&E.type==="range")return!1;var x=window.getSelection(),C=x&&x.anchorNode,D=C?C===E||C.contains(E):!1;if(D)return!1;var A=pd(k,E);if(!A)return!0;if(A?w=k:(w=k==="v"?"h":"v",A=pd(k,E)),!A)return!1;if(!s.current&&"changedTouches"in y&&(f||_)&&(s.current=w),!w)return!0;var j=s.current||w;return PS(j,a,y,j==="h"?f:_)},[]),l=N.useCallback(function(y){var a=y;if(!(!Ur.length||Ur[Ur.length-1]!==o)){var u="deltaY"in a?md(a):Zn(a),c=t.current.filter(function(w){return w.name===a.type&&(w.target===a.target||a.target===w.shadowParent)&&TS(w.delta,u)})[0];if(c&&c.should){a.cancelable&&a.preventDefault();return}if(!c){var f=(h.current.shards||[]).map(vd).filter(Boolean).filter(function(w){return w.contains(a.target)}),_=f.length>0?i(a,f[0]):!h.current.noIsolation;_&&a.cancelable&&a.preventDefault()}}},[]),p=N.useCallback(function(y,a,u,c){var f={name:y,delta:a,target:u,should:c,shadowParent:IS(u)};t.current.push(f),setTimeout(function(){t.current=t.current.filter(function(_){return _!==f})},1)},[]),v=N.useCallback(function(y){r.current=Zn(y),s.current=void 0},[]),m=N.useCallback(function(y){p(y.type,md(y),y.target,i(y,e.lockRef.current))},[]),g=N.useCallback(function(y){p(y.type,Zn(y),y.target,i(y,e.lockRef.current))},[]);N.useEffect(function(){return Ur.push(o),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Hr),document.addEventListener("touchmove",l,Hr),document.addEventListener("touchstart",v,Hr),function(){Ur=Ur.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Hr),document.removeEventListener("touchmove",l,Hr),document.removeEventListener("touchstart",v,Hr)}},[]);var b=e.removeScrollBar,S=e.inert;return N.createElement(N.Fragment,null,S?N.createElement(o,{styles:OS(n)}):null,b?N.createElement(kS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function IS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const FS=fS(jp,BS);var Pp=N.forwardRef(function(e,t){return N.createElement(vo,kt({},e,{ref:t,sideCar:FS}))});Pp.classNames=vo.classNames;var HS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},zr=new WeakMap,ei=new WeakMap,ti={},aa=0,Tp=function(e){return e&&(e.host||Tp(e.parentNode))},US=function(e,t){return t.map(function(r){if(e.contains(r))return r;var s=Tp(r);return s&&e.contains(s)?s:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},zS=function(e,t,r,s){var n=US(t,Array.isArray(e)?e:[e]);ti[r]||(ti[r]=new WeakMap);var o=ti[r],h=[],i=new Set,l=new Set(n),p=function(m){!m||i.has(m)||(i.add(m),p(m.parentNode))};n.forEach(p);var v=function(m){!m||l.has(m)||Array.prototype.forEach.call(m.children,function(g){if(i.has(g))v(g);else try{var b=g.getAttribute(s),S=b!==null&&b!=="false",y=(zr.get(g)||0)+1,a=(o.get(g)||0)+1;zr.set(g,y),o.set(g,a),h.push(g),y===1&&S&&ei.set(g,!0),a===1&&g.setAttribute(r,"true"),S||g.setAttribute(s,"true")}catch(u){console.error("aria-hidden: cannot operate on ",g,u)}})};return v(t),i.clear(),aa++,function(){h.forEach(function(m){var g=zr.get(m)-1,b=o.get(m)-1;zr.set(m,g),o.set(m,b),g||(ei.has(m)||m.removeAttribute(s),ei.delete(m)),b||m.removeAttribute(r)}),aa--,aa||(zr=new WeakMap,zr=new WeakMap,ei=new WeakMap,ti={})}},$S=function(e,t,r){r===void 0&&(r="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),n=HS(e);return n?(s.push.apply(s,Array.from(n.querySelectorAll("[aria-live], script"))),zS(s,n,r,"aria-hidden")):function(){return null}};function WS(e){const t=VS(e),r=N.forwardRef((s,n)=>{const{children:o,...h}=s,i=N.Children.toArray(o),l=i.find(qS);if(l){const p=l.props.children,v=i.map(m=>m===l?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:m);return d.jsx(t,{...h,ref:n,children:N.isValidElement(p)?N.cloneElement(p,void 0,v):null})}return d.jsx(t,{...h,ref:n,children:o})});return r.displayName=`${e}.Slot`,r}function VS(e){const t=N.forwardRef((r,s)=>{const{children:n,...o}=r;if(N.isValidElement(n)){const h=XS(n),i=GS(o,n.props);return n.type!==N.Fragment&&(i.ref=s?_c(s,h):h),N.cloneElement(n,i)}return N.Children.count(n)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KS=Symbol("radix.slottable");function qS(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KS}function GS(e,t){const r={...t};for(const s in t){const n=e[s],o=t[s];/^on[A-Z]/.test(s)?n&&o?r[s]=(...i)=>{const l=o(...i);return n(...i),l}:n&&(r[s]=n):s==="style"?r[s]={...n,...o}:s==="className"&&(r[s]=[n,o].filter(Boolean).join(" "))}return{...e,...r}}function XS(e){var s,n;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var go="Dialog",[Op,Mp]=yp(go),[JS,xt]=Op(go),Bp=e=>{const{__scopeDialog:t,children:r,open:s,defaultOpen:n,onOpenChange:o,modal:h=!0}=e,i=N.useRef(null),l=N.useRef(null),[p,v]=Rx({prop:s,defaultProp:n??!1,onChange:o,caller:go});return d.jsx(JS,{scope:t,triggerRef:i,contentRef:l,contentId:ea(),titleId:ea(),descriptionId:ea(),open:p,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(m=>!m),[v]),modal:h,children:r})};Bp.displayName=go;var Ip="DialogTrigger",Fp=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=xt(Ip,r),o=zt(t,n.triggerRef);return d.jsx($t.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Sc(n.open),...s,ref:o,onClick:Ot(e.onClick,n.onOpenToggle)})});Fp.displayName=Ip;var yc="DialogPortal",[QS,Hp]=Op(yc,{forceMount:void 0}),Up=e=>{const{__scopeDialog:t,forceMount:r,children:s,container:n}=e,o=xt(yc,t);return d.jsx(QS,{scope:t,forceMount:r,children:N.Children.map(s,h=>d.jsx(mo,{present:r||o.open,children:d.jsx(Ep,{asChild:!0,container:n,children:h})}))})};Up.displayName=yc;var Vi="DialogOverlay",zp=N.forwardRef((e,t)=>{const r=Hp(Vi,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,o=xt(Vi,e.__scopeDialog);return o.modal?d.jsx(mo,{present:s||o.open,children:d.jsx(ZS,{...n,ref:t})}):null});zp.displayName=Vi;var YS=WS("DialogOverlay.RemoveScroll"),ZS=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=xt(Vi,r);return d.jsx(Pp,{as:YS,allowPinchZoom:!0,shards:[n.contentRef],children:d.jsx($t.div,{"data-state":Sc(n.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Tr="DialogContent",$p=N.forwardRef((e,t)=>{const r=Hp(Tr,e.__scopeDialog),{forceMount:s=r.forceMount,...n}=e,o=xt(Tr,e.__scopeDialog);return d.jsx(mo,{present:s||o.open,children:o.modal?d.jsx(ew,{...n,ref:t}):d.jsx(tw,{...n,ref:t})})});$p.displayName=Tr;var ew=N.forwardRef((e,t)=>{const r=xt(Tr,e.__scopeDialog),s=N.useRef(null),n=zt(t,r.contentRef,s);return N.useEffect(()=>{const o=s.current;if(o)return $S(o)},[]),d.jsx(Wp,{...e,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ot(e.onCloseAutoFocus,o=>{var h;o.preventDefault(),(h=r.triggerRef.current)==null||h.focus()}),onPointerDownOutside:Ot(e.onPointerDownOutside,o=>{const h=o.detail.originalEvent,i=h.button===0&&h.ctrlKey===!0;(h.button===2||i)&&o.preventDefault()}),onFocusOutside:Ot(e.onFocusOutside,o=>o.preventDefault())})}),tw=N.forwardRef((e,t)=>{const r=xt(Tr,e.__scopeDialog),s=N.useRef(!1),n=N.useRef(!1);return d.jsx(Wp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var h,i;(h=e.onCloseAutoFocus)==null||h.call(e,o),o.defaultPrevented||(s.current||(i=r.triggerRef.current)==null||i.focus(),o.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:o=>{var l,p;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const h=o.target;((p=r.triggerRef.current)==null?void 0:p.contains(h))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),Wp=N.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:o,...h}=e,i=xt(Tr,r),l=N.useRef(null),p=zt(t,l);return sS(),d.jsxs(d.Fragment,{children:[d.jsx(bp,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:o,children:d.jsx(Sp,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Sc(i.open),...h,ref:p,onDismiss:()=>i.onOpenChange(!1)})}),d.jsxs(d.Fragment,{children:[d.jsx(sw,{titleId:i.titleId}),d.jsx(iw,{contentRef:l,descriptionId:i.descriptionId})]})]})}),xc="DialogTitle",Vp=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=xt(xc,r);return d.jsx($t.h2,{id:n.titleId,...s,ref:t})});Vp.displayName=xc;var Kp="DialogDescription",qp=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=xt(Kp,r);return d.jsx($t.p,{id:n.descriptionId,...s,ref:t})});qp.displayName=Kp;var Gp="DialogClose",Xp=N.forwardRef((e,t)=>{const{__scopeDialog:r,...s}=e,n=xt(Gp,r);return d.jsx($t.button,{type:"button",...s,ref:t,onClick:Ot(e.onClick,()=>n.onOpenChange(!1))})});Xp.displayName=Gp;function Sc(e){return e?"open":"closed"}var Jp="DialogTitleWarning",[rw,Qp]=wx(Jp,{contentName:Tr,titleName:xc,docsSlug:"dialog"}),sw=({titleId:e})=>{const t=Qp(Jp),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},nw="DialogDescriptionWarning",iw=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Qp(nw).contentName}}.`;return N.useEffect(()=>{var o;const n=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&n&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},ow=Bp,aw=Fp,lw=Up,cw=zp,uw=$p,dw=Vp,hw=qp,Yp=Xp,fw=Symbol("radix.slottable");function pw(e){const t=({children:r})=>d.jsx(d.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=fw,t}var Zp="AlertDialog",[mw]=yp(Zp,[Mp]),Wt=Mp(),em=e=>{const{__scopeAlertDialog:t,...r}=e,s=Wt(t);return d.jsx(ow,{...s,...r,modal:!0})};em.displayName=Zp;var vw="AlertDialogTrigger",gw=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Wt(r);return d.jsx(aw,{...n,...s,ref:t})});gw.displayName=vw;var _w="AlertDialogPortal",tm=e=>{const{__scopeAlertDialog:t,...r}=e,s=Wt(t);return d.jsx(lw,{...s,...r})};tm.displayName=_w;var yw="AlertDialogOverlay",rm=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Wt(r);return d.jsx(cw,{...n,...s,ref:t})});rm.displayName=yw;var cs="AlertDialogContent",[xw,Sw]=mw(cs),ww=pw("AlertDialogContent"),sm=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:s,...n}=e,o=Wt(r),h=N.useRef(null),i=zt(t,h),l=N.useRef(null);return d.jsx(rw,{contentName:cs,titleName:nm,docsSlug:"alert-dialog",children:d.jsx(xw,{scope:r,cancelRef:l,children:d.jsxs(uw,{role:"alertdialog",...o,...n,ref:i,onOpenAutoFocus:Ot(n.onOpenAutoFocus,p=>{var v;p.preventDefault(),(v=l.current)==null||v.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[d.jsx(ww,{children:s}),d.jsx(Cw,{contentRef:h})]})})})});sm.displayName=cs;var nm="AlertDialogTitle",im=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Wt(r);return d.jsx(dw,{...n,...s,ref:t})});im.displayName=nm;var om="AlertDialogDescription",am=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Wt(r);return d.jsx(hw,{...n,...s,ref:t})});am.displayName=om;var bw="AlertDialogAction",lm=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,n=Wt(r);return d.jsx(Yp,{...n,...s,ref:t})});lm.displayName=bw;var cm="AlertDialogCancel",um=N.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...s}=e,{cancelRef:n}=Sw(cm,r),o=Wt(r),h=zt(t,n);return d.jsx(Yp,{...o,...s,ref:h})});um.displayName=cm;var Cw=({contentRef:e})=>{const t=`\`${cs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${cs}\` by passing a \`${om}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${cs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var s;document.getElementById((s=e.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Ew=em,kw=tm,dm=rm,hm=sm,fm=lm,pm=um,mm=im,vm=am;const Rw=Ew,jw=kw,gm=N.forwardRef(({className:e,...t},r)=>d.jsx(dm,{className:lt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));gm.displayName=dm.displayName;const _m=N.forwardRef(({className:e,...t},r)=>d.jsxs(jw,{children:[d.jsx(gm,{}),d.jsx(hm,{ref:r,className:lt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",e),...t})]}));_m.displayName=hm.displayName;const ym=({className:e,...t})=>d.jsx("div",{className:lt("flex flex-col space-y-2 text-center sm:text-left",e),...t});ym.displayName="AlertDialogHeader";const xm=({className:e,...t})=>d.jsx("div",{className:lt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});xm.displayName="AlertDialogFooter";const Sm=N.forwardRef(({className:e,...t},r)=>d.jsx(mm,{ref:r,className:lt("text-lg font-semibold",e),...t}));Sm.displayName=mm.displayName;const wm=N.forwardRef(({className:e,...t},r)=>d.jsx(vm,{ref:r,className:lt("text-sm text-gray-500",e),...t}));wm.displayName=vm.displayName;const bm=N.forwardRef(({className:e,...t},r)=>d.jsx(fm,{ref:r,className:lt("inline-flex h-10 items-center justify-center rounded-md bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t}));bm.displayName=fm.displayName;const Cm=N.forwardRef(({className:e,...t},r)=>d.jsx(pm,{ref:r,className:lt("mt-2 inline-flex h-10 items-center justify-center rounded-md border border-gray-200 bg-white px-4 py-2 text-sm font-semibold transition-colors hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 sm:mt-0",e),...t}));Cm.displayName=pm.displayName;function Ir(){const[e,t]=N.useState(!1),[r,s]=N.useState(null),n=(i,l)=>new Promise(p=>{s({title:i,description:l,onConfirm:()=>{p(!0),t(!1)}}),t(!0)}),o=()=>{t(!1),s(null)};return{confirm:n,ConfirmDialog:()=>r?d.jsx(Rw,{open:e,onOpenChange:i=>{i||o()},children:d.jsxs(_m,{children:[d.jsxs(ym,{children:[d.jsx(Sm,{children:r.title}),r.description&&d.jsx(wm,{children:r.description})]}),d.jsxs(xm,{children:[d.jsx(Cm,{onClick:o,children:""}),d.jsx(bm,{onClick:r.onConfirm,children:""})]})]})}):null}}function Nw(){const e=Br(),[t,r]=N.useState([]),[s,n]=N.useState(!0),[o,h]=N.useState(1),[i,l]=N.useState(0),[p,v]=N.useState(!1),[m,g]=N.useState(null),[b,S]=N.useState({name:"",description:"",status:"active"}),{toast:y}=st(),{confirm:a,ConfirmDialog:u}=Ir();N.useEffect(()=>{c()},[o]);const c=async()=>{n(!0);try{const C=await J.get(`/projects?page=${o}&limit=20`);r(C.data.data||[]),l(C.data.total||0)}catch(C){console.error(":",C),y({title:"",description:"",variant:"error"})}finally{n(!1)}},f=()=>{g(null),S({name:"",description:"",status:"active"}),v(!0)},_=C=>{g(C),S({name:C.name,description:C.description||"",status:C.status}),v(!0)},w=async C=>{var D,A;C.preventDefault();try{m?(await J.put(`/projects/${m.id}`,b),y({title:"",description:"",variant:"success"})):(await J.post("/projects",b),y({title:"",description:"",variant:"success"})),v(!1),c()}catch(j){y({title:"",description:((A=(D=j.response)==null?void 0:D.data)==null?void 0:A.error)||"",variant:"error"})}},E=async C=>{var A,j;if(await a("",""))try{await J.delete(`/projects/${C}`),y({title:"",description:"",variant:"success"}),c()}catch(T){y({title:"",description:((j=(A=T.response)==null?void 0:A.data)==null?void 0:j.error)||"",variant:"error"})}},k=C=>{switch(C){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=C=>{switch(C){case"active":return"";case"inactive":return"";case"archived":return"";default:return C}};return d.jsxs(d.Fragment,{children:[d.jsx(u,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:""}),d.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]}),p&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:m?"":""}),d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" *"}),d.jsx("input",{type:"text",value:b.name,onChange:C=>S({...b,name:C.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("textarea",{value:b.description,onChange:C=>S({...b,description:C.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsxs("select",{value:b.status,onChange:C=>S({...b,status:C.target.value}),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"active",children:""}),d.jsx("option",{value:"inactive",children:""}),d.jsx("option",{value:"archived",children:""})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),s?d.jsx("div",{className:"text-center py-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-white border rounded overflow-hidden",children:d.jsxs("table",{className:"min-w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:""}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:""}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:""}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:""}),d.jsx("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:""})]})}),d.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(C=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3",children:d.jsx("div",{className:"font-medium",children:C.name})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:C.description||"-"}),d.jsx("td",{className:"px-4 py-3",children:d.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${k(C.status)}`,children:x(C.status)})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(C.created_at).toLocaleString("zh-CN")}),d.jsx("td",{className:"px-4 py-3",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>e(`/projects/${C.id}/permissions`),className:"px-2 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:""}),d.jsx("button",{onClick:()=>e(`/assets?project=${C.id}`),className:"px-2 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:""}),d.jsx("button",{onClick:()=>_(C),className:"px-2 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:""}),d.jsx("button",{onClick:()=>E(C.id),className:"px-2 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",children:""})]})})]},C.id))})]})}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:[" ",i,"  ",o," "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>h(C=>Math.max(1,C-1)),disabled:o===1,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""}),d.jsx("button",{onClick:()=>h(C=>C+1),disabled:o*20>=i,className:"px-4 py-2 border rounded disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})]})]})]})}function Lw({asset:e,onSuccess:t,onCancel:r}){const[s,n]=N.useState([]),[o,h]=N.useState({type:(e==null?void 0:e.type)||"",name:(e==null?void 0:e.name)||"",status:(e==null?void 0:e.status)||"",project_id:(e==null?void 0:e.project_id)||void 0,ssh_port:(e==null?void 0:e.ssh_port)||22,metadata:(e==null?void 0:e.metadata)||""}),[i,l]=N.useState(!1),{toast:p}=st();N.useEffect(()=>{v()},[]);const v=async()=>{try{const g=await J.get("/projects?page=1&limit=1000");n(g.data.data||[])}catch(g){console.error(":",g)}},m=async g=>{var b,S;g.preventDefault(),l(!0);try{e!=null&&e.id?await J.put(`/assets/${e.id}`,o):await J.post("/assets",o),t(),p({title:"",description:e!=null&&e.id?"":"",variant:"success"})}catch(y){console.error("Failed to save asset:",y),p({title:"",description:((S=(b=y.response)==null?void 0:b.data)==null?void 0:S.error)||"",variant:"error"})}finally{l(!1)}};return d.jsxs("form",{onSubmit:m,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:" *"}),d.jsxs("select",{value:o.type,onChange:g=>h({...o,type:g.target.value}),required:!0,className:"w-full px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"server",children:""}),d.jsx("option",{value:"vm",children:""}),d.jsx("option",{value:"network_device",children:""}),d.jsx("option",{value:"application",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:" *"}),d.jsx("input",{type:"text",value:o.name,onChange:g=>h({...o,name:g.target.value}),required:!0,className:"w-full px-4 py-2 border rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:" *"}),d.jsxs("select",{value:o.status,onChange:g=>h({...o,status:g.target.value}),required:!0,className:"w-full px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"active",children:""}),d.jsx("option",{value:"inactive",children:""}),d.jsx("option",{value:"maintenance",children:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsxs("select",{value:o.project_id||"",onChange:g=>h({...o,project_id:g.target.value||void 0}),className:"w-full px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),s.map(g=>d.jsx("option",{value:g.id,children:g.name},g.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"SSH "}),d.jsx("input",{type:"number",value:o.ssh_port||22,onChange:g=>h({...o,ssh_port:parseInt(g.target.value)||22}),className:"w-full px-4 py-2 border rounded",min:"1",max:"65535",placeholder:"22"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:"JSON"}),d.jsx("textarea",{value:o.metadata,onChange:g=>h({...o,metadata:g.target.value}),className:"w-full px-4 py-2 border rounded",rows:4,placeholder:'{"key": "value"}'})]}),d.jsxs("div",{className:"flex gap-2 justify-end",children:[d.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 border rounded",children:""}),d.jsx("button",{type:"submit",disabled:i,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:opacity-50",children:i?"...":""})]})]})}function Dw(){const e=Br(),[t,r]=N.useState([]),[s,n]=N.useState([]),[o,h]=N.useState(!0),[i,l]=N.useState(1),[p,v]=N.useState(0),[m,g]=N.useState({type:"",status:"",project_id:""}),[b,S]=N.useState(!1),[y,a]=N.useState(null),[u,c]=N.useState("group");N.useEffect(()=>{f(),_()},[i,m]);const f=async()=>{try{const x=await J.get("/projects?page=1&limit=1000");n(x.data.data||[])}catch(x){console.error(":",x)}},_=async()=>{h(!0);try{const x=new URLSearchParams({page:i.toString(),limit:"1000",...Object.fromEntries(Object.entries(m).filter(([D,A])=>A!==""))}),C=await J.get(`/assets?${x}`);r(C.data.data),v(C.data.total)}catch(x){console.error("Failed to fetch assets:",x)}finally{h(!1)}},w=t.reduce((x,C)=>{var j;const D=C.project_id||"unassigned",A=((j=C.project)==null?void 0:j.name)||"";return x[D]||(x[D]={project:C.project||{id:D,name:A},assets:[]}),x[D].assets.push(C),x},{}),E=Object.values(w).sort((x,C)=>x.project.name.localeCompare(C.project.name)),k=(x,C)=>{g(D=>({...D,[x]:C})),l(1)};return d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex border rounded overflow-hidden",children:[d.jsx("button",{onClick:()=>c("group"),className:`px-4 py-2 ${u==="group"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:""}),d.jsx("button",{onClick:()=>c("list"),className:`px-4 py-2 ${u==="list"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:""})]}),d.jsx("button",{onClick:()=>{a(null),S(!0)},className:"px-4 py-2 bg-blue-500 text-white rounded",children:""})]})]}),b&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-6 rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:y?"":""}),d.jsx(Lw,{asset:y||void 0,onSuccess:()=>{S(!1),a(null),_()},onCancel:()=>{S(!1),a(null)}})]})}),d.jsxs("div",{className:"mb-6 flex gap-4",children:[d.jsxs("select",{value:m.type,onChange:x=>k("type",x.target.value),className:"px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"server",children:""}),d.jsx("option",{value:"vm",children:""}),d.jsx("option",{value:"network_device",children:""}),d.jsx("option",{value:"application",children:""})]}),d.jsxs("select",{value:m.status,onChange:x=>k("status",x.target.value),className:"px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"active",children:""}),d.jsx("option",{value:"inactive",children:""}),d.jsx("option",{value:"maintenance",children:""})]}),d.jsxs("select",{value:m.project_id,onChange:x=>k("project_id",x.target.value),className:"px-4 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),s.map(x=>d.jsx("option",{value:x.id,children:x.name},x.id))]})]}),o?d.jsx("div",{children:"..."}):u==="group"?d.jsx("div",{className:"space-y-6",children:E.map(x=>d.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[d.jsxs("div",{className:"bg-gray-100 px-4 py-3 flex justify-between items-center border-b",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h2",{className:"text-lg font-semibold",children:x.project.name}),d.jsxs("span",{className:"text-sm text-gray-600",children:["(",x.assets.length," )"]})]}),d.jsx("button",{onClick:()=>e(`/projects/${x.project.id}/permissions`),className:"px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:""})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""})]})}),d.jsx("tbody",{children:x.assets.map(C=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2 border",children:C.name}),d.jsx("td",{className:"px-4 py-2 border",children:C.type}),d.jsx("td",{className:"px-4 py-2 border",children:C.status}),d.jsx("td",{className:"px-4 py-2 border",children:new Date(C.created_at).toLocaleString("zh-CN")}),d.jsx("td",{className:"px-4 py-2 border",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{a(C),S(!0)},className:"px-2 py-1 text-blue-500 hover:underline text-sm",children:""}),d.jsx("button",{onClick:()=>e(`/assets/${C.id}/permissions`),className:"px-2 py-1 text-green-500 hover:underline text-sm",children:""})]})})]},C.id))})]})})]},x.project.id))}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white border",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""})]})}),d.jsx("tbody",{children:t.map(x=>{var C;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-2 border",children:x.name}),d.jsx("td",{className:"px-4 py-2 border",children:x.type}),d.jsx("td",{className:"px-4 py-2 border",children:x.status}),d.jsx("td",{className:"px-4 py-2 border",children:((C=x.project)==null?void 0:C.name)||"-"}),d.jsx("td",{className:"px-4 py-2 border",children:new Date(x.created_at).toLocaleString("zh-CN")}),d.jsx("td",{className:"px-4 py-2 border",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>{a(x),S(!0)},className:"px-2 py-1 text-blue-500 hover:underline text-sm",children:""}),d.jsx("button",{onClick:()=>e(`/assets/${x.id}/permissions`),className:"px-2 py-1 text-green-500 hover:underline text-sm",children:""})]})})]},x.id)})})]})}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsxs("div",{children:[" ",p,"  ",i," "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>l(x=>Math.max(1,x-1)),disabled:i===1,className:"px-4 py-2 border rounded disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>l(x=>x+1),disabled:i*20>=p,className:"px-4 py-2 border rounded disabled:opacity-50",children:""})]})]})]})]})}function Aw(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[n,o]=N.useState(!0),[h,i]=N.useState(!1),[l,p]=N.useState(null),[v,m]=N.useState("all"),[g,b]=N.useState({asset_id:"",name:"",username:"",auth_type:"password",password:"",private_key:"",public_key:"",passphrase:"",description:"",is_default:!1}),{toast:S}=st(),{confirm:y,ConfirmDialog:a}=Ir();N.useEffect(()=>{u(),c()},[]);const u=async()=>{try{const j=(await J.get("/assets?page=1&limit=1000")).data.data||[];t(j)}catch(A){console.error(":",A)}},c=async()=>{o(!0);try{const A=await J.get("/asset-credentials");s(A.data||[])}catch(A){console.error(":",A)}finally{o(!1)}},f=()=>{p(null),b({asset_id:"",name:"",username:"",auth_type:"password",password:"",private_key:"",public_key:"",passphrase:"",description:"",is_default:!1}),i(!0)},_=A=>{p(A),b({asset_id:A.asset_id||"",name:A.name,username:A.username,auth_type:A.auth_type,password:"",private_key:"",public_key:"",passphrase:"",description:A.description||"",is_default:A.is_default}),i(!0)},w=async A=>{var j,T;A.preventDefault();try{const I={name:g.name,username:g.username,auth_type:g.auth_type,description:g.description,is_default:g.is_default};g.asset_id&&(I.asset_id=g.asset_id),g.auth_type==="password"?g.password&&(I.password=g.password):(g.private_key&&(I.private_key=g.private_key),g.public_key&&(I.public_key=g.public_key),g.passphrase&&(I.passphrase=g.passphrase)),l?(await J.put(`/asset-credentials/${l.id}`,I),S({title:"",description:"",variant:"success"})):(await J.post("/asset-credentials",I),S({title:"",description:"",variant:"success"})),i(!1),c()}catch(I){S({title:"",description:((T=(j=I.response)==null?void 0:j.data)==null?void 0:T.error)||"",variant:"error"})}},E=async A=>{var T,I;if(await y("",""))try{await J.delete(`/asset-credentials/${A}`),S({title:"",description:"",variant:"success"}),c()}catch(F){S({title:"",description:((I=(T=F.response)==null?void 0:T.data)==null?void 0:I.error)||"",variant:"error"})}},k=async(A,j)=>{var T,I;if(!A){S({title:"",description:"",variant:"default"});return}try{await J.post(`/assets/${A}/credentials/${j}/set-default`),S({title:"",description:"",variant:"success"}),c()}catch(F){S({title:"",description:((I=(T=F.response)==null?void 0:T.data)==null?void 0:I.error)||"",variant:"error"})}},C=r.filter(A=>v==="global"?!A.asset_id:v==="assigned"?!!A.asset_id:!0).reduce((A,j)=>{const T=j.asset_id||"_global";return A[T]||(A[T]=[]),A[T].push(j),A},{}),D=A=>{var j;return A==="_global"?" ":((j=e.find(T=>T.id===A))==null?void 0:j.name)||A};return d.jsxs(d.Fragment,{children:[d.jsx(a,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded p-1",children:[d.jsx("button",{onClick:()=>m("all"),className:`px-3 py-1 text-sm rounded ${v==="all"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:""}),d.jsx("button",{onClick:()=>m("global"),className:`px-3 py-1 text-sm rounded ${v==="global"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:""}),d.jsx("button",{onClick:()=>m("assigned"),className:`px-3 py-1 text-sm rounded ${v==="assigned"?"bg-white text-blue-600 shadow":"text-gray-600 hover:text-gray-900"}`,children:""})]}),d.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]})]}),h&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:l?"":""}),d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block mb-1 text-sm font-medium",children:[" ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center p-3 border rounded cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"credential_scope",value:"global",checked:!g.asset_id,onChange:()=>b({...g,asset_id:""}),className:"mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium text-blue-600",children:" "}),d.jsx("div",{className:"text-xs text-gray-500 mt-1",children:""})]})]}),d.jsxs("label",{className:"flex items-center p-3 border rounded cursor-pointer hover:bg-gray-50",children:[d.jsx("input",{type:"radio",name:"credential_scope",value:"assigned",checked:!!g.asset_id,onChange:()=>{!g.asset_id&&e.length>0&&b({...g,asset_id:e[0].id})},className:"mr-3"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium",children:""}),g.asset_id&&d.jsx("select",{value:g.asset_id,onChange:A=>b({...g,asset_id:A.target.value}),className:"w-full mt-2 px-3 py-2 border rounded text-sm",onClick:A=>A.stopPropagation(),children:e.map(A=>d.jsxs("option",{value:A.id,children:[A.name," (",A.type,")"]},A.id))})]})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" *"}),d.jsx("input",{type:"text",value:g.name,onChange:A=>b({...g,name:A.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"rootadmin",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" *"}),d.jsx("input",{type:"text",value:g.username,onChange:A=>b({...g,username:A.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" *"}),d.jsxs("select",{value:g.auth_type,onChange:A=>b({...g,auth_type:A.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,children:[d.jsx("option",{value:"password",children:""}),d.jsx("option",{value:"key",children:""})]})]}),g.auth_type==="password"?d.jsxs("div",{children:[d.jsxs("label",{className:"block mb-1 text-sm font-medium",children:[" ",l?"()":"*"]}),d.jsx("input",{type:"password",value:g.password,onChange:A=>b({...g,password:A.target.value}),className:"w-full px-3 py-2 border rounded",required:!l})]}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block mb-1 text-sm font-medium",children:[" ",l?"()":"*"]}),d.jsx("textarea",{value:g.private_key,onChange:A=>b({...g,private_key:A.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:6,placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`,required:!l})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" ()"}),d.jsx("textarea",{value:g.public_key,onChange:A=>b({...g,public_key:A.target.value}),className:"w-full px-3 py-2 border rounded font-mono text-sm",rows:3,placeholder:"ssh-rsa AAAAB3NzaC1yc2E..."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:" ()"}),d.jsx("input",{type:"password",value:g.passphrase,onChange:A=>b({...g,passphrase:A.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("textarea",{value:g.description,onChange:A=>b({...g,description:A.target.value}),className:"w-full px-3 py-2 border rounded",rows:2})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"is_default",checked:g.is_default,onChange:A=>b({...g,is_default:A.target.checked}),className:"mr-2"}),d.jsx("label",{htmlFor:"is_default",className:"text-sm",children:""})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),n?d.jsx("div",{className:"text-center py-8",children:"..."}):d.jsx("div",{className:"space-y-6",children:Object.keys(C).length===0?d.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):Object.entries(C).map(([A,j])=>d.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[d.jsxs("div",{className:`px-4 py-3 border-b ${A==="_global"?"bg-blue-50 border-blue-200":"bg-gray-100"}`,children:[d.jsxs("h3",{className:`font-semibold text-lg ${A==="_global"?"text-blue-700":""}`,children:[D(A),d.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["(",j.length," )"]})]}),A==="_global"&&d.jsx("p",{className:"text-xs text-blue-600 mt-1",children:""})]}),d.jsx("div",{className:"p-4",children:d.jsx("div",{className:"space-y-3",children:j.map(T=>d.jsx("div",{className:"p-4 border rounded-lg bg-white hover:bg-gray-50",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("h4",{className:"font-semibold",children:T.name}),T.is_default&&d.jsx("span",{className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded",children:""}),d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:T.auth_type==="password"?"":""})]}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:":"})," ",T.username]}),T.description&&d.jsxs("p",{children:[d.jsx("span",{className:"font-medium",children:":"})," ",T.description]}),d.jsxs("p",{className:"text-xs text-gray-400",children:[": ",new Date(T.created_at).toLocaleString("zh-CN")]})]})]}),d.jsxs("div",{className:"flex gap-2 ml-4",children:[!T.asset_id&&d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:""}),!T.is_default&&T.asset_id&&d.jsx("button",{onClick:()=>k(T.asset_id,T.id),className:"px-3 py-1 text-sm bg-green-500 text-white rounded hover:bg-green-600",children:""}),d.jsx("button",{onClick:()=>_(T),className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:""}),d.jsx("button",{onClick:()=>E(T.id),className:"px-3 py-1 text-sm bg-red-500 text-white rounded hover:bg-red-600",children:""})]})]})},T.id))})})]},A))})]})]})}function Pw(){const[e,t]=N.useState(""),[r,s]=N.useState(""),[n,o]=N.useState(!1),[h,i]=N.useState(""),l=Br(),p=async v=>{var m,g;v.preventDefault(),o(!0),i("");try{const b=await J.post("/auth/login",{username:e,password:r});console.log("Login response:",b.data);const{access_token:S,refresh_token:y}=b.data;if(!S||!y){i(""),o(!1);return}localStorage.setItem("access_token",S),localStorage.setItem("refresh_token",y),window.dispatchEvent(new Event("authStateChange")),l("/assets",{replace:!0})}catch(b){console.error("Login error:",b),i(((g=(m=b.response)==null?void 0:m.data)==null?void 0:g.error)||b.message||"")}finally{o(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:d.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-lg shadow",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-center text-3xl font-bold",children:"KMDB "}),d.jsx("p",{className:"mt-2 text-center text-gray-600",children:" CMDB "})]}),d.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[h&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:""}),d.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:e,onChange:v=>t(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:""}),d.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:r,onChange:v=>s(v.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),d.jsx("div",{children:d.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:n?"...":""})})]})]})})}function Tw(){var Q,L;const[e,t]=N.useState([]),[r,s]=N.useState(!0),[n,o]=N.useState(1),[h,i]=N.useState(0),[l,p]=N.useState(!1),[v,m]=N.useState(null),[g,b]=N.useState({username:"",email:"",password:"",status:"active"}),[S,y]=N.useState(!1),[a,u]=N.useState(null),[c,f]=N.useState({new_password:"",confirm_password:""}),[_,w]=N.useState({}),[E,k]=N.useState([]),[x,C]=N.useState(!1),[D,A]=N.useState(null),{toast:j}=st(),{confirm:T,ConfirmDialog:I}=Ir();N.useEffect(()=>{F(),z()},[n]),N.useEffect(()=>{e.length>0&&G()},[e]);const F=async()=>{s(!0);try{const B=await J.get(`/users?page=${n}&limit=20`);t(B.data.data),i(B.data.total)}catch(B){console.error("Failed to fetch users:",B)}finally{s(!1)}},z=async()=>{try{const B=await J.get("/user-groups?page=1&limit=100");k(B.data.data||[])}catch(B){console.error(":",B)}},G=async()=>{const B={};for(const K of e)try{const $=await J.get(`/users/${K.id}/groups`);B[K.id]=$.data||[]}catch($){console.error(` ${K.id} :`,$),B[K.id]=[]}w(B)},R=B=>{A(B),C(!0)},P=async B=>{var K,$;if(D)try{await J.post(`/user-groups/${B}/members`,{user_id:D}),G(),j({title:"",description:"",variant:"success"})}catch(ee){j({title:"",description:(($=(K=ee.response)==null?void 0:K.data)==null?void 0:$.error)||"",variant:"error"})}},O=async B=>{var $,ee;if(!(!D||!await T("","")))try{await J.delete(`/user-groups/${B}/members/${D}`),G(),j({title:"",description:"",variant:"success"})}catch(Y){j({title:"",description:((ee=($=Y.response)==null?void 0:$.data)==null?void 0:ee.error)||"",variant:"error"})}},M=()=>{m(null),b({username:"",email:"",password:"",status:"active"}),p(!0)},U=B=>{m(B),b({username:B.username,email:B.email,password:"",status:B.status}),p(!0)},H=async B=>{var K,$;B.preventDefault();try{v?await J.put(`/users/${v.id}`,{username:g.username,email:g.email,status:g.status}):await J.post("/users",g),p(!1),F(),j({title:"",description:v?"":"",variant:"success"})}catch(ee){j({title:"",description:(($=(K=ee.response)==null?void 0:K.data)==null?void 0:$.error)||"",variant:"error"})}},q=async B=>{var $,ee;if(await T("",""))try{await J.delete(`/users/${B}`),F(),j({title:"",description:"",variant:"success"})}catch(Y){j({title:"",description:((ee=($=Y.response)==null?void 0:$.data)==null?void 0:ee.error)||"",variant:"error"})}},V=async B=>{var K,$;if(B.preventDefault(),c.new_password!==c.confirm_password){j({title:"",description:"",variant:"error"});return}if(a)try{await J.post(`/users/${a}/change-password`,{new_password:c.new_password}),y(!1),u(null),f({new_password:"",confirm_password:""}),j({title:"",description:"",variant:"success"})}catch(ee){j({title:"",description:(($=(K=ee.response)==null?void 0:K.data)==null?void 0:$.error)||"",variant:"error"})}};return d.jsxs(d.Fragment,{children:[d.jsx(I,{}),d.jsxs("div",{className:"container mx-auto p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-3xl font-bold",children:""}),d.jsx("button",{onClick:M,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]}),l&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:v?"":""}),d.jsxs("form",{onSubmit:H,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"text",value:g.username,onChange:B=>b({...g,username:B.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"email",value:g.email,onChange:B=>b({...g,email:B.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),!v&&d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"password",value:g.password,onChange:B=>b({...g,password:B.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsxs("select",{value:g.status,onChange:B=>b({...g,status:B.target.value}),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"active",children:""}),d.jsx("option",{value:"inactive",children:""})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),S&&a&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:""}),d.jsxs("form",{onSubmit:V,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"password",value:c.new_password,onChange:B=>f({...c,new_password:B.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"password",value:c.confirm_password,onChange:B=>f({...c,confirm_password:B.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>{y(!1),u(null),f({new_password:"",confirm_password:""})},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),r?d.jsx("div",{children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full bg-white border",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""}),d.jsx("th",{className:"px-4 py-2 border",children:""})]})}),d.jsx("tbody",{children:e.map(B=>{var K;return d.jsxs("tr",{children:[d.jsx("td",{className:"px-4 py-2 border",children:B.username}),d.jsx("td",{className:"px-4 py-2 border",children:B.email}),d.jsx("td",{className:"px-4 py-2 border",children:d.jsx("div",{className:"flex flex-wrap gap-1",children:((K=_[B.id])==null?void 0:K.length)>0?_[B.id].map($=>d.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:$.name},$.id)):d.jsx("span",{className:"text-gray-400 text-sm",children:""})})}),d.jsx("td",{className:"px-4 py-2 border",children:B.status}),d.jsx("td",{className:"px-4 py-2 border",children:new Date(B.created_at).toLocaleString("zh-CN")}),d.jsx("td",{className:"px-4 py-2 border",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>U(B),className:"text-blue-600 hover:text-blue-900 text-sm",children:""}),d.jsx("button",{onClick:()=>R(B.id),className:"text-purple-600 hover:text-purple-900 text-sm",children:""}),d.jsx("button",{onClick:()=>{u(B.id),y(!0)},className:"text-green-600 hover:text-green-900 text-sm",children:""}),d.jsx("button",{onClick:()=>q(B.id),className:"text-red-600 hover:text-red-900 text-sm",children:""})]})})]},B.id)})})]})}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsxs("div",{children:[" ",h,"  ",n," "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>o(B=>Math.max(1,B-1)),disabled:n===1,className:"px-4 py-2 border rounded disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>o(B=>B+1),disabled:n*20>=h,className:"px-4 py-2 border rounded disabled:opacity-50",children:""})]})]})]}),x&&D&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[": ",(Q=e.find(B=>B.id===D))==null?void 0:Q.username]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block mb-2 text-sm font-medium",children:""}),d.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:((L=_[D])==null?void 0:L.length)>0?_[D].map(B=>d.jsxs("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded",children:[d.jsx("span",{className:"text-sm",children:B.name}),d.jsx("button",{onClick:()=>O(B.id),className:"text-red-600 hover:text-red-900 text-sm",children:""})]},B.id)):d.jsx("p",{className:"text-sm text-gray-400",children:""})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-2 text-sm font-medium",children:""}),d.jsxs("select",{onChange:B=>{B.target.value&&(P(B.target.value),B.target.value="")},className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:"..."}),E.filter(B=>{var K;return!((K=_[D])!=null&&K.some($=>$.id===B.id))}).map(B=>d.jsx("option",{value:B.id,children:B.name},B.id))]})]})]}),d.jsx("div",{className:"flex justify-end",children:d.jsx("button",{onClick:()=>{C(!1),A(null)},className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})})]})})]})]})}function Ow(){const[e,t]=N.useState([]),[r,s]=N.useState(!0),[n,o]=N.useState(!1),[h,i]=N.useState(null),[l,p]=N.useState({name:"",description:""}),[v,m]=N.useState(null),[g,b]=N.useState([]),[S,y]=N.useState([]),{toast:a}=st(),{confirm:u,ConfirmDialog:c}=Ir();N.useEffect(()=>{f(),_()},[]);const f=async()=>{try{const j=await J.get("/user-groups?page=1&limit=100");t(j.data.data||[])}catch(j){console.error(":",j)}finally{s(!1)}},_=async()=>{try{const j=await J.get("/users?page=1&limit=100");y(j.data.data||[])}catch(j){console.error(":",j)}},w=async j=>{try{const T=await J.get(`/user-groups/${j}/members`);b(T.data||[])}catch(T){console.error(":",T)}},E=()=>{i(null),p({name:"",description:""}),o(!0)},k=j=>{i(j),p({name:j.name,description:j.description||""}),o(!0)},x=async j=>{var T,I;j.preventDefault();try{h?await J.put(`/user-groups/${h.id}`,l):await J.post("/user-groups",l),o(!1),f(),a({title:"",description:h?"":"",variant:"success"})}catch(F){a({title:"",description:((I=(T=F.response)==null?void 0:T.data)==null?void 0:I.error)||"",variant:"error"})}},C=async j=>{var I,F;if(await u("",""))try{await J.delete(`/user-groups/${j}`),f(),a({title:"",description:"",variant:"success"})}catch(z){a({title:"",description:((F=(I=z.response)==null?void 0:I.data)==null?void 0:F.error)||"",variant:"error"})}},D=async(j,T)=>{var I,F;try{await J.post(`/user-groups/${j}/members`,{user_id:T}),w(j),a({title:"",description:"",variant:"success"})}catch(z){a({title:"",description:((F=(I=z.response)==null?void 0:I.data)==null?void 0:F.error)||"",variant:"error"})}},A=async(j,T)=>{var I,F;try{await J.delete(`/user-groups/${j}/members/${T}`),w(j),a({title:"",description:"",variant:"success"})}catch(z){a({title:"",description:((F=(I=z.response)==null?void 0:I.data)==null?void 0:F.error)||"",variant:"error"})}};return r?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx(c,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:""}),d.jsx("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]}),n&&d.jsxs("div",{className:"mb-6 p-4 border rounded",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:h?"":""}),d.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"text",value:l.name,onChange:j=>p({...l,name:j.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("textarea",{value:l.description,onChange:j=>p({...l,description:j.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-2",children:e.map(j=>d.jsx("div",{className:`p-4 border rounded cursor-pointer ${v===j.id?"bg-blue-50 border-blue-500":""}`,onClick:()=>{m(j.id),w(j.id)},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:j.name}),j.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:T=>{T.stopPropagation(),k(j)},className:"px-2 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:""}),d.jsx("button",{onClick:T=>{T.stopPropagation(),C(j.id)},className:"px-2 py-1 text-sm bg-red-200 rounded hover:bg-red-300",children:""})]})]})},j.id))})]}),v&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"mb-4",children:d.jsxs("select",{onChange:j=>{j.target.value&&(D(v,j.target.value),j.target.value="")},className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),S.filter(j=>!g.some(T=>T.id===j.id)).map(j=>d.jsxs("option",{value:j.id,children:[j.username," (",j.email,")"]},j.id))]})}),d.jsxs("div",{className:"space-y-2",children:[g.map(j=>d.jsxs("div",{className:"p-3 border rounded flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:j.username}),d.jsx("div",{className:"text-sm text-gray-600",children:j.email})]}),d.jsx("button",{onClick:()=>A(v,j.id),className:"px-2 py-1 text-sm bg-red-200 rounded hover:bg-red-300",children:""})]},j.id)),g.length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]})]})]})}const gd=[{resource:"assets",label:"",icon:""},{resource:"webssh",label:"WebSSH",icon:""},{resource:"users",label:"",icon:""},{resource:"user_groups",label:"",icon:""},{resource:"roles",label:"",icon:""},{resource:"user_roles",label:"",icon:""},{resource:"group_roles",label:"",icon:""},{resource:"audit",label:"",icon:""}];function Mw(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[n,o]=N.useState(!0),[h,i]=N.useState(!1),[l,p]=N.useState(!1),[v,m]=N.useState(null),[g,b]=N.useState({name:"",description:""}),[S,y]=N.useState({name:"",resource:"",action:""}),[a,u]=N.useState(null),[c,f]=N.useState([]),{toast:_}=st(),{confirm:w,ConfirmDialog:E}=Ir(),k=N.useMemo(()=>{const U={};return r.forEach(H=>{U[H.resource]||(U[H.resource]=[]),U[H.resource].push(H)}),U},[r]),x=N.useMemo(()=>{const U={};return c.forEach(H=>{U[H.resource]||(U[H.resource]=[]),U[H.resource].push(H)}),U},[c]);N.useEffect(()=>{C(),D()},[]);const C=async()=>{try{const U=await J.get("/roles?page=1&limit=100");t(U.data.data||[])}catch(U){console.error(":",U)}finally{o(!1)}},D=async()=>{try{const U=await J.get("/permissions");s(U.data||[])}catch(U){console.error(":",U)}},A=async U=>{try{const H=await J.get(`/roles/${U}/permissions`);f(H.data||[])}catch(H){console.error(":",H)}},j=()=>{m(null),b({name:"",description:""}),i(!0)},T=U=>{m(U),b({name:U.name,description:U.description||""}),i(!0)},I=async U=>{var H,q;U.preventDefault();try{v?await J.put(`/roles/${v.id}`,g):await J.post("/roles",g),i(!1),C(),_({title:"",description:v?"":"",variant:"success"})}catch(V){_({title:"",description:((q=(H=V.response)==null?void 0:H.data)==null?void 0:q.error)||"",variant:"error"})}},F=async U=>{var q,V;if(await w("",""))try{await J.delete(`/roles/${U}`),C(),_({title:"",description:"",variant:"success"})}catch(Q){_({title:"",description:((V=(q=Q.response)==null?void 0:q.data)==null?void 0:V.error)||"",variant:"error"})}},z=async(U,H)=>{var q,V;try{await J.post(`/roles/${U}/permissions`,{permission_id:H}),A(U),_({title:"",description:"",variant:"success"})}catch(Q){_({title:"",description:((V=(q=Q.response)==null?void 0:q.data)==null?void 0:V.error)||"",variant:"error"})}},G=async(U,H)=>{var q,V;try{await J.delete(`/roles/${U}/permissions/${H}`),A(U),_({title:"",description:"",variant:"success"})}catch(Q){_({title:"",description:((V=(q=Q.response)==null?void 0:q.data)==null?void 0:V.error)||"",variant:"error"})}},R=()=>{y({name:"",resource:"",action:""}),p(!0)},P=async U=>{var H,q;U.preventDefault();try{await J.post("/permissions",S),p(!1),D(),_({title:"",description:"",variant:"success"})}catch(V){_({title:"",description:((q=(H=V.response)==null?void 0:H.data)==null?void 0:q.error)||"",variant:"error"})}},O=(U,H)=>c.some(q=>q.resource===U&&q.action===H),M=async(U,H)=>{if(!a)return;const q=r.find(V=>V.resource===U&&V.action===H);q&&(O(U,H)?await G(a,q.id):await z(a,q.id))};return n?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx(E,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:""}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:R,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:""}),d.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]})]}),h&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:v?"":""}),d.jsxs("form",{onSubmit:I,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"text",value:g.name,onChange:U=>b({...g,name:U.target.value}),className:"w-full px-3 py-2 border rounded",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("textarea",{value:g.description,onChange:U=>b({...g,description:U.target.value}),className:"w-full px-3 py-2 border rounded",rows:3})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),l&&d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsxs("form",{onSubmit:P,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:""}),d.jsx("input",{type:"text",value:S.name,onChange:U=>y({...S,name:U.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"",required:!0})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:" (Resource)"}),d.jsxs("select",{value:S.resource,onChange:U=>y({...S,resource:U.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,children:[d.jsx("option",{value:"",children:""}),gd.map(U=>d.jsxs("option",{value:U.resource,children:[U.label," (",U.resource,")"]},U.resource))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1",children:" (Action)"}),d.jsxs("select",{value:S.action,onChange:U=>y({...S,action:U.target.value}),className:"w-full px-3 py-2 border rounded",required:!0,children:[d.jsx("option",{value:"",children:""}),d.jsx("option",{value:"view",children:" (view)"}),d.jsx("option",{value:"create",children:" (create)"}),d.jsx("option",{value:"update",children:" (update)"}),d.jsx("option",{value:"delete",children:" (delete)"}),d.jsx("option",{value:"read",children:" (read)"}),d.jsx("option",{value:"connect",children:" (connect)"}),d.jsx("option",{value:"assign",children:" (assign)"})]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:""}),d.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-2",children:e.map(U=>d.jsx("div",{className:`p-4 border rounded cursor-pointer ${a===U.id?"bg-blue-50 border-blue-500":""}`,onClick:()=>{u(U.id),A(U.id)},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:U.name}),U.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:U.description})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:H=>{H.stopPropagation(),T(U)},className:"px-2 py-1 text-sm bg-gray-200 rounded hover:bg-gray-300",children:""}),d.jsx("button",{onClick:H=>{H.stopPropagation(),F(U.id)},className:"px-2 py-1 text-sm bg-red-200 rounded hover:bg-red-300",children:""})]})]})},U.id))})]}),a&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsxs("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:[gd.map(U=>{const H=k[U.resource]||[],q=x[U.resource]||[];return H.length===0?null:d.jsxs("div",{className:"border rounded p-4",children:[d.jsxs("div",{className:"flex items-center mb-3",children:[d.jsx("span",{className:"text-xl mr-2",children:U.icon}),d.jsx("h3",{className:"font-semibold text-lg",children:U.label}),d.jsxs("span",{className:"ml-2 text-sm text-gray-500",children:["(",q.length,"/",H.length,")"]})]}),d.jsx("div",{className:"grid grid-cols-2 gap-2",children:H.map(V=>{const Q=O(V.resource,V.action);return d.jsx("div",{className:`p-3 border rounded cursor-pointer transition-colors ${Q?"bg-blue-50 border-blue-500":"bg-gray-50 hover:bg-gray-100"}`,onClick:()=>M(V.resource,V.action),children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",checked:Q,onChange:()=>M(V.resource,V.action),className:"mr-2",onClick:L=>L.stopPropagation()}),d.jsx("span",{className:`font-medium ${Q?"text-blue-700":"text-gray-700"}`,children:V.name})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1 ml-6",children:[V.resource,".",V.action]})]})})},V.id)})})]},U.resource)}),Object.keys(k).length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]})]})]})}function Bw(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[n,o]=N.useState(!0),[h,i]=N.useState(null),[l,p]=N.useState([]),{toast:v}=st();N.useEffect(()=>{m(),g()},[]);const m=async()=>{try{const a=await J.get("/users?page=1&limit=100");t(a.data.data||[])}catch(a){console.error(":",a)}finally{o(!1)}},g=async()=>{try{const a=await J.get("/roles?page=1&limit=100");s(a.data.data||[])}catch(a){console.error(":",a)}},b=async a=>{try{const u=await J.get(`/users/${a}/roles`);p(u.data||[])}catch(u){console.error(":",u)}},S=async(a,u)=>{var c,f;try{await J.post(`/users/${a}/roles`,{role_id:u}),b(a),v({title:"",description:"",variant:"success"})}catch(_){v({title:"",description:((f=(c=_.response)==null?void 0:c.data)==null?void 0:f.error)||"",variant:"error"})}},y=async(a,u)=>{var c,f;try{await J.delete(`/users/${a}/roles/${u}`),b(a),v({title:"",description:"",variant:"success"})}catch(_){v({title:"",description:((f=(c=_.response)==null?void 0:c.data)==null?void 0:f.error)||"",variant:"error"})}};return n?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:""}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-2",children:e.map(a=>d.jsx("div",{className:`p-4 border rounded cursor-pointer ${h===a.id?"bg-blue-50 border-blue-500":""}`,onClick:()=>{i(a.id),b(a.id)},children:d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:a.username}),d.jsx("p",{className:"text-sm text-gray-600",children:a.email})]})},a.id))})]}),h&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"mb-4",children:d.jsxs("select",{onChange:a=>{a.target.value&&(S(h,a.target.value),a.target.value="")},className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),r.filter(a=>!l.some(u=>u.id===a.id)).map(a=>d.jsx("option",{value:a.id,children:a.name},a.id))]})}),d.jsxs("div",{className:"space-y-2",children:[l.map(a=>d.jsxs("div",{className:"p-3 border rounded flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:a.name}),a.description&&d.jsx("div",{className:"text-sm text-gray-600",children:a.description})]}),d.jsx("button",{onClick:()=>y(h,a.id),className:"px-2 py-1 text-sm bg-red-200 rounded hover:bg-red-300",children:""})]},a.id)),l.length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]})]})}function Iw(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[n,o]=N.useState(!0),[h,i]=N.useState(null),[l,p]=N.useState([]),{toast:v}=st();N.useEffect(()=>{m(),g()},[]);const m=async()=>{try{const a=await J.get("/user-groups?page=1&limit=100");t(a.data.data||[])}catch(a){console.error(":",a)}finally{o(!1)}},g=async()=>{try{const a=await J.get("/roles?page=1&limit=100");s(a.data.data||[])}catch(a){console.error(":",a)}},b=async a=>{try{const u=await J.get(`/user-groups/${a}/roles`);p(u.data||[])}catch(u){console.error(":",u)}},S=async(a,u)=>{var c,f;try{await J.post(`/user-groups/${a}/roles`,{role_id:u}),b(a),v({title:"",description:"",variant:"success"})}catch(_){v({title:"",description:((f=(c=_.response)==null?void 0:c.data)==null?void 0:f.error)||"",variant:"error"})}},y=async(a,u)=>{var c,f;try{await J.delete(`/user-groups/${a}/roles/${u}`),b(a),v({title:"",description:"",variant:"success"})}catch(_){v({title:"",description:((f=(c=_.response)==null?void 0:c.data)==null?void 0:f.error)||"",variant:"error"})}};return n?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:""}),d.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"space-y-2",children:e.map(a=>d.jsx("div",{className:`p-4 border rounded cursor-pointer ${h===a.id?"bg-blue-50 border-blue-500":""}`,onClick:()=>{i(a.id),b(a.id)},children:d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold",children:a.name}),a.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:a.description})]})},a.id))})]}),h&&d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold mb-4",children:""}),d.jsx("div",{className:"mb-4",children:d.jsxs("select",{onChange:a=>{a.target.value&&(S(h,a.target.value),a.target.value="")},className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),r.filter(a=>!l.some(u=>u.id===a.id)).map(a=>d.jsx("option",{value:a.id,children:a.name},a.id))]})}),d.jsxs("div",{className:"space-y-2",children:[l.map(a=>d.jsxs("div",{className:"p-3 border rounded flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:a.name}),a.description&&d.jsx("div",{className:"text-sm text-gray-600",children:a.description})]}),d.jsx("button",{onClick:()=>y(h,a.id),className:"px-2 py-1 text-sm bg-red-200 rounded hover:bg-red-300",children:""})]},a.id)),l.length===0&&d.jsx("p",{className:"text-gray-500 text-center py-4",children:""})]})]})]})]})}const la=[{value:"view",label:""},{value:"connect",label:""},{value:"update",label:""},{value:"delete",label:""}];function Fw(){const{assetId:e}=If(),[t,r]=N.useState(null),[s,n]=N.useState([]),[o,h]=N.useState([]),[i,l]=N.useState([]),[p,v]=N.useState(!0),[m,g]=N.useState("role"),[b,S]=N.useState(""),[y,a]=N.useState(""),[u,c]=N.useState("view"),{toast:f}=st(),{confirm:_,ConfirmDialog:w}=Ir();N.useEffect(()=>{e&&(E(),k(),x(),C())},[e]);const E=async()=>{try{const I=await J.get(`/assets/${e}`);r(I.data)}catch(I){console.error(":",I)}},k=async()=>{try{const I=await J.get("/roles?page=1&limit=100");n(I.data.data||[])}catch(I){console.error(":",I)}},x=async()=>{try{const I=await J.get("/users?page=1&limit=100");h(I.data.data||[])}catch(I){console.error(":",I)}},C=async()=>{try{const I=await J.get(`/assets/${e}/permissions`);l(I.data||[])}catch(I){console.error(":",I)}finally{v(!1)}},D=async()=>{var I,F;if(!b){f({title:"",description:"",variant:"error"});return}try{await J.post(`/assets/${e}/permissions/roles`,{role_id:b,action:u}),C(),S(""),f({title:"",description:"",variant:"success"})}catch(z){f({title:"",description:((F=(I=z.response)==null?void 0:I.data)==null?void 0:F.error)||"",variant:"error"})}},A=async()=>{var I,F;if(!y){f({title:"",description:"",variant:"error"});return}try{await J.post(`/assets/${e}/permissions/users`,{user_id:y,action:u}),C(),a(""),f({title:"",description:"",variant:"success"})}catch(z){f({title:"",description:((F=(I=z.response)==null?void 0:I.data)==null?void 0:F.error)||"",variant:"error"})}},j=async I=>{var z,G;if(await _("",""))try{await J.delete(`/asset-permissions/${I}`),C(),f({title:"",description:"",variant:"success"})}catch(R){f({title:"",description:((G=(z=R.response)==null?void 0:z.data)==null?void 0:G.error)||"",variant:"error"})}},T=I=>{const F=la.find(z=>z.value===I);return(F==null?void 0:F.label)||I};return p?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx(w,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),t&&d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsx("span",{className:"font-semibold",children:t.name})," (",t.type,")"]})]}),d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsx("button",{onClick:()=>g("role"),className:`px-4 py-2 rounded ${m==="role"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""}),d.jsx("button",{onClick:()=>g("user"),className:`px-4 py-2 rounded ${m==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""})]}),m==="role"?d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsxs("select",{value:b,onChange:I=>S(I.target.value),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),s.map(I=>d.jsx("option",{value:I.id,children:I.name},I.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("select",{value:u,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border rounded",children:la.map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:D,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})})]}):d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsxs("select",{value:y,onChange:I=>a(I.target.value),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),o.map(I=>d.jsxs("option",{value:I.id,children:[I.username," (",I.email,")"]},I.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("select",{value:u,onChange:I=>c(I.target.value),className:"w-full px-3 py-2 border rounded",children:la.map(I=>d.jsx("option",{value:I.value,children:I.label},I.value))})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:A,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})})]})]}),d.jsxs("div",{className:"bg-white border rounded",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-semibold",children:""})}),d.jsx("div",{className:"p-4",children:i.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:""}):d.jsx("div",{className:"space-y-2",children:i.map(I=>{var F;return d.jsxs("div",{className:"p-4 border rounded flex justify-between items-center hover:bg-gray-50",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:I.role?`: ${I.role.name}`:`: ${(F=I.user)==null?void 0:F.username}`}),I.user&&d.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",I.user.email,")"]})]}),d.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:T(I.action)})]})}),d.jsx("button",{onClick:()=>j(I.id),className:"px-3 py-1 text-sm bg-red-200 text-red-700 rounded hover:bg-red-300",children:""})]},I.id)})})})]})]})]})}const ca=[{value:"view",label:""},{value:"connect",label:""},{value:"update",label:""},{value:"delete",label:""}];function Hw(){const{projectId:e}=If(),t=Br(),[r,s]=N.useState(null),[n,o]=N.useState([]),[h,i]=N.useState([]),[l,p]=N.useState([]),[v,m]=N.useState(!0),[g,b]=N.useState("role"),[S,y]=N.useState(""),[a,u]=N.useState(""),[c,f]=N.useState("view"),{toast:_}=st(),{confirm:w,ConfirmDialog:E}=Ir();N.useEffect(()=>{e&&(k(),x(),C(),D())},[e]);const k=async()=>{try{const F=await J.get(`/projects/${e}`);s(F.data)}catch(F){console.error(":",F)}},x=async()=>{try{const F=await J.get("/roles?page=1&limit=100");o(F.data.data||[])}catch(F){console.error(":",F)}},C=async()=>{try{const F=await J.get("/users?page=1&limit=100");i(F.data.data||[])}catch(F){console.error(":",F)}},D=async()=>{try{const F=await J.get(`/projects/${e}/permissions`);p(F.data||[])}catch(F){console.error(":",F)}finally{m(!1)}},A=async()=>{var F,z;if(!S){_({title:"",description:"",variant:"error"});return}try{await J.post(`/projects/${e}/permissions/roles`,{role_id:S,action:c}),D(),y(""),_({title:"",description:"",variant:"success"})}catch(G){_({title:"",description:((z=(F=G.response)==null?void 0:F.data)==null?void 0:z.error)||"",variant:"error"})}},j=async()=>{var F,z;if(!a){_({title:"",description:"",variant:"error"});return}try{await J.post(`/projects/${e}/permissions/users`,{user_id:a,action:c}),D(),u(""),_({title:"",description:"",variant:"success"})}catch(G){_({title:"",description:((z=(F=G.response)==null?void 0:F.data)==null?void 0:z.error)||"",variant:"error"})}},T=async F=>{var G,R;if(await w("",""))try{await J.delete(`/project-permissions/${F}`),D(),_({title:"",description:"",variant:"success"})}catch(P){_({title:"",description:((R=(G=P.response)==null?void 0:G.data)==null?void 0:R.error)||"",variant:"error"})}},I=F=>{const z=ca.find(G=>G.value===F);return(z==null?void 0:z.label)||F};return v?d.jsx("div",{className:"p-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx(E,{}),d.jsxs("div",{className:"p-8",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("button",{onClick:()=>t("/projects"),className:"mb-4 text-blue-600 hover:text-blue-800",children:" "}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:""}),r&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"text-gray-600",children:[": ",d.jsx("span",{className:"font-semibold",children:r.name})]}),r.description&&d.jsx("p",{className:"text-sm text-gray-500 mt-1",children:r.description})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:""})]}),d.jsxs("div",{className:"mb-6 p-4 border rounded bg-white",children:[d.jsxs("div",{className:"flex gap-4 mb-4",children:[d.jsx("button",{onClick:()=>b("role"),className:`px-4 py-2 rounded ${g==="role"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""}),d.jsx("button",{onClick:()=>b("user"),className:`px-4 py-2 rounded ${g==="user"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:""})]}),g==="role"?d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsxs("select",{value:S,onChange:F=>y(F.target.value),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),n.map(F=>d.jsx("option",{value:F.id,children:F.name},F.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("select",{value:c,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 border rounded",children:ca.map(F=>d.jsx("option",{value:F.value,children:F.label},F.value))})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:A,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})})]}):d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsxs("select",{value:a,onChange:F=>u(F.target.value),className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),h.map(F=>d.jsxs("option",{value:F.id,children:[F.username," (",F.email,")"]},F.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm font-medium",children:""}),d.jsx("select",{value:c,onChange:F=>f(F.target.value),className:"w-full px-3 py-2 border rounded",children:ca.map(F=>d.jsx("option",{value:F.value,children:F.label},F.value))})]}),d.jsx("div",{className:"flex items-end",children:d.jsx("button",{onClick:j,className:"w-full px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})})]})]}),d.jsxs("div",{className:"bg-white border rounded",children:[d.jsx("div",{className:"p-4 border-b",children:d.jsx("h2",{className:"text-xl font-semibold",children:""})}),d.jsx("div",{className:"p-4",children:l.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:""}):d.jsx("div",{className:"space-y-2",children:l.map(F=>{var z;return d.jsxs("div",{className:"p-4 border rounded flex justify-between items-center hover:bg-gray-50",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:F.role?`: ${F.role.name}`:`: ${(z=F.user)==null?void 0:z.username}`}),F.user&&d.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",F.user.email,")"]})]}),d.jsx("div",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:I(F.action)})]})}),d.jsx("button",{onClick:()=>T(F.id),className:"px-3 py-1 text-sm bg-red-200 text-red-700 rounded hover:bg-red-300",children:""})]},F.id)})})})]})]})]})}function Uw(){const[e,t]=N.useState([]),[r,s]=N.useState(!0),[n,o]=N.useState(1),[h,i]=N.useState(0),[l,p]=N.useState({resource_type:"",action:"",user_id:""});N.useEffect(()=>{v()},[n,l]);const v=async()=>{s(!0);try{const g=new URLSearchParams({page:n.toString(),limit:"20"});l.resource_type&&g.append("resource_type",l.resource_type),l.action&&g.append("action",l.action),l.user_id&&g.append("user_id",l.user_id);const b=await J.get(`/audit-logs?${g.toString()}`);t(b.data.data||[]),i(b.data.total||0)}catch(g){console.error(":",g)}finally{s(!1)}},m=g=>new Date(g).toLocaleString("zh-CN");return d.jsxs("div",{className:"p-8",children:[d.jsx("h1",{className:"text-2xl font-bold mb-6",children:""}),d.jsxs("div",{className:"mb-6 p-4 bg-white rounded shadow",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:""}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsx("input",{type:"text",value:l.resource_type,onChange:g=>p({...l,resource_type:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:": asset, relation"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsx("input",{type:"text",value:l.action,onChange:g=>p({...l,action:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:": create, update, delete"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:"ID"}),d.jsx("input",{type:"text",value:l.user_id,onChange:g=>p({...l,user_id:g.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"UUID"})]})]})]}),r?d.jsx("div",{className:"text-center py-8",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"bg-white rounded shadow overflow-hidden",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(g=>d.jsxs("tr",{children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:m(g.created_at)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.resource_type}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:g.action}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[g.user_id.substring(0,8),"..."]}),d.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:d.jsx("pre",{className:"text-xs bg-gray-50 p-2 rounded max-w-md overflow-auto",children:JSON.stringify(g.details,null,2)})})]},g.id))})]})}),d.jsxs("div",{className:"mt-4 flex justify-between items-center",children:[d.jsxs("div",{className:"text-sm text-gray-700",children:[" ",h,"  ",n," "]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>o(Math.max(1,n-1)),disabled:n===1,className:"px-4 py-2 border rounded disabled:opacity-50",children:""}),d.jsx("button",{onClick:()=>o(n+1),disabled:n*20>=h,className:"px-4 py-2 border rounded disabled:opacity-50",children:""})]})]})]})]})}var Em={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={4567:function(h,i,l){var p=this&&this.__decorate||function(f,_,w,E){var k,x=arguments.length,C=x<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(f,_,w,E);else for(var D=f.length-1;D>=0;D--)(k=f[D])&&(C=(x<3?k(C):x>3?k(_,w,C):k(_,w))||C);return x>3&&C&&Object.defineProperty(_,w,C),C},v=this&&this.__param||function(f,_){return function(w,E){_(w,E,f)}};Object.defineProperty(i,"__esModule",{value:!0}),i.AccessibilityManager=void 0;const m=l(9042),g=l(6114),b=l(9924),S=l(844),y=l(5596),a=l(4725),u=l(3656);let c=i.AccessibilityManager=class extends S.Disposable{constructor(f,_){super(),this._terminal=f,this._renderService=_,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new b.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new y.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,S.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(f){for(let _=0;_<f;_++)this._handleChar(" ")}_handleChar(f){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==f&&(this._charsToAnnounce+=f):this._charsToAnnounce+=f,f===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=m.tooMuchOutput)),g.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,g.isMac&&this._liveRegion.remove()}_handleKey(f){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(f)||this._charsToConsume.push(f)}_refreshRows(f,_){this._liveRegionDebouncer.refresh(f,_,this._terminal.rows)}_renderRows(f,_){const w=this._terminal.buffer,E=w.lines.length.toString();for(let k=f;k<=_;k++){const x=w.translateBufferLineToString(w.ydisp+k,!0),C=(w.ydisp+k+1).toString(),D=this._rowElements[k];D&&(x.length===0?D.innerText="":D.textContent=x,D.setAttribute("aria-posinset",C),D.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(f,_){const w=f.target,E=this._rowElements[_===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(_===0?"1":`${this._terminal.buffer.lines.length}`)||f.relatedTarget!==E)return;let k,x;if(_===0?(k=w,x=this._rowElements.pop(),this._rowContainer.removeChild(x)):(k=this._rowElements.shift(),x=w,this._rowContainer.removeChild(k)),k.removeEventListener("focus",this._topBoundaryFocusListener),x.removeEventListener("focus",this._bottomBoundaryFocusListener),_===0){const C=this._createAccessibilityTreeNode();this._rowElements.unshift(C),this._rowContainer.insertAdjacentElement("afterbegin",C)}else{const C=this._createAccessibilityTreeNode();this._rowElements.push(C),this._rowContainer.appendChild(C)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(_===0?-1:1),this._rowElements[_===0?1:this._rowElements.length-2].focus(),f.preventDefault(),f.stopImmediatePropagation()}_handleResize(f){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let _=this._rowContainer.children.length;_<this._terminal.rows;_++)this._rowElements[_]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[_]);for(;this._rowElements.length>f;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const f=document.createElement("div");return f.setAttribute("role","listitem"),f.tabIndex=-1,this._refreshRowDimensions(f),f}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let f=0;f<this._terminal.rows;f++)this._refreshRowDimensions(this._rowElements[f])}}_refreshRowDimensions(f){f.style.height=`${this._renderService.dimensions.css.cell.height}px`}};i.AccessibilityManager=c=p([v(1,a.IRenderService)],c)},3614:(h,i)=>{function l(g){return g.replace(/\r?\n/g,"\r")}function p(g,b){return b?"\x1B[200~"+g+"\x1B[201~":g}function v(g,b,S,y){g=p(g=l(g),S.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),S.triggerDataEvent(g,!0),b.value=""}function m(g,b,S){const y=S.getBoundingClientRect(),a=g.clientX-y.left-10,u=g.clientY-y.top-10;b.style.width="20px",b.style.height="20px",b.style.left=`${a}px`,b.style.top=`${u}px`,b.style.zIndex="1000",b.focus()}Object.defineProperty(i,"__esModule",{value:!0}),i.rightClickHandler=i.moveTextAreaUnderMouseCursor=i.paste=i.handlePasteEvent=i.copyHandler=i.bracketTextForPaste=i.prepareTextForTerminal=void 0,i.prepareTextForTerminal=l,i.bracketTextForPaste=p,i.copyHandler=function(g,b){g.clipboardData&&g.clipboardData.setData("text/plain",b.selectionText),g.preventDefault()},i.handlePasteEvent=function(g,b,S,y){g.stopPropagation(),g.clipboardData&&v(g.clipboardData.getData("text/plain"),b,S,y)},i.paste=v,i.moveTextAreaUnderMouseCursor=m,i.rightClickHandler=function(g,b,S,y,a){m(g,b,S),a&&y.rightClickSelect(g),b.value=y.selectionText,b.select()}},7239:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorContrastCache=void 0;const p=l(1505);i.ColorContrastCache=class{constructor(){this._color=new p.TwoKeyMap,this._css=new p.TwoKeyMap}setCss(v,m,g){this._css.set(v,m,g)}getCss(v,m){return this._css.get(v,m)}setColor(v,m,g){this._color.set(v,m,g)}getColor(v,m){return this._color.get(v,m)}clear(){this._color.clear(),this._css.clear()}}},3656:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.addDisposableDomListener=void 0,i.addDisposableDomListener=function(l,p,v,m){l.addEventListener(p,v,m);let g=!1;return{dispose:()=>{g||(g=!0,l.removeEventListener(p,v,m))}}}},6465:function(h,i,l){var p=this&&this.__decorate||function(a,u,c,f){var _,w=arguments.length,E=w<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,u,c,f);else for(var k=a.length-1;k>=0;k--)(_=a[k])&&(E=(w<3?_(E):w>3?_(u,c,E):_(u,c))||E);return w>3&&E&&Object.defineProperty(u,c,E),E},v=this&&this.__param||function(a,u){return function(c,f){u(c,f,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Linkifier2=void 0;const m=l(3656),g=l(8460),b=l(844),S=l(2585);let y=i.Linkifier2=class extends b.Disposable{get currentLink(){return this._currentLink}constructor(a){super(),this._bufferService=a,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new g.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new g.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,b.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,b.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(a){return this._linkProviders.push(a),{dispose:()=>{const u=this._linkProviders.indexOf(a);u!==-1&&this._linkProviders.splice(u,1)}}}attachToDom(a,u,c){this._element=a,this._mouseService=u,this._renderService=c,this.register((0,m.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,m.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,m.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(a){if(this._lastMouseEvent=a,!this._element||!this._mouseService)return;const u=this._positionFromMouseEvent(a,this._element,this._mouseService);if(!u)return;this._isMouseOut=!1;const c=a.composedPath();for(let f=0;f<c.length;f++){const _=c[f];if(_.classList.contains("xterm"))break;if(_.classList.contains("xterm-hover"))return}this._lastBufferCell&&u.x===this._lastBufferCell.x&&u.y===this._lastBufferCell.y||(this._handleHover(u),this._lastBufferCell=u)}_handleHover(a){if(this._activeLine!==a.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(a,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,a)||(this._clearCurrentLink(),this._askForLink(a,!0))}_askForLink(a,u){var c,f;this._activeProviderReplies&&u||((c=this._activeProviderReplies)===null||c===void 0||c.forEach(w=>{w==null||w.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=a.y);let _=!1;for(const[w,E]of this._linkProviders.entries())u?!((f=this._activeProviderReplies)===null||f===void 0)&&f.get(w)&&(_=this._checkLinkProviderResult(w,a,_)):E.provideLinks(a.y,k=>{var x,C;if(this._isMouseOut)return;const D=k==null?void 0:k.map(A=>({link:A}));(x=this._activeProviderReplies)===null||x===void 0||x.set(w,D),_=this._checkLinkProviderResult(w,a,_),((C=this._activeProviderReplies)===null||C===void 0?void 0:C.size)===this._linkProviders.length&&this._removeIntersectingLinks(a.y,this._activeProviderReplies)})}_removeIntersectingLinks(a,u){const c=new Set;for(let f=0;f<u.size;f++){const _=u.get(f);if(_)for(let w=0;w<_.length;w++){const E=_[w],k=E.link.range.start.y<a?0:E.link.range.start.x,x=E.link.range.end.y>a?this._bufferService.cols:E.link.range.end.x;for(let C=k;C<=x;C++){if(c.has(C)){_.splice(w--,1);break}c.add(C)}}}}_checkLinkProviderResult(a,u,c){var f;if(!this._activeProviderReplies)return c;const _=this._activeProviderReplies.get(a);let w=!1;for(let E=0;E<a;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(w=!0);if(!w&&_){const E=_.find(k=>this._linkAtPosition(k.link,u));E&&(c=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!c)for(let E=0;E<this._activeProviderReplies.size;E++){const k=(f=this._activeProviderReplies.get(E))===null||f===void 0?void 0:f.find(x=>this._linkAtPosition(x.link,u));if(k){c=!0,this._handleNewLink(k);break}}return c}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(a){if(!this._element||!this._mouseService||!this._currentLink)return;const u=this._positionFromMouseEvent(a,this._element,this._mouseService);u&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,u)&&this._currentLink.link.activate(a,this._currentLink.link.text)}_clearCurrentLink(a,u){this._element&&this._currentLink&&this._lastMouseEvent&&(!a||!u||this._currentLink.link.range.start.y>=a&&this._currentLink.link.range.end.y<=u)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,b.disposeArray)(this._linkCacheDisposables))}_handleNewLink(a){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const u=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);u&&this._linkAtPosition(a.link,u)&&(this._currentLink=a,this._currentLink.state={decorations:{underline:a.link.decorations===void 0||a.link.decorations.underline,pointerCursor:a.link.decorations===void 0||a.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,a.link,this._lastMouseEvent),a.link.decorations={},Object.defineProperties(a.link.decorations,{pointerCursor:{get:()=>{var c,f;return(f=(c=this._currentLink)===null||c===void 0?void 0:c.state)===null||f===void 0?void 0:f.decorations.pointerCursor},set:c=>{var f,_;!((f=this._currentLink)===null||f===void 0)&&f.state&&this._currentLink.state.decorations.pointerCursor!==c&&(this._currentLink.state.decorations.pointerCursor=c,this._currentLink.state.isHovered&&((_=this._element)===null||_===void 0||_.classList.toggle("xterm-cursor-pointer",c)))}},underline:{get:()=>{var c,f;return(f=(c=this._currentLink)===null||c===void 0?void 0:c.state)===null||f===void 0?void 0:f.decorations.underline},set:c=>{var f,_,w;!((f=this._currentLink)===null||f===void 0)&&f.state&&((w=(_=this._currentLink)===null||_===void 0?void 0:_.state)===null||w===void 0?void 0:w.decorations.underline)!==c&&(this._currentLink.state.decorations.underline=c,this._currentLink.state.isHovered&&this._fireUnderlineEvent(a.link,c))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(c=>{if(!this._currentLink)return;const f=c.start===0?0:c.start+1+this._bufferService.buffer.ydisp,_=this._bufferService.buffer.ydisp+1+c.end;if(this._currentLink.link.range.start.y>=f&&this._currentLink.link.range.end.y<=_&&(this._clearCurrentLink(f,_),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(a,u,c){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!0),this._currentLink.state.decorations.pointerCursor&&a.classList.add("xterm-cursor-pointer")),u.hover&&u.hover(c,u.text)}_fireUnderlineEvent(a,u){const c=a.range,f=this._bufferService.buffer.ydisp,_=this._createLinkUnderlineEvent(c.start.x-1,c.start.y-f-1,c.end.x,c.end.y-f-1,void 0);(u?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(_)}_linkLeave(a,u,c){var f;!((f=this._currentLink)===null||f===void 0)&&f.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(u,!1),this._currentLink.state.decorations.pointerCursor&&a.classList.remove("xterm-cursor-pointer")),u.leave&&u.leave(c,u.text)}_linkAtPosition(a,u){const c=a.range.start.y*this._bufferService.cols+a.range.start.x,f=a.range.end.y*this._bufferService.cols+a.range.end.x,_=u.y*this._bufferService.cols+u.x;return c<=_&&_<=f}_positionFromMouseEvent(a,u,c){const f=c.getCoords(a,u,this._bufferService.cols,this._bufferService.rows);if(f)return{x:f[0],y:f[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(a,u,c,f,_){return{x1:a,y1:u,x2:c,y2:f,cols:this._bufferService.cols,fg:_}}};i.Linkifier2=y=p([v(0,S.IBufferService)],y)},9042:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.tooMuchOutput=i.promptLabel=void 0,i.promptLabel="Terminal input",i.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(h,i,l){var p=this&&this.__decorate||function(y,a,u,c){var f,_=arguments.length,w=_<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(y,a,u,c);else for(var E=y.length-1;E>=0;E--)(f=y[E])&&(w=(_<3?f(w):_>3?f(a,u,w):f(a,u))||w);return _>3&&w&&Object.defineProperty(a,u,w),w},v=this&&this.__param||function(y,a){return function(u,c){a(u,c,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkProvider=void 0;const m=l(511),g=l(2585);let b=i.OscLinkProvider=class{constructor(y,a,u){this._bufferService=y,this._optionsService=a,this._oscLinkService=u}provideLinks(y,a){var u;const c=this._bufferService.buffer.lines.get(y-1);if(!c)return void a(void 0);const f=[],_=this._optionsService.rawOptions.linkHandler,w=new m.CellData,E=c.getTrimmedLength();let k=-1,x=-1,C=!1;for(let D=0;D<E;D++)if(x!==-1||c.hasContent(D)){if(c.loadCell(D,w),w.hasExtendedAttrs()&&w.extended.urlId){if(x===-1){x=D,k=w.extended.urlId;continue}C=w.extended.urlId!==k}else x!==-1&&(C=!0);if(C||x!==-1&&D===E-1){const A=(u=this._oscLinkService.getLinkData(k))===null||u===void 0?void 0:u.uri;if(A){const j={start:{x:x+1,y},end:{x:D+(C||D!==E-1?0:1),y}};let T=!1;if(!(_!=null&&_.allowNonHttpProtocols))try{const I=new URL(A);["http:","https:"].includes(I.protocol)||(T=!0)}catch{T=!0}T||f.push({text:A,range:j,activate:(I,F)=>_?_.activate(I,F,j):S(0,F),hover:(I,F)=>{var z;return(z=_==null?void 0:_.hover)===null||z===void 0?void 0:z.call(_,I,F,j)},leave:(I,F)=>{var z;return(z=_==null?void 0:_.leave)===null||z===void 0?void 0:z.call(_,I,F,j)}})}C=!1,w.hasExtendedAttrs()&&w.extended.urlId?(x=D,k=w.extended.urlId):(x=-1,k=-1)}}a(f)}};function S(y,a){if(confirm(`Do you want to navigate to ${a}?

WARNING: This link could potentially be dangerous`)){const u=window.open();if(u){try{u.opener=null}catch{}u.location.href=a}else console.warn("Opening link blocked as opener could not be cleared")}}i.OscLinkProvider=b=p([v(0,g.IBufferService),v(1,g.IOptionsService),v(2,g.IOscLinkService)],b)},6193:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.RenderDebouncer=void 0,i.RenderDebouncer=class{constructor(l,p){this._parentWindow=l,this._renderCallback=p,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,p,v){this._rowCount=v,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ScreenDprMonitor=void 0;const p=l(844);class v extends p.Disposable{constructor(g){super(),this._parentWindow=g,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,p.toDisposable)(()=>{this.clearListener()}))}setListener(g){this._listener&&this.clearListener(),this._listener=g,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var g;this._outerListener&&((g=this._resolutionMediaMatchList)===null||g===void 0||g.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}i.ScreenDprMonitor=v},3236:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Terminal=void 0;const p=l(3614),v=l(3656),m=l(6465),g=l(9042),b=l(3730),S=l(1680),y=l(3107),a=l(5744),u=l(2950),c=l(1296),f=l(428),_=l(4269),w=l(5114),E=l(8934),k=l(3230),x=l(9312),C=l(4725),D=l(6731),A=l(8055),j=l(8969),T=l(8460),I=l(844),F=l(6114),z=l(8437),G=l(2584),R=l(7399),P=l(5941),O=l(9074),M=l(2585),U=l(5435),H=l(4567),q=typeof window<"u"?window.document:null;class V extends j.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(L={}){super(L),this.browser=F,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new I.MutableDisposable),this._onCursorMove=this.register(new T.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new T.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new T.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new T.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new T.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new T.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new T.EventEmitter),this._onBlur=this.register(new T.EventEmitter),this._onA11yCharEmitter=this.register(new T.EventEmitter),this._onA11yTabEmitter=this.register(new T.EventEmitter),this._onWillOpen=this.register(new T.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(m.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(b.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(O.DecorationService),this._instantiationService.setService(M.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((B,K)=>this.refresh(B,K))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(B=>this._reportWindowsOptions(B))),this.register(this._inputHandler.onColor(B=>this._handleColorEvent(B))),this.register((0,T.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,T.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,T.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,T.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(B=>this._afterResize(B.cols,B.rows))),this.register((0,I.toDisposable)(()=>{var B,K;this._customKeyEventHandler=void 0,(K=(B=this.element)===null||B===void 0?void 0:B.parentNode)===null||K===void 0||K.removeChild(this.element)}))}_handleColorEvent(L){if(this._themeService)for(const B of L){let K,$="";switch(B.index){case 256:K="foreground",$="10";break;case 257:K="background",$="11";break;case 258:K="cursor",$="12";break;default:K="ansi",$="4;"+B.index}switch(B.type){case 0:const ee=A.color.toColorRGB(K==="ansi"?this._themeService.colors.ansi[B.index]:this._themeService.colors[K]);this.coreService.triggerDataEvent(`${G.C0.ESC}]${$};${(0,P.toRgbString)(ee)}${G.C1_ESCAPED.ST}`);break;case 1:if(K==="ansi")this._themeService.modifyColors(Y=>Y.ansi[B.index]=A.rgba.toColor(...B.color));else{const Y=K;this._themeService.modifyColors(oe=>oe[Y]=A.rgba.toColor(...B.color))}break;case 2:this._themeService.restoreColor(B.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(L){L?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(L){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[I"),this.updateCursorStyle(L),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var L;return(L=this.textarea)===null||L===void 0?void 0:L.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const L=this.buffer.ybase+this.buffer.y,B=this.buffer.lines.get(L);if(!B)return;const K=Math.min(this.buffer.x,this.cols-1),$=this._renderService.dimensions.css.cell.height,ee=B.getWidth(K),Y=this._renderService.dimensions.css.cell.width*ee,oe=this.buffer.y*this._renderService.dimensions.css.cell.height,ce=K*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ce+"px",this.textarea.style.top=oe+"px",this.textarea.style.width=Y+"px",this.textarea.style.height=$+"px",this.textarea.style.lineHeight=$+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,v.addDisposableDomListener)(this.element,"copy",B=>{this.hasSelection()&&(0,p.copyHandler)(B,this._selectionService)}));const L=B=>(0,p.handlePasteEvent)(B,this.textarea,this.coreService,this.optionsService);this.register((0,v.addDisposableDomListener)(this.textarea,"paste",L)),this.register((0,v.addDisposableDomListener)(this.element,"paste",L)),F.isFirefox?this.register((0,v.addDisposableDomListener)(this.element,"mousedown",B=>{B.button===2&&(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,v.addDisposableDomListener)(this.element,"contextmenu",B=>{(0,p.rightClickHandler)(B,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),F.isLinux&&this.register((0,v.addDisposableDomListener)(this.element,"auxclick",B=>{B.button===1&&(0,p.moveTextAreaUnderMouseCursor)(B,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,v.addDisposableDomListener)(this.textarea,"keyup",L=>this._keyUp(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keydown",L=>this._keyDown(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"keypress",L=>this._keyPress(L),!0)),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionupdate",L=>this._compositionHelper.compositionupdate(L))),this.register((0,v.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,v.addDisposableDomListener)(this.textarea,"input",L=>this._inputEvent(L),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(L){var B;if(!L)throw new Error("Terminal requires a parent element.");L.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=L.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),L.appendChild(this.element);const K=q.createDocumentFragment();this._viewportElement=q.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),K.appendChild(this._viewportElement),this._viewportScrollArea=q.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=q.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=q.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),K.appendChild(this.screenElement),this.textarea=q.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",g.promptLabel),F.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(B=this._document.defaultView)!==null&&B!==void 0?B:window),this._instantiationService.setService(C.ICoreBrowserService,this._coreBrowserService),this.register((0,v.addDisposableDomListener)(this.textarea,"focus",$=>this._handleTextAreaFocus($))),this.register((0,v.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(C.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(D.ThemeService),this._instantiationService.setService(C.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(_.CharacterJoinerService),this._instantiationService.setService(C.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(k.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(C.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange($=>this._onRender.fire($))),this.onResize($=>this._renderService.resize($.cols,$.rows)),this._compositionView=q.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(u.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(K);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(C.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(S.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines($=>this.scrollLines($.amount,$.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(x.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(C.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines($=>this.scrollLines($.amount,$.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw($=>this._renderService.handleSelectionChanged($.start,$.end,$.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection($=>{this.textarea.value=$,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event($=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,v.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,v.addDisposableDomListener)(this.element,"mousedown",$=>this._selectionService.handleMouseDown($))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(H.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",$=>this._handleScreenReaderModeOptionChange($))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",$=>{!this._overviewRulerRenderer&&$&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(a.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(c.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const L=this,B=this.element;function K(Y){const oe=L._mouseService.getMouseReportCoords(Y,L.screenElement);if(!oe)return!1;let ce,Ae;switch(Y.overrideType||Y.type){case"mousemove":Ae=32,Y.buttons===void 0?(ce=3,Y.button!==void 0&&(ce=Y.button<3?Y.button:3)):ce=1&Y.buttons?0:4&Y.buttons?1:2&Y.buttons?2:3;break;case"mouseup":Ae=0,ce=Y.button<3?Y.button:3;break;case"mousedown":Ae=1,ce=Y.button<3?Y.button:3;break;case"wheel":if(L.viewport.getLinesScrolled(Y)===0)return!1;Ae=Y.deltaY<0?0:1,ce=4;break;default:return!1}return!(Ae===void 0||ce===void 0||ce>4)&&L.coreMouseService.triggerMouseEvent({col:oe.col,row:oe.row,x:oe.x,y:oe.y,button:ce,action:Ae,ctrl:Y.ctrlKey,alt:Y.altKey,shift:Y.shiftKey})}const $={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ee={mouseup:Y=>(K(Y),Y.buttons||(this._document.removeEventListener("mouseup",$.mouseup),$.mousedrag&&this._document.removeEventListener("mousemove",$.mousedrag)),this.cancel(Y)),wheel:Y=>(K(Y),this.cancel(Y,!0)),mousedrag:Y=>{Y.buttons&&K(Y)},mousemove:Y=>{Y.buttons||K(Y)}};this.register(this.coreMouseService.onProtocolChange(Y=>{Y?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(Y)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&Y?$.mousemove||(B.addEventListener("mousemove",ee.mousemove),$.mousemove=ee.mousemove):(B.removeEventListener("mousemove",$.mousemove),$.mousemove=null),16&Y?$.wheel||(B.addEventListener("wheel",ee.wheel,{passive:!1}),$.wheel=ee.wheel):(B.removeEventListener("wheel",$.wheel),$.wheel=null),2&Y?$.mouseup||(B.addEventListener("mouseup",ee.mouseup),$.mouseup=ee.mouseup):(this._document.removeEventListener("mouseup",$.mouseup),B.removeEventListener("mouseup",$.mouseup),$.mouseup=null),4&Y?$.mousedrag||($.mousedrag=ee.mousedrag):(this._document.removeEventListener("mousemove",$.mousedrag),$.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,v.addDisposableDomListener)(B,"mousedown",Y=>{if(Y.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(Y))return K(Y),$.mouseup&&this._document.addEventListener("mouseup",$.mouseup),$.mousedrag&&this._document.addEventListener("mousemove",$.mousedrag),this.cancel(Y)})),this.register((0,v.addDisposableDomListener)(B,"wheel",Y=>{if(!$.wheel){if(!this.buffer.hasScrollback){const oe=this.viewport.getLinesScrolled(Y);if(oe===0)return;const ce=G.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(Y.deltaY<0?"A":"B");let Ae="";for(let pe=0;pe<Math.abs(oe);pe++)Ae+=ce;return this.coreService.triggerDataEvent(Ae,!0),this.cancel(Y,!0)}return this.viewport.handleWheel(Y)?this.cancel(Y):void 0}},{passive:!1})),this.register((0,v.addDisposableDomListener)(B,"touchstart",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(Y),this.cancel(Y)},{passive:!0})),this.register((0,v.addDisposableDomListener)(B,"touchmove",Y=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(Y)?void 0:this.cancel(Y)},{passive:!1}))}refresh(L,B){var K;(K=this._renderService)===null||K===void 0||K.refreshRows(L,B)}updateCursorStyle(L){var B;!((B=this._selectionService)===null||B===void 0)&&B.shouldColumnSelect(L)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(L,B,K=0){var $;K===1?(super.scrollLines(L,B,K),this.refresh(0,this.rows-1)):($=this.viewport)===null||$===void 0||$.scrollLines(L)}paste(L){(0,p.paste)(L,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(L){this._customKeyEventHandler=L}registerLinkProvider(L){return this.linkifier2.registerLinkProvider(L)}registerCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const B=this._characterJoinerService.register(L);return this.refresh(0,this.rows-1),B}deregisterCharacterJoiner(L){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(L)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(L){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+L)}registerDecoration(L){return this._decorationService.registerDecoration(L)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(L,B,K){this._selectionService.setSelection(L,B,K)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var L;(L=this._selectionService)===null||L===void 0||L.clearSelection()}selectAll(){var L;(L=this._selectionService)===null||L===void 0||L.selectAll()}selectLines(L,B){var K;(K=this._selectionService)===null||K===void 0||K.selectLines(L,B)}_keyDown(L){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;const B=this.browser.isMac&&this.options.macOptionIsMeta&&L.altKey;if(!B&&!this._compositionHelper.keydown(L))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;B||L.key!=="Dead"&&L.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const K=(0,R.evaluateKeyboardEvent)(L,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(L),K.type===3||K.type===2){const $=this.rows-1;return this.scrollLines(K.type===2?-$:$),this.cancel(L,!0)}return K.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,L)||(K.cancel&&this.cancel(L,!0),!K.key||!!(L.key&&!L.ctrlKey&&!L.altKey&&!L.metaKey&&L.key.length===1&&L.key.charCodeAt(0)>=65&&L.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(K.key!==G.C0.ETX&&K.key!==G.C0.CR||(this.textarea.value=""),this._onKey.fire({key:K.key,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(K.key,!0),!this.optionsService.rawOptions.screenReaderMode||L.altKey||L.ctrlKey?this.cancel(L,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(L,B){const K=L.isMac&&!this.options.macOptionIsMeta&&B.altKey&&!B.ctrlKey&&!B.metaKey||L.isWindows&&B.altKey&&B.ctrlKey&&!B.metaKey||L.isWindows&&B.getModifierState("AltGraph");return B.type==="keypress"?K:K&&(!B.keyCode||B.keyCode>47)}_keyUp(L){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1||(function(B){return B.keyCode===16||B.keyCode===17||B.keyCode===18}(L)||this.focus(),this.updateCursorStyle(L),this._keyPressHandled=!1)}_keyPress(L){let B;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(L)===!1)return!1;if(this.cancel(L),L.charCode)B=L.charCode;else if(L.which===null||L.which===void 0)B=L.keyCode;else{if(L.which===0||L.charCode===0)return!1;B=L.which}return!(!B||(L.altKey||L.ctrlKey||L.metaKey)&&!this._isThirdLevelShift(this.browser,L)||(B=String.fromCharCode(B),this._onKey.fire({key:B,domEvent:L}),this._showCursor(),this.coreService.triggerDataEvent(B,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(L){if(L.data&&L.inputType==="insertText"&&(!L.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const B=L.data;return this.coreService.triggerDataEvent(B,!0),this.cancel(L),!0}return!1}resize(L,B){L!==this.cols||B!==this.rows?super.resize(L,B):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(L,B){var K,$;(K=this._charSizeService)===null||K===void 0||K.measure(),($=this.viewport)===null||$===void 0||$.syncScrollArea(!0)}clear(){var L;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let B=1;B<this.rows;B++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(L=this.viewport)===null||L===void 0||L.reset(),this.refresh(0,this.rows-1)}}reset(){var L,B;this.options.rows=this.rows,this.options.cols=this.cols;const K=this._customKeyEventHandler;this._setup(),super.reset(),(L=this._selectionService)===null||L===void 0||L.reset(),this._decorationService.reset(),(B=this.viewport)===null||B===void 0||B.reset(),this._customKeyEventHandler=K,this.refresh(0,this.rows-1)}clearTextureAtlas(){var L;(L=this._renderService)===null||L===void 0||L.clearTextureAtlas()}_reportFocus(){var L;!((L=this.element)===null||L===void 0)&&L.classList.contains("focus")?this.coreService.triggerDataEvent(G.C0.ESC+"[I"):this.coreService.triggerDataEvent(G.C0.ESC+"[O")}_reportWindowsOptions(L){if(this._renderService)switch(L){case U.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const B=this._renderService.dimensions.css.canvas.width.toFixed(0),K=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[4;${K};${B}t`);break;case U.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const $=this._renderService.dimensions.css.cell.width.toFixed(0),ee=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[6;${ee};${$}t`)}}cancel(L,B){if(this.options.cancelEvents||B)return L.preventDefault(),L.stopPropagation(),!1}}i.Terminal=V},9924:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TimeBasedDebouncer=void 0,i.TimeBasedDebouncer=class{constructor(l,p=1e3){this._renderCallback=l,this._debounceThresholdMS=p,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,p,v){this._rowCount=v,l=l!==void 0?l:0,p=p!==void 0?p:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,p):p;const m=Date.now();if(m-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=m,this._innerRefresh();else if(!this._additionalRefreshRequested){const g=m-this._lastRefreshMs,b=this._debounceThresholdMS-g;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},b)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),p=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,p)}}},1680:function(h,i,l){var p=this&&this.__decorate||function(u,c,f,_){var w,E=arguments.length,k=E<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,f):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,c,f,_);else for(var x=u.length-1;x>=0;x--)(w=u[x])&&(k=(E<3?w(k):E>3?w(c,f,k):w(c,f))||k);return E>3&&k&&Object.defineProperty(c,f,k),k},v=this&&this.__param||function(u,c){return function(f,_){c(f,_,u)}};Object.defineProperty(i,"__esModule",{value:!0}),i.Viewport=void 0;const m=l(3656),g=l(4725),b=l(8460),S=l(844),y=l(2585);let a=i.Viewport=class extends S.Disposable{constructor(u,c,f,_,w,E,k,x){super(),this._viewportElement=u,this._scrollArea=c,this._bufferService=f,this._optionsService=_,this._charSizeService=w,this._renderService=E,this._coreBrowserService=k,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new b.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,m.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(C=>this._activeBuffer=C.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(C=>this._renderDimensions=C)),this._handleThemeChange(x.colors),this.register(x.onChangeColors(C=>this._handleThemeChange(C))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(u){this._viewportElement.style.backgroundColor=u.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(u){if(u)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const c=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==c&&(this._lastRecordedBufferHeight=c,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const u=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==u&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=u),this._refreshAnimationFrame=null}syncScrollArea(u=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(u);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(u)}_handleScroll(u){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const c=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:c,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const u=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(u*(this._smoothScrollState.target-this._smoothScrollState.origin)),u<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(u,c){const f=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(c<0&&this._viewportElement.scrollTop!==0||c>0&&f<this._lastRecordedBufferHeight)||(u.cancelable&&u.preventDefault(),!1)}handleWheel(u){const c=this._getPixelsScrolled(u);return c!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+c:this._smoothScrollState.target+=c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=c,this._bubbleScroll(u,c))}scrollLines(u){if(u!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const c=u*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+c,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:u,suppressScrollEvent:!1})}_getPixelsScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let c=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_LINE?c*=this._currentRowHeight:u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._currentRowHeight*this._bufferService.rows),c}getBufferElements(u,c){var f;let _,w="";const E=[],k=c??this._bufferService.buffer.lines.length,x=this._bufferService.buffer.lines;for(let C=u;C<k;C++){const D=x.get(C);if(!D)continue;const A=(f=x.get(C+1))===null||f===void 0?void 0:f.isWrapped;if(w+=D.translateToString(!A),!A||C===x.length-1){const j=document.createElement("div");j.textContent=w,E.push(j),w.length>0&&(_=j),w=""}}return{bufferElements:E,cursorElement:_}}getLinesScrolled(u){if(u.deltaY===0||u.shiftKey)return 0;let c=this._applyScrollModifier(u.deltaY,u);return u.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(c/=this._currentRowHeight+0,this._wheelPartialScroll+=c,c=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):u.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(c*=this._bufferService.rows),c}_applyScrollModifier(u,c){const f=this._optionsService.rawOptions.fastScrollModifier;return f==="alt"&&c.altKey||f==="ctrl"&&c.ctrlKey||f==="shift"&&c.shiftKey?u*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:u*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(u){this._lastTouchY=u.touches[0].pageY}handleTouchMove(u){const c=this._lastTouchY-u.touches[0].pageY;return this._lastTouchY=u.touches[0].pageY,c!==0&&(this._viewportElement.scrollTop+=c,this._bubbleScroll(u,c))}};i.Viewport=a=p([v(2,y.IBufferService),v(3,y.IOptionsService),v(4,g.ICharSizeService),v(5,g.IRenderService),v(6,g.ICoreBrowserService),v(7,g.IThemeService)],a)},3107:function(h,i,l){var p=this&&this.__decorate||function(a,u,c,f){var _,w=arguments.length,E=w<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,u,c,f);else for(var k=a.length-1;k>=0;k--)(_=a[k])&&(E=(w<3?_(E):w>3?_(u,c,E):_(u,c))||E);return w>3&&E&&Object.defineProperty(u,c,E),E},v=this&&this.__param||function(a,u){return function(c,f){u(c,f,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferDecorationRenderer=void 0;const m=l(3656),g=l(4725),b=l(844),S=l(2585);let y=i.BufferDecorationRenderer=class extends b.Disposable{constructor(a,u,c,f){super(),this._screenElement=a,this._bufferService=u,this._decorationService=c,this._renderService=f,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,m.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(_=>this._removeDecoration(_))),this.register((0,b.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const a of this._decorationService.decorations)this._renderDecoration(a);this._dimensionsChanged=!1}_renderDecoration(a){this._refreshStyle(a),this._dimensionsChanged&&this._refreshXPosition(a)}_createElement(a){var u,c;const f=document.createElement("div");f.classList.add("xterm-decoration"),f.classList.toggle("xterm-decoration-top-layer",((u=a==null?void 0:a.options)===null||u===void 0?void 0:u.layer)==="top"),f.style.width=`${Math.round((a.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,f.style.height=(a.options.height||1)*this._renderService.dimensions.css.cell.height+"px",f.style.top=(a.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",f.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const _=(c=a.options.x)!==null&&c!==void 0?c:0;return _&&_>this._bufferService.cols&&(f.style.display="none"),this._refreshXPosition(a,f),f}_refreshStyle(a){const u=a.marker.line-this._bufferService.buffers.active.ydisp;if(u<0||u>=this._bufferService.rows)a.element&&(a.element.style.display="none",a.onRenderEmitter.fire(a.element));else{let c=this._decorationElements.get(a);c||(c=this._createElement(a),a.element=c,this._decorationElements.set(a,c),this._container.appendChild(c),a.onDispose(()=>{this._decorationElements.delete(a),c.remove()})),c.style.top=u*this._renderService.dimensions.css.cell.height+"px",c.style.display=this._altBufferIsActive?"none":"block",a.onRenderEmitter.fire(c)}}_refreshXPosition(a,u=a.element){var c;if(!u)return;const f=(c=a.options.x)!==null&&c!==void 0?c:0;(a.options.anchor||"left")==="right"?u.style.right=f?f*this._renderService.dimensions.css.cell.width+"px":"":u.style.left=f?f*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(a){var u;(u=this._decorationElements.get(a))===null||u===void 0||u.remove(),this._decorationElements.delete(a),a.dispose()}};i.BufferDecorationRenderer=y=p([v(1,S.IBufferService),v(2,S.IDecorationService),v(3,g.IRenderService)],y)},5871:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ColorZoneStore=void 0,i.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const p of this._zones)if(p.color===l.options.overviewRulerOptions.color&&p.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(p,l.marker.line))return;if(this._lineAdjacentToZone(p,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(p,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,p){return p>=l.startBufferLine&&p<=l.endBufferLine}_lineAdjacentToZone(l,p,v){return p>=l.startBufferLine-this._linePadding[v||"full"]&&p<=l.endBufferLine+this._linePadding[v||"full"]}_addLineToZone(l,p){l.startBufferLine=Math.min(l.startBufferLine,p),l.endBufferLine=Math.max(l.endBufferLine,p)}}},5744:function(h,i,l){var p=this&&this.__decorate||function(_,w,E,k){var x,C=arguments.length,D=C<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,E):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,w,E,k);else for(var A=_.length-1;A>=0;A--)(x=_[A])&&(D=(C<3?x(D):C>3?x(w,E,D):x(w,E))||D);return C>3&&D&&Object.defineProperty(w,E,D),D},v=this&&this.__param||function(_,w){return function(E,k){w(E,k,_)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OverviewRulerRenderer=void 0;const m=l(5871),g=l(3656),b=l(4725),S=l(844),y=l(2585),a={full:0,left:0,center:0,right:0},u={full:0,left:0,center:0,right:0},c={full:0,left:0,center:0,right:0};let f=i.OverviewRulerRenderer=class extends S.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(_,w,E,k,x,C,D){var A;super(),this._viewportElement=_,this._screenElement=w,this._bufferService=E,this._decorationService=k,this._renderService=x,this._optionsService=C,this._coreBrowseService=D,this._colorZoneStore=new m.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(A=this._viewportElement.parentElement)===null||A===void 0||A.insertBefore(this._canvas,this._viewportElement);const j=this._canvas.getContext("2d");if(!j)throw new Error("Ctx cannot be null");this._ctx=j,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,S.toDisposable)(()=>{var T;(T=this._canvas)===null||T===void 0||T.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,g.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const _=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);u.full=this._canvas.width,u.left=_,u.center=w,u.right=_,this._refreshDrawHeightConstants(),c.full=0,c.left=0,c.center=u.left,c.right=u.left+u.center}_refreshDrawHeightConstants(){a.full=Math.round(2*this._coreBrowseService.dpr);const _=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(_,12),6)*this._coreBrowseService.dpr);a.left=w,a.center=w,a.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*a.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const _=this._colorZoneStore.zones;for(const w of _)w.position!=="full"&&this._renderColorZone(w);for(const w of _)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(_){this._ctx.fillStyle=_.color,this._ctx.fillRect(c[_.position||"full"],Math.round((this._canvas.height-1)*(_.startBufferLine/this._bufferService.buffers.active.lines.length)-a[_.position||"full"]/2),u[_.position||"full"],Math.round((this._canvas.height-1)*((_.endBufferLine-_.startBufferLine)/this._bufferService.buffers.active.lines.length)+a[_.position||"full"]))}_queueRefresh(_,w){this._shouldUpdateDimensions=_||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};i.OverviewRulerRenderer=f=p([v(2,y.IBufferService),v(3,y.IDecorationService),v(4,b.IRenderService),v(5,y.IOptionsService),v(6,b.ICoreBrowserService)],f)},2950:function(h,i,l){var p=this&&this.__decorate||function(y,a,u,c){var f,_=arguments.length,w=_<3?a:c===null?c=Object.getOwnPropertyDescriptor(a,u):c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(y,a,u,c);else for(var E=y.length-1;E>=0;E--)(f=y[E])&&(w=(_<3?f(w):_>3?f(a,u,w):f(a,u))||w);return _>3&&w&&Object.defineProperty(a,u,w),w},v=this&&this.__param||function(y,a){return function(u,c){a(u,c,y)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CompositionHelper=void 0;const m=l(4725),g=l(2585),b=l(2584);let S=i.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,a,u,c,f,_){this._textarea=y,this._compositionView=a,this._bufferService=u,this._optionsService=c,this._coreService=f,this._renderService=_,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const a={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let u;this._isSendingComposition=!1,a.start+=this._dataAlreadySent.length,u=this._isComposing?this._textarea.value.substring(a.start,a.end):this._textarea.value.substring(a.start),u.length>0&&this._coreService.triggerDataEvent(u,!0)}},0)}else{this._isSendingComposition=!1;const a=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(a,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const a=this._textarea.value,u=a.replace(y,"");this._dataAlreadySent=u,a.length>y.length?this._coreService.triggerDataEvent(u,!0):a.length<y.length?this._coreService.triggerDataEvent(`${b.C0.DEL}`,!0):a.length===y.length&&a!==y&&this._coreService.triggerDataEvent(a,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const a=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),u=this._renderService.dimensions.css.cell.height,c=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,f=a*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=f+"px",this._compositionView.style.top=c+"px",this._compositionView.style.height=u+"px",this._compositionView.style.lineHeight=u+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const _=this._compositionView.getBoundingClientRect();this._textarea.style.left=f+"px",this._textarea.style.top=c+"px",this._textarea.style.width=Math.max(_.width,1)+"px",this._textarea.style.height=Math.max(_.height,1)+"px",this._textarea.style.lineHeight=_.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};i.CompositionHelper=S=p([v(2,g.IBufferService),v(3,g.IOptionsService),v(4,g.ICoreService),v(5,m.IRenderService)],S)},9806:(h,i)=>{function l(p,v,m){const g=m.getBoundingClientRect(),b=p.getComputedStyle(m),S=parseInt(b.getPropertyValue("padding-left")),y=parseInt(b.getPropertyValue("padding-top"));return[v.clientX-g.left-S,v.clientY-g.top-y]}Object.defineProperty(i,"__esModule",{value:!0}),i.getCoords=i.getCoordsRelativeToElement=void 0,i.getCoordsRelativeToElement=l,i.getCoords=function(p,v,m,g,b,S,y,a,u){if(!S)return;const c=l(p,v,m);return c?(c[0]=Math.ceil((c[0]+(u?y/2:0))/y),c[1]=Math.ceil(c[1]/a),c[0]=Math.min(Math.max(c[0],1),g+(u?1:0)),c[1]=Math.min(Math.max(c[1],1),b),c):void 0}},9504:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.moveToCellSequence=void 0;const p=l(2584);function v(a,u,c,f){const _=a-m(a,c),w=u-m(u,c),E=Math.abs(_-w)-function(k,x,C){let D=0;const A=k-m(k,C),j=x-m(x,C);for(let T=0;T<Math.abs(A-j);T++){const I=g(k,x)==="A"?-1:1,F=C.buffer.lines.get(A+I*T);F!=null&&F.isWrapped&&D++}return D}(a,u,c);return y(E,S(g(a,u),f))}function m(a,u){let c=0,f=u.buffer.lines.get(a),_=f==null?void 0:f.isWrapped;for(;_&&a>=0&&a<u.rows;)c++,f=u.buffer.lines.get(--a),_=f==null?void 0:f.isWrapped;return c}function g(a,u){return a>u?"A":"B"}function b(a,u,c,f,_,w){let E=a,k=u,x="";for(;E!==c||k!==f;)E+=_?1:-1,_&&E>w.cols-1?(x+=w.buffer.translateBufferLineToString(k,!1,a,E),E=0,a=0,k++):!_&&E<0&&(x+=w.buffer.translateBufferLineToString(k,!1,0,a+1),E=w.cols-1,a=E,k--);return x+w.buffer.translateBufferLineToString(k,!1,a,E)}function S(a,u){const c=u?"O":"[";return p.C0.ESC+c+a}function y(a,u){a=Math.floor(a);let c="";for(let f=0;f<a;f++)c+=u;return c}i.moveToCellSequence=function(a,u,c,f){const _=c.buffer.x,w=c.buffer.y;if(!c.buffer.hasScrollback)return function(x,C,D,A,j,T){return v(C,A,j,T).length===0?"":y(b(x,C,x,C-m(C,j),!1,j).length,S("D",T))}(_,w,0,u,c,f)+v(w,u,c,f)+function(x,C,D,A,j,T){let I;I=v(C,A,j,T).length>0?A-m(A,j):C;const F=A,z=function(G,R,P,O,M,U){let H;return H=v(P,O,M,U).length>0?O-m(O,M):R,G<P&&H<=O||G>=P&&H<O?"C":"D"}(x,C,D,A,j,T);return y(b(x,I,D,F,z==="C",j).length,S(z,T))}(_,w,a,u,c,f);let E;if(w===u)return E=_>a?"D":"C",y(Math.abs(_-a),S(E,f));E=w>u?"D":"C";const k=Math.abs(w-u);return y(function(x,C){return C.cols-x}(w>u?a:_,c)+(k-1)*c.cols+1+((w>u?_:a)-1),S(E,f))}},1296:function(h,i,l){var p=this&&this.__decorate||function(j,T,I,F){var z,G=arguments.length,R=G<3?T:F===null?F=Object.getOwnPropertyDescriptor(T,I):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(j,T,I,F);else for(var P=j.length-1;P>=0;P--)(z=j[P])&&(R=(G<3?z(R):G>3?z(T,I,R):z(T,I))||R);return G>3&&R&&Object.defineProperty(T,I,R),R},v=this&&this.__param||function(j,T){return function(I,F){T(I,F,j)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRenderer=void 0;const m=l(3787),g=l(2550),b=l(2223),S=l(6171),y=l(4725),a=l(8055),u=l(8460),c=l(844),f=l(2585),_="xterm-dom-renderer-owner-",w="xterm-rows",E="xterm-fg-",k="xterm-bg-",x="xterm-focus",C="xterm-selection";let D=1,A=i.DomRenderer=class extends c.Disposable{constructor(j,T,I,F,z,G,R,P,O,M){super(),this._element=j,this._screenElement=T,this._viewportElement=I,this._linkifier2=F,this._charSizeService=G,this._optionsService=R,this._bufferService=P,this._coreBrowserService=O,this._themeService=M,this._terminalClass=D++,this._rowElements=[],this.onRequestRedraw=this.register(new u.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(C),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,S.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(U=>this._injectCss(U))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(m.DomRendererRowFactory,document),this._element.classList.add(_+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(U=>this._handleLinkHover(U))),this.register(this._linkifier2.onHideLinkUnderline(U=>this._handleLinkLeave(U))),this.register((0,c.toDisposable)(()=>{this._element.classList.remove(_+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new g.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const j=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*j,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*j),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/j),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/j),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const I of this._rowElements)I.style.width=`${this.dimensions.css.canvas.width}px`,I.style.height=`${this.dimensions.css.cell.height}px`,I.style.lineHeight=`${this.dimensions.css.cell.height}px`,I.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const T=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=T,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(j){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let T=`${this._terminalSelector} .${w} { color: ${j.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;T+=`${this._terminalSelector} .${w} .xterm-dim { color: ${a.color.multiplyOpacity(j.foreground,.5).css};}`,T+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,T+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",T+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${j.cursor.css};  color: ${j.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${j.cursor.css}; }}`,T+=`${this._terminalSelector} .${w}.${x} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${x} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${j.cursor.css}; color: ${j.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${j.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${j.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${j.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,T+=`${this._terminalSelector} .${C} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${C} div { position: absolute; background-color: ${j.selectionBackgroundOpaque.css};}${this._terminalSelector} .${C} div { position: absolute; background-color: ${j.selectionInactiveBackgroundOpaque.css};}`;for(const[I,F]of j.ansi.entries())T+=`${this._terminalSelector} .${E}${I} { color: ${F.css}; }${this._terminalSelector} .${E}${I}.xterm-dim { color: ${a.color.multiplyOpacity(F,.5).css}; }${this._terminalSelector} .${k}${I} { background-color: ${F.css}; }`;T+=`${this._terminalSelector} .${E}${b.INVERTED_DEFAULT_COLOR} { color: ${a.color.opaque(j.background).css}; }${this._terminalSelector} .${E}${b.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${a.color.multiplyOpacity(a.color.opaque(j.background),.5).css}; }${this._terminalSelector} .${k}${b.INVERTED_DEFAULT_COLOR} { background-color: ${j.foreground.css}; }`,this._themeStyleElement.textContent=T}_setDefaultSpacing(){const j=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${j}px`,this._rowFactory.defaultSpacing=j}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(j,T){for(let I=this._rowElements.length;I<=T;I++){const F=document.createElement("div");this._rowContainer.appendChild(F),this._rowElements.push(F)}for(;this._rowElements.length>T;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(j,T){this._refreshRowElements(j,T),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(x)}handleFocus(){this._rowContainer.classList.add(x),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(j,T,I){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(j,T,I),this.renderRows(0,this._bufferService.rows-1),!j||!T)return;const F=j[1]-this._bufferService.buffer.ydisp,z=T[1]-this._bufferService.buffer.ydisp,G=Math.max(F,0),R=Math.min(z,this._bufferService.rows-1);if(G>=this._bufferService.rows||R<0)return;const P=document.createDocumentFragment();if(I){const O=j[0]>T[0];P.appendChild(this._createSelectionElement(G,O?T[0]:j[0],O?j[0]:T[0],R-G+1))}else{const O=F===G?j[0]:0,M=G===z?T[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(G,O,M));const U=R-G-1;if(P.appendChild(this._createSelectionElement(G+1,0,this._bufferService.cols,U)),G!==R){const H=z===R?T[0]:this._bufferService.cols;P.appendChild(this._createSelectionElement(R,0,H))}}this._selectionContainer.appendChild(P)}_createSelectionElement(j,T,I,F=1){const z=document.createElement("div");return z.style.height=F*this.dimensions.css.cell.height+"px",z.style.top=j*this.dimensions.css.cell.height+"px",z.style.left=T*this.dimensions.css.cell.width+"px",z.style.width=this.dimensions.css.cell.width*(I-T)+"px",z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const j of this._rowElements)j.replaceChildren()}renderRows(j,T){const I=this._bufferService.buffer,F=I.ybase+I.y,z=Math.min(I.x,this._bufferService.cols-1),G=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,P=this._optionsService.rawOptions.cursorInactiveStyle;for(let O=j;O<=T;O++){const M=O+I.ydisp,U=this._rowElements[O],H=I.lines.get(M);if(!U||!H)break;U.replaceChildren(...this._rowFactory.createRow(H,M,M===F,R,P,z,G,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${_}${this._terminalClass}`}_handleLinkHover(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!0)}_handleLinkLeave(j){this._setCellUnderline(j.x1,j.x2,j.y1,j.y2,j.cols,!1)}_setCellUnderline(j,T,I,F,z,G){I<0&&(j=0),F<0&&(T=0);const R=this._bufferService.rows-1;I=Math.max(Math.min(I,R),0),F=Math.max(Math.min(F,R),0),z=Math.min(z,this._bufferService.cols);const P=this._bufferService.buffer,O=P.ybase+P.y,M=Math.min(P.x,z-1),U=this._optionsService.rawOptions.cursorBlink,H=this._optionsService.rawOptions.cursorStyle,q=this._optionsService.rawOptions.cursorInactiveStyle;for(let V=I;V<=F;++V){const Q=V+P.ydisp,L=this._rowElements[V],B=P.lines.get(Q);if(!L||!B)break;L.replaceChildren(...this._rowFactory.createRow(B,Q,Q===O,H,q,M,U,this.dimensions.css.cell.width,this._widthCache,G?V===I?j:0:-1,G?(V===F?T:z)-1:-1))}}};i.DomRenderer=A=p([v(4,f.IInstantiationService),v(5,y.ICharSizeService),v(6,f.IOptionsService),v(7,f.IBufferService),v(8,y.ICoreBrowserService),v(9,y.IThemeService)],A)},3787:function(h,i,l){var p=this&&this.__decorate||function(E,k,x,C){var D,A=arguments.length,j=A<3?k:C===null?C=Object.getOwnPropertyDescriptor(k,x):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(E,k,x,C);else for(var T=E.length-1;T>=0;T--)(D=E[T])&&(j=(A<3?D(j):A>3?D(k,x,j):D(k,x))||j);return A>3&&j&&Object.defineProperty(k,x,j),j},v=this&&this.__param||function(E,k){return function(x,C){k(x,C,E)}};Object.defineProperty(i,"__esModule",{value:!0}),i.DomRendererRowFactory=void 0;const m=l(2223),g=l(643),b=l(511),S=l(2585),y=l(8055),a=l(4725),u=l(4269),c=l(6171),f=l(3734);let _=i.DomRendererRowFactory=class{constructor(E,k,x,C,D,A,j){this._document=E,this._characterJoinerService=k,this._optionsService=x,this._coreBrowserService=C,this._coreService=D,this._decorationService=A,this._themeService=j,this._workCell=new b.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,k,x){this._selectionStart=E,this._selectionEnd=k,this._columnSelectMode=x}createRow(E,k,x,C,D,A,j,T,I,F,z){const G=[],R=this._characterJoinerService.getJoinedCharacters(k),P=this._themeService.colors;let O,M=E.getNoBgTrimmedLength();x&&M<A+1&&(M=A+1);let U=0,H="",q=0,V=0,Q=0,L=!1,B=0,K=!1,$=0;const ee=[],Y=F!==-1&&z!==-1;for(let oe=0;oe<M;oe++){E.loadCell(oe,this._workCell);let ce=this._workCell.getWidth();if(ce===0)continue;let Ae=!1,pe=oe,te=this._workCell;if(R.length>0&&oe===R[0][0]){Ae=!0;const me=R.shift();te=new u.JoinedCellData(this._workCell,E.translateToString(!0,me[0],me[1]),me[1]-me[0]),pe=me[1]-1,ce=te.getWidth()}const Rs=this._isCellInSelection(oe,k),_o=x&&oe===A,yo=Y&&oe>=F&&oe<=z;let xo=!1;this._decorationService.forEachDecorationAtCell(oe,k,void 0,me=>{xo=!0});let An=te.getChars()||g.WHITESPACE_CELL_CHAR;if(An===" "&&(te.isUnderline()||te.isOverline())&&(An=""),$=ce*T-I.get(An,te.isBold(),te.isItalic()),O){if(U&&(Rs&&K||!Rs&&!K&&te.bg===q)&&(Rs&&K&&P.selectionForeground||te.fg===V)&&te.extended.ext===Q&&yo===L&&$===B&&!_o&&!Ae&&!xo){H+=An,U++;continue}U&&(O.textContent=H),O=this._document.createElement("span"),U=0,H=""}else O=this._document.createElement("span");if(q=te.bg,V=te.fg,Q=te.extended.ext,L=yo,B=$,K=Rs,Ae&&A>=oe&&A<=pe&&(A=oe),!this._coreService.isCursorHidden&&_o){if(ee.push("xterm-cursor"),this._coreBrowserService.isFocused)j&&ee.push("xterm-cursor-blink"),ee.push(C==="bar"?"xterm-cursor-bar":C==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(D)switch(D){case"outline":ee.push("xterm-cursor-outline");break;case"block":ee.push("xterm-cursor-block");break;case"bar":ee.push("xterm-cursor-bar");break;case"underline":ee.push("xterm-cursor-underline")}}if(te.isBold()&&ee.push("xterm-bold"),te.isItalic()&&ee.push("xterm-italic"),te.isDim()&&ee.push("xterm-dim"),H=te.isInvisible()?g.WHITESPACE_CELL_CHAR:te.getChars()||g.WHITESPACE_CELL_CHAR,te.isUnderline()&&(ee.push(`xterm-underline-${te.extended.underlineStyle}`),H===" "&&(H=""),!te.isUnderlineColorDefault()))if(te.isUnderlineColorRGB())O.style.textDecorationColor=`rgb(${f.AttributeData.toColorRGB(te.getUnderlineColor()).join(",")})`;else{let me=te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&te.isBold()&&me<8&&(me+=8),O.style.textDecorationColor=P.ansi[me].css}te.isOverline()&&(ee.push("xterm-overline"),H===" "&&(H="")),te.isStrikethrough()&&ee.push("xterm-strikethrough"),yo&&(O.style.textDecoration="underline");let nt=te.getFgColor(),js=te.getFgColorMode(),St=te.getBgColor(),Ns=te.getBgColorMode();const So=!!te.isInverse();if(So){const me=nt;nt=St,St=me;const jm=js;js=Ns,Ns=jm}let Vt,wo,Kt,Ls=!1;switch(this._decorationService.forEachDecorationAtCell(oe,k,void 0,me=>{me.options.layer!=="top"&&Ls||(me.backgroundColorRGB&&(Ns=50331648,St=me.backgroundColorRGB.rgba>>8&16777215,Vt=me.backgroundColorRGB),me.foregroundColorRGB&&(js=50331648,nt=me.foregroundColorRGB.rgba>>8&16777215,wo=me.foregroundColorRGB),Ls=me.options.layer==="top")}),!Ls&&Rs&&(Vt=this._coreBrowserService.isFocused?P.selectionBackgroundOpaque:P.selectionInactiveBackgroundOpaque,St=Vt.rgba>>8&16777215,Ns=50331648,Ls=!0,P.selectionForeground&&(js=50331648,nt=P.selectionForeground.rgba>>8&16777215,wo=P.selectionForeground)),Ls&&ee.push("xterm-decoration-top"),Ns){case 16777216:case 33554432:Kt=P.ansi[St],ee.push(`xterm-bg-${St}`);break;case 50331648:Kt=y.rgba.toColor(St>>16,St>>8&255,255&St),this._addStyle(O,`background-color:#${w((St>>>0).toString(16),"0",6)}`);break;default:So?(Kt=P.foreground,ee.push(`xterm-bg-${m.INVERTED_DEFAULT_COLOR}`)):Kt=P.background}switch(Vt||te.isDim()&&(Vt=y.color.multiplyOpacity(Kt,.5)),js){case 16777216:case 33554432:te.isBold()&&nt<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(nt+=8),this._applyMinimumContrast(O,Kt,P.ansi[nt],te,Vt,void 0)||ee.push(`xterm-fg-${nt}`);break;case 50331648:const me=y.rgba.toColor(nt>>16&255,nt>>8&255,255&nt);this._applyMinimumContrast(O,Kt,me,te,Vt,wo)||this._addStyle(O,`color:#${w(nt.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(O,Kt,P.foreground,te,Vt,void 0)||So&&ee.push(`xterm-fg-${m.INVERTED_DEFAULT_COLOR}`)}ee.length&&(O.className=ee.join(" "),ee.length=0),_o||Ae||xo?O.textContent=H:U++,$!==this.defaultSpacing&&(O.style.letterSpacing=`${$}px`),G.push(O),oe=pe}return O&&U&&(O.textContent=H),G}_applyMinimumContrast(E,k,x,C,D,A){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,c.excludeFromContrastRatioDemands)(C.getCode()))return!1;const j=this._getContrastCache(C);let T;if(D||A||(T=j.getColor(k.rgba,x.rgba)),T===void 0){const I=this._optionsService.rawOptions.minimumContrastRatio/(C.isDim()?2:1);T=y.color.ensureContrastRatio(D||k,A||x,I),j.setColor((D||k).rgba,(A||x).rgba,T??null)}return!!T&&(this._addStyle(E,`color:${T.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,k){E.setAttribute("style",`${E.getAttribute("style")||""}${k};`)}_isCellInSelection(E,k){const x=this._selectionStart,C=this._selectionEnd;return!(!x||!C)&&(this._columnSelectMode?x[0]<=C[0]?E>=x[0]&&k>=x[1]&&E<C[0]&&k<=C[1]:E<x[0]&&k>=x[1]&&E>=C[0]&&k<=C[1]:k>x[1]&&k<C[1]||x[1]===C[1]&&k===x[1]&&E>=x[0]&&E<C[0]||x[1]<C[1]&&k===C[1]&&E<C[0]||x[1]<C[1]&&k===x[1]&&E>=x[0])}};function w(E,k,x){for(;E.length<x;)E=k+E;return E}i.DomRendererRowFactory=_=p([v(1,a.ICharacterJoinerService),v(2,S.IOptionsService),v(3,a.ICoreBrowserService),v(4,S.ICoreService),v(5,S.IDecorationService),v(6,a.IThemeService)],_)},2550:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WidthCache=void 0,i.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=l.createElement("span"),v=l.createElement("span");v.style.fontWeight="bold";const m=l.createElement("span");m.style.fontStyle="italic";const g=l.createElement("span");g.style.fontWeight="bold",g.style.fontStyle="italic",this._measureElements=[p,v,m,g],this._container.appendChild(p),this._container.appendChild(v),this._container.appendChild(m),this._container.appendChild(g),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,p,v,m){l===this._font&&p===this._fontSize&&v===this._weight&&m===this._weightBold||(this._font=l,this._fontSize=p,this._weight=v,this._weightBold=m,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${v}`,this._measureElements[1].style.fontWeight=`${m}`,this._measureElements[2].style.fontWeight=`${v}`,this._measureElements[3].style.fontWeight=`${m}`,this.clear())}get(l,p,v){let m=0;if(!p&&!v&&l.length===1&&(m=l.charCodeAt(0))<256)return this._flat[m]!==-9999?this._flat[m]:this._flat[m]=this._measure(l,0);let g=l;p&&(g+="B"),v&&(g+="I");let b=this._holey.get(g);if(b===void 0){let S=0;p&&(S|=1),v&&(S|=2),b=this._measure(l,S),this._holey.set(g,b)}return b}_measure(l,p){const v=this._measureElements[p];return v.textContent=l.repeat(32),v.offsetWidth/32}}},2223:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.TEXT_BASELINE=i.DIM_OPACITY=i.INVERTED_DEFAULT_COLOR=void 0;const p=l(6114);i.INVERTED_DEFAULT_COLOR=257,i.DIM_OPACITY=.5,i.TEXT_BASELINE=p.isFirefox||p.isLegacyEdge?"bottom":"ideographic"},6171:(h,i)=>{function l(p){return 57508<=p&&p<=57558}Object.defineProperty(i,"__esModule",{value:!0}),i.createRenderDimensions=i.excludeFromContrastRatioDemands=i.isRestrictedPowerlineGlyph=i.isPowerlineGlyph=i.throwIfFalsy=void 0,i.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},i.isPowerlineGlyph=l,i.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},i.excludeFromContrastRatioDemands=function(p){return l(p)||function(v){return 9472<=v&&v<=9631}(p)},i.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionModel=void 0,i.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,p=this.selectionEnd;return!(!l||!p)&&(l[1]>p[1]||l[1]===p[1]&&l[0]>p[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(h,i,l){var p=this&&this.__decorate||function(a,u,c,f){var _,w=arguments.length,E=w<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,u,c,f);else for(var k=a.length-1;k>=0;k--)(_=a[k])&&(E=(w<3?_(E):w>3?_(u,c,E):_(u,c))||E);return w>3&&E&&Object.defineProperty(u,c,E),E},v=this&&this.__param||function(a,u){return function(c,f){u(c,f,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharSizeService=void 0;const m=l(2585),g=l(8460),b=l(844);let S=i.CharSizeService=class extends b.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(a,u,c){super(),this._optionsService=c,this.width=0,this.height=0,this._onCharSizeChange=this.register(new g.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new y(a,u,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const a=this._measureStrategy.measure();a.width===this.width&&a.height===this.height||(this.width=a.width,this.height=a.height,this._onCharSizeChange.fire())}};i.CharSizeService=S=p([v(2,m.IOptionsService)],S);class y{constructor(u,c,f){this._document=u,this._parentElement=c,this._optionsService=f,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const u={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return u.width!==0&&u.height!==0&&(this._result.width=u.width/32,this._result.height=Math.ceil(u.height)),this._result}}},4269:function(h,i,l){var p=this&&this.__decorate||function(u,c,f,_){var w,E=arguments.length,k=E<3?c:_===null?_=Object.getOwnPropertyDescriptor(c,f):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(u,c,f,_);else for(var x=u.length-1;x>=0;x--)(w=u[x])&&(k=(E<3?w(k):E>3?w(c,f,k):w(c,f))||k);return E>3&&k&&Object.defineProperty(c,f,k),k},v=this&&this.__param||function(u,c){return function(f,_){c(f,_,u)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CharacterJoinerService=i.JoinedCellData=void 0;const m=l(3734),g=l(643),b=l(511),S=l(2585);class y extends m.AttributeData{constructor(c,f,_){super(),this.content=0,this.combinedData="",this.fg=c.fg,this.bg=c.bg,this.combinedData=f,this._width=_}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(c){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.JoinedCellData=y;let a=i.CharacterJoinerService=class km{constructor(c){this._bufferService=c,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new b.CellData}register(c){const f={id:this._nextCharacterJoinerId++,handler:c};return this._characterJoiners.push(f),f.id}deregister(c){for(let f=0;f<this._characterJoiners.length;f++)if(this._characterJoiners[f].id===c)return this._characterJoiners.splice(f,1),!0;return!1}getJoinedCharacters(c){if(this._characterJoiners.length===0)return[];const f=this._bufferService.buffer.lines.get(c);if(!f||f.length===0)return[];const _=[],w=f.translateToString(!0);let E=0,k=0,x=0,C=f.getFg(0),D=f.getBg(0);for(let A=0;A<f.getTrimmedLength();A++)if(f.loadCell(A,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==C||this._workCell.bg!==D){if(A-E>1){const j=this._getJoinedRanges(w,x,k,f,E);for(let T=0;T<j.length;T++)_.push(j[T])}E=A,x=k,C=this._workCell.fg,D=this._workCell.bg}k+=this._workCell.getChars().length||g.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const A=this._getJoinedRanges(w,x,k,f,E);for(let j=0;j<A.length;j++)_.push(A[j])}return _}_getJoinedRanges(c,f,_,w,E){const k=c.substring(f,_);let x=[];try{x=this._characterJoiners[0].handler(k)}catch(C){console.error(C)}for(let C=1;C<this._characterJoiners.length;C++)try{const D=this._characterJoiners[C].handler(k);for(let A=0;A<D.length;A++)km._mergeRanges(x,D[A])}catch(D){console.error(D)}return this._stringRangesToCellRanges(x,w,E),x}_stringRangesToCellRanges(c,f,_){let w=0,E=!1,k=0,x=c[w];if(x){for(let C=_;C<this._bufferService.cols;C++){const D=f.getWidth(C),A=f.getString(C).length||g.WHITESPACE_CELL_CHAR.length;if(D!==0){if(!E&&x[0]<=k&&(x[0]=C,E=!0),x[1]<=k){if(x[1]=C,x=c[++w],!x)break;x[0]<=k?(x[0]=C,E=!0):E=!1}k+=A}}x&&(x[1]=this._bufferService.cols)}}static _mergeRanges(c,f){let _=!1;for(let w=0;w<c.length;w++){const E=c[w];if(_){if(f[1]<=E[0])return c[w-1][1]=f[1],c;if(f[1]<=E[1])return c[w-1][1]=Math.max(f[1],E[1]),c.splice(w,1),c;c.splice(w,1),w--}else{if(f[1]<=E[0])return c.splice(w,0,f),c;if(f[1]<=E[1])return E[0]=Math.min(f[0],E[0]),c;f[0]<E[1]&&(E[0]=Math.min(f[0],E[0]),_=!0)}}return _?c[c.length-1][1]=f[1]:c.push(f),c}};i.CharacterJoinerService=a=p([v(0,S.IBufferService)],a)},5114:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreBrowserService=void 0,i.CoreBrowserService=class{constructor(l,p){this._textarea=l,this.window=p,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(h,i,l){var p=this&&this.__decorate||function(S,y,a,u){var c,f=arguments.length,_=f<3?y:u===null?u=Object.getOwnPropertyDescriptor(y,a):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(S,y,a,u);else for(var w=S.length-1;w>=0;w--)(c=S[w])&&(_=(f<3?c(_):f>3?c(y,a,_):c(y,a))||_);return f>3&&_&&Object.defineProperty(y,a,_),_},v=this&&this.__param||function(S,y){return function(a,u){y(a,u,S)}};Object.defineProperty(i,"__esModule",{value:!0}),i.MouseService=void 0;const m=l(4725),g=l(9806);let b=i.MouseService=class{constructor(S,y){this._renderService=S,this._charSizeService=y}getCoords(S,y,a,u,c){return(0,g.getCoords)(window,S,y,a,u,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,c)}getMouseReportCoords(S,y){const a=(0,g.getCoordsRelativeToElement)(window,S,y);if(this._charSizeService.hasValidSize)return a[0]=Math.min(Math.max(a[0],0),this._renderService.dimensions.css.canvas.width-1),a[1]=Math.min(Math.max(a[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(a[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(a[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(a[0]),y:Math.floor(a[1])}}};i.MouseService=b=p([v(0,m.IRenderService),v(1,m.ICharSizeService)],b)},3230:function(h,i,l){var p=this&&this.__decorate||function(_,w,E,k){var x,C=arguments.length,D=C<3?w:k===null?k=Object.getOwnPropertyDescriptor(w,E):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(_,w,E,k);else for(var A=_.length-1;A>=0;A--)(x=_[A])&&(D=(C<3?x(D):C>3?x(w,E,D):x(w,E))||D);return C>3&&D&&Object.defineProperty(w,E,D),D},v=this&&this.__param||function(_,w){return function(E,k){w(E,k,_)}};Object.defineProperty(i,"__esModule",{value:!0}),i.RenderService=void 0;const m=l(3656),g=l(6193),b=l(5596),S=l(4725),y=l(8460),a=l(844),u=l(7226),c=l(2585);let f=i.RenderService=class extends a.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(_,w,E,k,x,C,D,A){if(super(),this._rowCount=_,this._charSizeService=k,this._renderer=this.register(new a.MutableDisposable),this._pausedResizeTask=new u.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new g.RenderDebouncer(D.window,(j,T)=>this._renderRows(j,T)),this.register(this._renderDebouncer),this._screenDprMonitor=new b.ScreenDprMonitor(D.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(C.onResize(()=>this._fullRefresh())),this.register(C.buffers.onBufferActivate(()=>{var j;return(j=this._renderer.value)===null||j===void 0?void 0:j.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(x.onDecorationRegistered(()=>this._fullRefresh())),this.register(x.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(C.cols,C.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(C.buffer.y,C.buffer.y,!0))),this.register((0,m.addDisposableDomListener)(D.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(A.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in D.window){const j=new D.window.IntersectionObserver(T=>this._handleIntersectionChange(T[T.length-1]),{threshold:0});j.observe(w),this.register({dispose:()=>j.disconnect()})}}_handleIntersectionChange(_){this._isPaused=_.isIntersecting===void 0?_.intersectionRatio===0:!_.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(_,w,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(_,w,this._rowCount))}_renderRows(_,w){this._renderer.value&&(_=Math.min(_,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(_,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:_,end:w}),this._onRender.fire({start:_,end:w}),this._isNextRenderRedrawOnly=!0)}resize(_,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(_){this._renderer.value=_,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(_){return this._renderDebouncer.addRefreshCallback(_)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var _,w;this._renderer.value&&((w=(_=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(_),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(_,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(_,w)):this._renderer.value.handleResize(_,w),this._fullRefresh())}handleCharSizeChanged(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCharSizeChanged()}handleBlur(){var _;(_=this._renderer.value)===null||_===void 0||_.handleBlur()}handleFocus(){var _;(_=this._renderer.value)===null||_===void 0||_.handleFocus()}handleSelectionChanged(_,w,E){var k;this._selectionState.start=_,this._selectionState.end=w,this._selectionState.columnSelectMode=E,(k=this._renderer.value)===null||k===void 0||k.handleSelectionChanged(_,w,E)}handleCursorMove(){var _;(_=this._renderer.value)===null||_===void 0||_.handleCursorMove()}clear(){var _;(_=this._renderer.value)===null||_===void 0||_.clear()}};i.RenderService=f=p([v(2,c.IOptionsService),v(3,S.ICharSizeService),v(4,c.IDecorationService),v(5,c.IBufferService),v(6,S.ICoreBrowserService),v(7,S.IThemeService)],f)},9312:function(h,i,l){var p=this&&this.__decorate||function(x,C,D,A){var j,T=arguments.length,I=T<3?C:A===null?A=Object.getOwnPropertyDescriptor(C,D):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(x,C,D,A);else for(var F=x.length-1;F>=0;F--)(j=x[F])&&(I=(T<3?j(I):T>3?j(C,D,I):j(C,D))||I);return T>3&&I&&Object.defineProperty(C,D,I),I},v=this&&this.__param||function(x,C){return function(D,A){C(D,A,x)}};Object.defineProperty(i,"__esModule",{value:!0}),i.SelectionService=void 0;const m=l(9806),g=l(9504),b=l(456),S=l(4725),y=l(8460),a=l(844),u=l(6114),c=l(4841),f=l(511),_=l(2585),w="",E=new RegExp(w,"g");let k=i.SelectionService=class extends a.Disposable{constructor(x,C,D,A,j,T,I,F,z){super(),this._element=x,this._screenElement=C,this._linkifier=D,this._bufferService=A,this._coreService=j,this._mouseService=T,this._optionsService=I,this._renderService=F,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=G=>this._handleMouseMove(G),this._mouseUpListener=G=>this._handleMouseUp(G),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(G=>this._handleTrim(G)),this.register(this._bufferService.buffers.onBufferActivate(G=>this._handleBufferActivate(G))),this.enable(),this._model=new b.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,a.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;return!(!x||!C||x[0]===C[0]&&x[1]===C[1])}get selectionText(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd;if(!x||!C)return"";const D=this._bufferService.buffer,A=[];if(this._activeSelectionMode===3){if(x[0]===C[0])return"";const j=x[0]<C[0]?x[0]:C[0],T=x[0]<C[0]?C[0]:x[0];for(let I=x[1];I<=C[1];I++){const F=D.translateBufferLineToString(I,!0,j,T);A.push(F)}}else{const j=x[1]===C[1]?C[0]:void 0;A.push(D.translateBufferLineToString(x[1],!0,x[0],j));for(let T=x[1]+1;T<=C[1]-1;T++){const I=D.lines.get(T),F=D.translateBufferLineToString(T,!0);I!=null&&I.isWrapped?A[A.length-1]+=F:A.push(F)}if(x[1]!==C[1]){const T=D.lines.get(C[1]),I=D.translateBufferLineToString(C[1],!0,0,C[0]);T&&T.isWrapped?A[A.length-1]+=I:A.push(I)}}return A.map(j=>j.replace(E," ")).join(u.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(x){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),u.isLinux&&x&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(x){const C=this._getMouseBufferCoords(x),D=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!!(D&&A&&C)&&this._areCoordsInSelection(C,D,A)}isCellInSelection(x,C){const D=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!D||!A)&&this._areCoordsInSelection([x,C],D,A)}_areCoordsInSelection(x,C,D){return x[1]>C[1]&&x[1]<D[1]||C[1]===D[1]&&x[1]===C[1]&&x[0]>=C[0]&&x[0]<D[0]||C[1]<D[1]&&x[1]===D[1]&&x[0]<D[0]||C[1]<D[1]&&x[1]===C[1]&&x[0]>=C[0]}_selectWordAtCursor(x,C){var D,A;const j=(A=(D=this._linkifier.currentLink)===null||D===void 0?void 0:D.link)===null||A===void 0?void 0:A.range;if(j)return this._model.selectionStart=[j.start.x-1,j.start.y-1],this._model.selectionStartLength=(0,c.getRangeLength)(j,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const T=this._getMouseBufferCoords(x);return!!T&&(this._selectWordAt(T,C),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(x,C){this._model.clearSelection(),x=Math.max(x,0),C=Math.min(C,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,x],this._model.selectionEnd=[this._bufferService.cols,C],this.refresh(),this._onSelectionChange.fire()}_handleTrim(x){this._model.handleTrim(x)&&this.refresh()}_getMouseBufferCoords(x){const C=this._mouseService.getCoords(x,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(C)return C[0]--,C[1]--,C[1]+=this._bufferService.buffer.ydisp,C}_getMouseEventScrollAmount(x){let C=(0,m.getCoordsRelativeToElement)(this._coreBrowserService.window,x,this._screenElement)[1];const D=this._renderService.dimensions.css.canvas.height;return C>=0&&C<=D?0:(C>D&&(C-=D),C=Math.min(Math.max(C,-50),50),C/=50,C/Math.abs(C)+Math.round(14*C))}shouldForceSelection(x){return u.isMac?x.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:x.shiftKey}handleMouseDown(x){if(this._mouseDownTimeStamp=x.timeStamp,(x.button!==2||!this.hasSelection)&&x.button===0){if(!this._enabled){if(!this.shouldForceSelection(x))return;x.stopPropagation()}x.preventDefault(),this._dragScrollAmount=0,this._enabled&&x.shiftKey?this._handleIncrementalClick(x):x.detail===1?this._handleSingleClick(x):x.detail===2?this._handleDoubleClick(x):x.detail===3&&this._handleTripleClick(x),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(x){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(x))}_handleSingleClick(x){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(x)?3:0,this._model.selectionStart=this._getMouseBufferCoords(x),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const C=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);C&&C.length!==this._model.selectionStart[0]&&C.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(x){this._selectWordAtCursor(x,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(x){const C=this._getMouseBufferCoords(x);C&&(this._activeSelectionMode=2,this._selectLineAt(C[1]))}shouldColumnSelect(x){return x.altKey&&!(u.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(x){if(x.stopImmediatePropagation(),!this._model.selectionStart)return;const C=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(x),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(x),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const D=this._bufferService.buffer;if(this._model.selectionEnd[1]<D.lines.length){const A=D.lines.get(this._model.selectionEnd[1]);A&&A.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}C&&C[0]===this._model.selectionEnd[0]&&C[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const x=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(x.ydisp+this._bufferService.rows,x.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=x.ydisp),this.refresh()}}_handleMouseUp(x){const C=x.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&C<500&&x.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const D=this._mouseService.getCoords(x,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(D&&D[0]!==void 0&&D[1]!==void 0){const A=(0,g.moveToCellSequence)(D[0]-1,D[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(A,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const x=this._model.finalSelectionStart,C=this._model.finalSelectionEnd,D=!(!x||!C||x[0]===C[0]&&x[1]===C[1]);D?x&&C&&(this._oldSelectionStart&&this._oldSelectionEnd&&x[0]===this._oldSelectionStart[0]&&x[1]===this._oldSelectionStart[1]&&C[0]===this._oldSelectionEnd[0]&&C[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(x,C,D)):this._oldHasSelection&&this._fireOnSelectionChange(x,C,D)}_fireOnSelectionChange(x,C,D){this._oldSelectionStart=x,this._oldSelectionEnd=C,this._oldHasSelection=D,this._onSelectionChange.fire()}_handleBufferActivate(x){this.clearSelection(),this._trimListener.dispose(),this._trimListener=x.activeBuffer.lines.onTrim(C=>this._handleTrim(C))}_convertViewportColToCharacterIndex(x,C){let D=C;for(let A=0;C>=A;A++){const j=x.loadCell(A,this._workCell).getChars().length;this._workCell.getWidth()===0?D--:j>1&&C!==A&&(D+=j-1)}return D}setSelection(x,C,D){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[x,C],this._model.selectionStartLength=D,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(x){this._isClickInSelection(x)||(this._selectWordAtCursor(x,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(x,C,D=!0,A=!0){if(x[0]>=this._bufferService.cols)return;const j=this._bufferService.buffer,T=j.lines.get(x[1]);if(!T)return;const I=j.translateBufferLineToString(x[1],!1);let F=this._convertViewportColToCharacterIndex(T,x[0]),z=F;const G=x[0]-F;let R=0,P=0,O=0,M=0;if(I.charAt(F)===" "){for(;F>0&&I.charAt(F-1)===" ";)F--;for(;z<I.length&&I.charAt(z+1)===" ";)z++}else{let q=x[0],V=x[0];T.getWidth(q)===0&&(R++,q--),T.getWidth(V)===2&&(P++,V++);const Q=T.getString(V).length;for(Q>1&&(M+=Q-1,z+=Q-1);q>0&&F>0&&!this._isCharWordSeparator(T.loadCell(q-1,this._workCell));){T.loadCell(q-1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,q--):L>1&&(O+=L-1,F-=L-1),F--,q--}for(;V<T.length&&z+1<I.length&&!this._isCharWordSeparator(T.loadCell(V+1,this._workCell));){T.loadCell(V+1,this._workCell);const L=this._workCell.getChars().length;this._workCell.getWidth()===2?(P++,V++):L>1&&(M+=L-1,z+=L-1),z++,V++}}z++;let U=F+G-R+O,H=Math.min(this._bufferService.cols,z-F+R+P-O-M);if(C||I.slice(F,z).trim()!==""){if(D&&U===0&&T.getCodePoint(0)!==32){const q=j.lines.get(x[1]-1);if(q&&T.isWrapped&&q.getCodePoint(this._bufferService.cols-1)!==32){const V=this._getWordAt([this._bufferService.cols-1,x[1]-1],!1,!0,!1);if(V){const Q=this._bufferService.cols-V.start;U-=Q,H+=Q}}}if(A&&U+H===this._bufferService.cols&&T.getCodePoint(this._bufferService.cols-1)!==32){const q=j.lines.get(x[1]+1);if(q!=null&&q.isWrapped&&q.getCodePoint(0)!==32){const V=this._getWordAt([0,x[1]+1],!1,!1,!0);V&&(H+=V.length)}}return{start:U,length:H}}}_selectWordAt(x,C){const D=this._getWordAt(x,C);if(D){for(;D.start<0;)D.start+=this._bufferService.cols,x[1]--;this._model.selectionStart=[D.start,x[1]],this._model.selectionStartLength=D.length}}_selectToWordAt(x){const C=this._getWordAt(x,!0);if(C){let D=x[1];for(;C.start<0;)C.start+=this._bufferService.cols,D--;if(!this._model.areSelectionValuesReversed())for(;C.start+C.length>this._bufferService.cols;)C.length-=this._bufferService.cols,D++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?C.start:C.start+C.length,D]}}_isCharWordSeparator(x){return x.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(x.getChars())>=0}_selectLineAt(x){const C=this._bufferService.buffer.getWrappedRangeForLine(x),D={start:{x:0,y:C.first},end:{x:this._bufferService.cols-1,y:C.last}};this._model.selectionStart=[0,C.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,c.getRangeLength)(D,this._bufferService.cols)}};i.SelectionService=k=p([v(3,_.IBufferService),v(4,_.ICoreService),v(5,S.IMouseService),v(6,_.IOptionsService),v(7,S.IRenderService),v(8,S.ICoreBrowserService)],k)},4725:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IThemeService=i.ICharacterJoinerService=i.ISelectionService=i.IRenderService=i.IMouseService=i.ICoreBrowserService=i.ICharSizeService=void 0;const p=l(8343);i.ICharSizeService=(0,p.createDecorator)("CharSizeService"),i.ICoreBrowserService=(0,p.createDecorator)("CoreBrowserService"),i.IMouseService=(0,p.createDecorator)("MouseService"),i.IRenderService=(0,p.createDecorator)("RenderService"),i.ISelectionService=(0,p.createDecorator)("SelectionService"),i.ICharacterJoinerService=(0,p.createDecorator)("CharacterJoinerService"),i.IThemeService=(0,p.createDecorator)("ThemeService")},6731:function(h,i,l){var p=this&&this.__decorate||function(k,x,C,D){var A,j=arguments.length,T=j<3?x:D===null?D=Object.getOwnPropertyDescriptor(x,C):D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(k,x,C,D);else for(var I=k.length-1;I>=0;I--)(A=k[I])&&(T=(j<3?A(T):j>3?A(x,C,T):A(x,C))||T);return j>3&&T&&Object.defineProperty(x,C,T),T},v=this&&this.__param||function(k,x){return function(C,D){x(C,D,k)}};Object.defineProperty(i,"__esModule",{value:!0}),i.ThemeService=i.DEFAULT_ANSI_COLORS=void 0;const m=l(7239),g=l(8055),b=l(8460),S=l(844),y=l(2585),a=g.css.toColor("#ffffff"),u=g.css.toColor("#000000"),c=g.css.toColor("#ffffff"),f=g.css.toColor("#000000"),_={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};i.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const k=[g.css.toColor("#2e3436"),g.css.toColor("#cc0000"),g.css.toColor("#4e9a06"),g.css.toColor("#c4a000"),g.css.toColor("#3465a4"),g.css.toColor("#75507b"),g.css.toColor("#06989a"),g.css.toColor("#d3d7cf"),g.css.toColor("#555753"),g.css.toColor("#ef2929"),g.css.toColor("#8ae234"),g.css.toColor("#fce94f"),g.css.toColor("#729fcf"),g.css.toColor("#ad7fa8"),g.css.toColor("#34e2e2"),g.css.toColor("#eeeeec")],x=[0,95,135,175,215,255];for(let C=0;C<216;C++){const D=x[C/36%6|0],A=x[C/6%6|0],j=x[C%6];k.push({css:g.channels.toCss(D,A,j),rgba:g.channels.toRgba(D,A,j)})}for(let C=0;C<24;C++){const D=8+10*C;k.push({css:g.channels.toCss(D,D,D),rgba:g.channels.toRgba(D,D,D)})}return k})());let w=i.ThemeService=class extends S.Disposable{get colors(){return this._colors}constructor(k){super(),this._optionsService=k,this._contrastCache=new m.ColorContrastCache,this._halfContrastCache=new m.ColorContrastCache,this._onChangeColors=this.register(new b.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:a,background:u,cursor:c,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:_,selectionBackgroundOpaque:g.color.blend(u,_),selectionInactiveBackgroundTransparent:_,selectionInactiveBackgroundOpaque:g.color.blend(u,_),ansi:i.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(k={}){const x=this._colors;if(x.foreground=E(k.foreground,a),x.background=E(k.background,u),x.cursor=E(k.cursor,c),x.cursorAccent=E(k.cursorAccent,f),x.selectionBackgroundTransparent=E(k.selectionBackground,_),x.selectionBackgroundOpaque=g.color.blend(x.background,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundTransparent=E(k.selectionInactiveBackground,x.selectionBackgroundTransparent),x.selectionInactiveBackgroundOpaque=g.color.blend(x.background,x.selectionInactiveBackgroundTransparent),x.selectionForeground=k.selectionForeground?E(k.selectionForeground,g.NULL_COLOR):void 0,x.selectionForeground===g.NULL_COLOR&&(x.selectionForeground=void 0),g.color.isOpaque(x.selectionBackgroundTransparent)&&(x.selectionBackgroundTransparent=g.color.opacity(x.selectionBackgroundTransparent,.3)),g.color.isOpaque(x.selectionInactiveBackgroundTransparent)&&(x.selectionInactiveBackgroundTransparent=g.color.opacity(x.selectionInactiveBackgroundTransparent,.3)),x.ansi=i.DEFAULT_ANSI_COLORS.slice(),x.ansi[0]=E(k.black,i.DEFAULT_ANSI_COLORS[0]),x.ansi[1]=E(k.red,i.DEFAULT_ANSI_COLORS[1]),x.ansi[2]=E(k.green,i.DEFAULT_ANSI_COLORS[2]),x.ansi[3]=E(k.yellow,i.DEFAULT_ANSI_COLORS[3]),x.ansi[4]=E(k.blue,i.DEFAULT_ANSI_COLORS[4]),x.ansi[5]=E(k.magenta,i.DEFAULT_ANSI_COLORS[5]),x.ansi[6]=E(k.cyan,i.DEFAULT_ANSI_COLORS[6]),x.ansi[7]=E(k.white,i.DEFAULT_ANSI_COLORS[7]),x.ansi[8]=E(k.brightBlack,i.DEFAULT_ANSI_COLORS[8]),x.ansi[9]=E(k.brightRed,i.DEFAULT_ANSI_COLORS[9]),x.ansi[10]=E(k.brightGreen,i.DEFAULT_ANSI_COLORS[10]),x.ansi[11]=E(k.brightYellow,i.DEFAULT_ANSI_COLORS[11]),x.ansi[12]=E(k.brightBlue,i.DEFAULT_ANSI_COLORS[12]),x.ansi[13]=E(k.brightMagenta,i.DEFAULT_ANSI_COLORS[13]),x.ansi[14]=E(k.brightCyan,i.DEFAULT_ANSI_COLORS[14]),x.ansi[15]=E(k.brightWhite,i.DEFAULT_ANSI_COLORS[15]),k.extendedAnsi){const C=Math.min(x.ansi.length-16,k.extendedAnsi.length);for(let D=0;D<C;D++)x.ansi[D+16]=E(k.extendedAnsi[D],i.DEFAULT_ANSI_COLORS[D+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(k){this._restoreColor(k),this._onChangeColors.fire(this.colors)}_restoreColor(k){if(k!==void 0)switch(k){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[k]=this._restoreColors.ansi[k]}else for(let x=0;x<this._restoreColors.ansi.length;++x)this._colors.ansi[x]=this._restoreColors.ansi[x]}modifyColors(k){k(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(k,x){if(k!==void 0)try{return g.css.toColor(k)}catch{}return x}i.ThemeService=w=p([v(0,y.IOptionsService)],w)},6349:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CircularList=void 0;const p=l(8460),v=l(844);class m extends v.Disposable{constructor(b){super(),this._maxLength=b,this.onDeleteEmitter=this.register(new p.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new p.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new p.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(b){if(this._maxLength===b)return;const S=new Array(b);for(let y=0;y<Math.min(b,this.length);y++)S[y]=this._array[this._getCyclicIndex(y)];this._array=S,this._maxLength=b,this._startIndex=0}get length(){return this._length}set length(b){if(b>this._length)for(let S=this._length;S<b;S++)this._array[S]=void 0;this._length=b}get(b){return this._array[this._getCyclicIndex(b)]}set(b,S){this._array[this._getCyclicIndex(b)]=S}push(b){this._array[this._getCyclicIndex(this._length)]=b,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(b,S,...y){if(S){for(let a=b;a<this._length-S;a++)this._array[this._getCyclicIndex(a)]=this._array[this._getCyclicIndex(a+S)];this._length-=S,this.onDeleteEmitter.fire({index:b,amount:S})}for(let a=this._length-1;a>=b;a--)this._array[this._getCyclicIndex(a+y.length)]=this._array[this._getCyclicIndex(a)];for(let a=0;a<y.length;a++)this._array[this._getCyclicIndex(b+a)]=y[a];if(y.length&&this.onInsertEmitter.fire({index:b,amount:y.length}),this._length+y.length>this._maxLength){const a=this._length+y.length-this._maxLength;this._startIndex+=a,this._length=this._maxLength,this.onTrimEmitter.fire(a)}else this._length+=y.length}trimStart(b){b>this._length&&(b=this._length),this._startIndex+=b,this._length-=b,this.onTrimEmitter.fire(b)}shiftElements(b,S,y){if(!(S<=0)){if(b<0||b>=this._length)throw new Error("start argument out of range");if(b+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let u=S-1;u>=0;u--)this.set(b+u+y,this.get(b+u));const a=b+S+y-this._length;if(a>0)for(this._length+=a;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let a=0;a<S;a++)this.set(b+a+y,this.get(b+a))}}_getCyclicIndex(b){return(this._startIndex+b)%this._maxLength}}i.CircularList=m},1439:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.clone=void 0,i.clone=function l(p,v=5){if(typeof p!="object")return p;const m=Array.isArray(p)?[]:{};for(const g in p)m[g]=v<=1?p[g]:p[g]&&l(p[g],v-1);return m}},8055:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.contrastRatio=i.toPaddedHex=i.rgba=i.rgb=i.css=i.color=i.channels=i.NULL_COLOR=void 0;const p=l(6114);let v=0,m=0,g=0,b=0;var S,y,a,u,c;function f(w){const E=w.toString(16);return E.length<2?"0"+E:E}function _(w,E){return w<E?(E+.05)/(w+.05):(w+.05)/(E+.05)}i.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(E,k,x,C){return C!==void 0?`#${f(E)}${f(k)}${f(x)}${f(C)}`:`#${f(E)}${f(k)}${f(x)}`},w.toRgba=function(E,k,x,C=255){return(E<<24|k<<16|x<<8|C)>>>0}}(S||(i.channels=S={})),function(w){function E(k,x){return b=Math.round(255*x),[v,m,g]=c.toChannels(k.rgba),{css:S.toCss(v,m,g,b),rgba:S.toRgba(v,m,g,b)}}w.blend=function(k,x){if(b=(255&x.rgba)/255,b===1)return{css:x.css,rgba:x.rgba};const C=x.rgba>>24&255,D=x.rgba>>16&255,A=x.rgba>>8&255,j=k.rgba>>24&255,T=k.rgba>>16&255,I=k.rgba>>8&255;return v=j+Math.round((C-j)*b),m=T+Math.round((D-T)*b),g=I+Math.round((A-I)*b),{css:S.toCss(v,m,g),rgba:S.toRgba(v,m,g)}},w.isOpaque=function(k){return(255&k.rgba)==255},w.ensureContrastRatio=function(k,x,C){const D=c.ensureContrastRatio(k.rgba,x.rgba,C);if(D)return c.toColor(D>>24&255,D>>16&255,D>>8&255)},w.opaque=function(k){const x=(255|k.rgba)>>>0;return[v,m,g]=c.toChannels(x),{css:S.toCss(v,m,g),rgba:x}},w.opacity=E,w.multiplyOpacity=function(k,x){return b=255&k.rgba,E(k,b*x/255)},w.toColorRGB=function(k){return[k.rgba>>24&255,k.rgba>>16&255,k.rgba>>8&255]}}(y||(i.color=y={})),function(w){let E,k;if(!p.isNode){const x=document.createElement("canvas");x.width=1,x.height=1;const C=x.getContext("2d",{willReadFrequently:!0});C&&(E=C,E.globalCompositeOperation="copy",k=E.createLinearGradient(0,0,1,1))}w.toColor=function(x){if(x.match(/#[\da-f]{3,8}/i))switch(x.length){case 4:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),g=parseInt(x.slice(3,4).repeat(2),16),c.toColor(v,m,g);case 5:return v=parseInt(x.slice(1,2).repeat(2),16),m=parseInt(x.slice(2,3).repeat(2),16),g=parseInt(x.slice(3,4).repeat(2),16),b=parseInt(x.slice(4,5).repeat(2),16),c.toColor(v,m,g,b);case 7:return{css:x,rgba:(parseInt(x.slice(1),16)<<8|255)>>>0};case 9:return{css:x,rgba:parseInt(x.slice(1),16)>>>0}}const C=x.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(C)return v=parseInt(C[1]),m=parseInt(C[2]),g=parseInt(C[3]),b=Math.round(255*(C[5]===void 0?1:parseFloat(C[5]))),c.toColor(v,m,g,b);if(!E||!k)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=k,E.fillStyle=x,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[v,m,g,b]=E.getImageData(0,0,1,1).data,b!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:S.toRgba(v,m,g,b),css:x}}}(a||(i.css=a={})),function(w){function E(k,x,C){const D=k/255,A=x/255,j=C/255;return .2126*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))+.7152*(A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4))+.0722*(j<=.03928?j/12.92:Math.pow((j+.055)/1.055,2.4))}w.relativeLuminance=function(k){return E(k>>16&255,k>>8&255,255&k)},w.relativeLuminance2=E}(u||(i.rgb=u={})),function(w){function E(x,C,D){const A=x>>24&255,j=x>>16&255,T=x>>8&255;let I=C>>24&255,F=C>>16&255,z=C>>8&255,G=_(u.relativeLuminance2(I,F,z),u.relativeLuminance2(A,j,T));for(;G<D&&(I>0||F>0||z>0);)I-=Math.max(0,Math.ceil(.1*I)),F-=Math.max(0,Math.ceil(.1*F)),z-=Math.max(0,Math.ceil(.1*z)),G=_(u.relativeLuminance2(I,F,z),u.relativeLuminance2(A,j,T));return(I<<24|F<<16|z<<8|255)>>>0}function k(x,C,D){const A=x>>24&255,j=x>>16&255,T=x>>8&255;let I=C>>24&255,F=C>>16&255,z=C>>8&255,G=_(u.relativeLuminance2(I,F,z),u.relativeLuminance2(A,j,T));for(;G<D&&(I<255||F<255||z<255);)I=Math.min(255,I+Math.ceil(.1*(255-I))),F=Math.min(255,F+Math.ceil(.1*(255-F))),z=Math.min(255,z+Math.ceil(.1*(255-z))),G=_(u.relativeLuminance2(I,F,z),u.relativeLuminance2(A,j,T));return(I<<24|F<<16|z<<8|255)>>>0}w.ensureContrastRatio=function(x,C,D){const A=u.relativeLuminance(x>>8),j=u.relativeLuminance(C>>8);if(_(A,j)<D){if(j<A){const F=E(x,C,D),z=_(A,u.relativeLuminance(F>>8));if(z<D){const G=k(x,C,D);return z>_(A,u.relativeLuminance(G>>8))?F:G}return F}const T=k(x,C,D),I=_(A,u.relativeLuminance(T>>8));if(I<D){const F=E(x,C,D);return I>_(A,u.relativeLuminance(F>>8))?T:F}return T}},w.reduceLuminance=E,w.increaseLuminance=k,w.toChannels=function(x){return[x>>24&255,x>>16&255,x>>8&255,255&x]},w.toColor=function(x,C,D,A){return{css:S.toCss(x,C,D,A),rgba:S.toRgba(x,C,D,A)}}}(c||(i.rgba=c={})),i.toPaddedHex=f,i.contrastRatio=_},8969:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CoreTerminal=void 0;const p=l(844),v=l(2585),m=l(4348),g=l(7866),b=l(744),S=l(7302),y=l(6975),a=l(8460),u=l(1753),c=l(1480),f=l(7994),_=l(9282),w=l(5435),E=l(5981),k=l(2660);let x=!1;class C extends p.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new a.EventEmitter),this._onScroll.event(A=>{var j;(j=this._onScrollApi)===null||j===void 0||j.fire(A.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(A){for(const j in A)this.optionsService.options[j]=A[j]}constructor(A){super(),this._windowsWrappingHeuristics=this.register(new p.MutableDisposable),this._onBinary=this.register(new a.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new a.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new a.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new a.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new a.EventEmitter),this._instantiationService=new m.InstantiationService,this.optionsService=this.register(new S.OptionsService(A)),this._instantiationService.setService(v.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(b.BufferService)),this._instantiationService.setService(v.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(g.LogService)),this._instantiationService.setService(v.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(v.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(u.CoreMouseService)),this._instantiationService.setService(v.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(c.UnicodeService)),this._instantiationService.setService(v.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(v.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(k.OscLinkService),this._instantiationService.setService(v.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,a.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,a.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,a.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,a.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(j=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(j=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((j,T)=>this._inputHandler.parse(j,T))),this.register((0,a.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(A,j){this._writeBuffer.write(A,j)}writeSync(A,j){this._logService.logLevel<=v.LogLevelEnum.WARN&&!x&&(this._logService.warn("writeSync is unreliable and will be removed soon."),x=!0),this._writeBuffer.writeSync(A,j)}resize(A,j){isNaN(A)||isNaN(j)||(A=Math.max(A,b.MINIMUM_COLS),j=Math.max(j,b.MINIMUM_ROWS),this._bufferService.resize(A,j))}scroll(A,j=!1){this._bufferService.scroll(A,j)}scrollLines(A,j,T){this._bufferService.scrollLines(A,j,T)}scrollPages(A){this.scrollLines(A*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(A){const j=A-this._bufferService.buffer.ydisp;j!==0&&this.scrollLines(j)}registerEscHandler(A,j){return this._inputHandler.registerEscHandler(A,j)}registerDcsHandler(A,j){return this._inputHandler.registerDcsHandler(A,j)}registerCsiHandler(A,j){return this._inputHandler.registerCsiHandler(A,j)}registerOscHandler(A,j){return this._inputHandler.registerOscHandler(A,j)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let A=!1;const j=this.optionsService.rawOptions.windowsPty;j&&j.buildNumber!==void 0&&j.buildNumber!==void 0?A=j.backend==="conpty"&&j.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(A=!0),A?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const A=[];A.push(this.onLineFeed(_.updateWindowsModeWrappedState.bind(null,this._bufferService))),A.push(this.registerCsiHandler({final:"H"},()=>((0,_.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,p.toDisposable)(()=>{for(const j of A)j.dispose()})}}}i.CoreTerminal=C},8460:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.forwardEvent=i.EventEmitter=void 0,i.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===l)return void this._listeners.splice(p,1)}}})),this._event}fire(l,p){const v=[];for(let m=0;m<this._listeners.length;m++)v.push(this._listeners[m]);for(let m=0;m<v.length;m++)v[m].call(void 0,l,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},i.forwardEvent=function(l,p){return l(v=>p.fire(v))}},5435:function(h,i,l){var p=this&&this.__decorate||function(G,R,P,O){var M,U=arguments.length,H=U<3?R:O===null?O=Object.getOwnPropertyDescriptor(R,P):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(G,R,P,O);else for(var q=G.length-1;q>=0;q--)(M=G[q])&&(H=(U<3?M(H):U>3?M(R,P,H):M(R,P))||H);return U>3&&H&&Object.defineProperty(R,P,H),H},v=this&&this.__param||function(G,R){return function(P,O){R(P,O,G)}};Object.defineProperty(i,"__esModule",{value:!0}),i.InputHandler=i.WindowsOptionsReportType=void 0;const m=l(2584),g=l(7116),b=l(2015),S=l(844),y=l(482),a=l(8437),u=l(8460),c=l(643),f=l(511),_=l(3734),w=l(2585),E=l(6242),k=l(6351),x=l(5941),C={"(":0,")":1,"*":2,"+":3,"-":1,".":2},D=131072;function A(G,R){if(G>24)return R.setWinLines||!1;switch(G){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var j;(function(G){G[G.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",G[G.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(j||(i.WindowsOptionsReportType=j={}));let T=0;class I extends S.Disposable{getAttrData(){return this._curAttrData}constructor(R,P,O,M,U,H,q,V,Q=new b.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=P,this._coreService=O,this._logService=M,this._optionsService=U,this._oscLinkService=H,this._coreMouseService=q,this._unicodeService=V,this._parser=Q,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new u.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new u.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new u.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new u.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new u.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new u.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new u.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new u.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new u.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new u.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new u.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new F(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(L=>this._activeBuffer=L.activeBuffer)),this._parser.setCsiHandlerFallback((L,B)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(L),params:B.toArray()})}),this._parser.setEscHandlerFallback(L=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(L)})}),this._parser.setExecuteHandlerFallback(L=>{this._logService.debug("Unknown EXECUTE code: ",{code:L})}),this._parser.setOscHandlerFallback((L,B,K)=>{this._logService.debug("Unknown OSC code: ",{identifier:L,action:B,data:K})}),this._parser.setDcsHandlerFallback((L,B,K)=>{B==="HOOK"&&(K=K.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(L),action:B,payload:K})}),this._parser.setPrintHandler((L,B,K)=>this.print(L,B,K)),this._parser.registerCsiHandler({final:"@"},L=>this.insertChars(L)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},L=>this.scrollLeft(L)),this._parser.registerCsiHandler({final:"A"},L=>this.cursorUp(L)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},L=>this.scrollRight(L)),this._parser.registerCsiHandler({final:"B"},L=>this.cursorDown(L)),this._parser.registerCsiHandler({final:"C"},L=>this.cursorForward(L)),this._parser.registerCsiHandler({final:"D"},L=>this.cursorBackward(L)),this._parser.registerCsiHandler({final:"E"},L=>this.cursorNextLine(L)),this._parser.registerCsiHandler({final:"F"},L=>this.cursorPrecedingLine(L)),this._parser.registerCsiHandler({final:"G"},L=>this.cursorCharAbsolute(L)),this._parser.registerCsiHandler({final:"H"},L=>this.cursorPosition(L)),this._parser.registerCsiHandler({final:"I"},L=>this.cursorForwardTab(L)),this._parser.registerCsiHandler({final:"J"},L=>this.eraseInDisplay(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},L=>this.eraseInDisplay(L,!0)),this._parser.registerCsiHandler({final:"K"},L=>this.eraseInLine(L,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},L=>this.eraseInLine(L,!0)),this._parser.registerCsiHandler({final:"L"},L=>this.insertLines(L)),this._parser.registerCsiHandler({final:"M"},L=>this.deleteLines(L)),this._parser.registerCsiHandler({final:"P"},L=>this.deleteChars(L)),this._parser.registerCsiHandler({final:"S"},L=>this.scrollUp(L)),this._parser.registerCsiHandler({final:"T"},L=>this.scrollDown(L)),this._parser.registerCsiHandler({final:"X"},L=>this.eraseChars(L)),this._parser.registerCsiHandler({final:"Z"},L=>this.cursorBackwardTab(L)),this._parser.registerCsiHandler({final:"`"},L=>this.charPosAbsolute(L)),this._parser.registerCsiHandler({final:"a"},L=>this.hPositionRelative(L)),this._parser.registerCsiHandler({final:"b"},L=>this.repeatPrecedingCharacter(L)),this._parser.registerCsiHandler({final:"c"},L=>this.sendDeviceAttributesPrimary(L)),this._parser.registerCsiHandler({prefix:">",final:"c"},L=>this.sendDeviceAttributesSecondary(L)),this._parser.registerCsiHandler({final:"d"},L=>this.linePosAbsolute(L)),this._parser.registerCsiHandler({final:"e"},L=>this.vPositionRelative(L)),this._parser.registerCsiHandler({final:"f"},L=>this.hVPosition(L)),this._parser.registerCsiHandler({final:"g"},L=>this.tabClear(L)),this._parser.registerCsiHandler({final:"h"},L=>this.setMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"h"},L=>this.setModePrivate(L)),this._parser.registerCsiHandler({final:"l"},L=>this.resetMode(L)),this._parser.registerCsiHandler({prefix:"?",final:"l"},L=>this.resetModePrivate(L)),this._parser.registerCsiHandler({final:"m"},L=>this.charAttributes(L)),this._parser.registerCsiHandler({final:"n"},L=>this.deviceStatus(L)),this._parser.registerCsiHandler({prefix:"?",final:"n"},L=>this.deviceStatusPrivate(L)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},L=>this.softReset(L)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},L=>this.setCursorStyle(L)),this._parser.registerCsiHandler({final:"r"},L=>this.setScrollRegion(L)),this._parser.registerCsiHandler({final:"s"},L=>this.saveCursor(L)),this._parser.registerCsiHandler({final:"t"},L=>this.windowOptions(L)),this._parser.registerCsiHandler({final:"u"},L=>this.restoreCursor(L)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},L=>this.insertColumns(L)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},L=>this.deleteColumns(L)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},L=>this.selectProtected(L)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},L=>this.requestMode(L,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},L=>this.requestMode(L,!1)),this._parser.setExecuteHandler(m.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(m.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(m.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(m.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(m.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(m.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(m.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(m.C1.IND,()=>this.index()),this._parser.setExecuteHandler(m.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(m.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(L=>(this.setTitle(L),this.setIconName(L),!0))),this._parser.registerOscHandler(1,new E.OscHandler(L=>this.setIconName(L))),this._parser.registerOscHandler(2,new E.OscHandler(L=>this.setTitle(L))),this._parser.registerOscHandler(4,new E.OscHandler(L=>this.setOrReportIndexedColor(L))),this._parser.registerOscHandler(8,new E.OscHandler(L=>this.setHyperlink(L))),this._parser.registerOscHandler(10,new E.OscHandler(L=>this.setOrReportFgColor(L))),this._parser.registerOscHandler(11,new E.OscHandler(L=>this.setOrReportBgColor(L))),this._parser.registerOscHandler(12,new E.OscHandler(L=>this.setOrReportCursorColor(L))),this._parser.registerOscHandler(104,new E.OscHandler(L=>this.restoreIndexedColor(L))),this._parser.registerOscHandler(110,new E.OscHandler(L=>this.restoreFgColor(L))),this._parser.registerOscHandler(111,new E.OscHandler(L=>this.restoreBgColor(L))),this._parser.registerOscHandler(112,new E.OscHandler(L=>this.restoreCursorColor(L))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const L in g.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:L},()=>this.selectCharset("("+L)),this._parser.registerEscHandler({intermediates:")",final:L},()=>this.selectCharset(")"+L)),this._parser.registerEscHandler({intermediates:"*",final:L},()=>this.selectCharset("*"+L)),this._parser.registerEscHandler({intermediates:"+",final:L},()=>this.selectCharset("+"+L)),this._parser.registerEscHandler({intermediates:"-",final:L},()=>this.selectCharset("-"+L)),this._parser.registerEscHandler({intermediates:".",final:L},()=>this.selectCharset("."+L)),this._parser.registerEscHandler({intermediates:"/",final:L},()=>this.selectCharset("/"+L));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(L=>(this._logService.error("Parsing error: ",L),L)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new k.DcsHandler((L,B)=>this.requestStatusString(L,B)))}_preserveStack(R,P,O,M){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=P,this._parseStack.decodedLength=O,this._parseStack.position=M}_logSlowResolvingAsync(R){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([R,new Promise((P,O)=>setTimeout(()=>O("#SLOW_TIMEOUT"),5e3))]).catch(P=>{if(P!=="#SLOW_TIMEOUT")throw P;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,P){let O,M=this._activeBuffer.x,U=this._activeBuffer.y,H=0;const q=this._parseStack.paused;if(q){if(O=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,P))return this._logSlowResolvingAsync(O),O;M=this._parseStack.cursorStartX,U=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>D&&(H=this._parseStack.position+D)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,V=>String.fromCharCode(V)).join("")}"`),typeof R=="string"?R.split("").map(V=>V.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<D&&(this._parseBuffer=new Uint32Array(Math.min(R.length,D))),q||this._dirtyRowTracker.clearRange(),R.length>D)for(let V=H;V<R.length;V+=D){const Q=V+D<R.length?V+D:R.length,L=typeof R=="string"?this._stringDecoder.decode(R.substring(V,Q),this._parseBuffer):this._utf8Decoder.decode(R.subarray(V,Q),this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,L))return this._preserveStack(M,U,L,V),this._logSlowResolvingAsync(O),O}else if(!q){const V=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(O=this._parser.parse(this._parseBuffer,V))return this._preserveStack(M,U,V,0),this._logSlowResolvingAsync(O),O}this._activeBuffer.x===M&&this._activeBuffer.y===U||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,P,O){let M,U;const H=this._charsetService.charset,q=this._optionsService.rawOptions.screenReaderMode,V=this._bufferService.cols,Q=this._coreService.decPrivateModes.wraparound,L=this._coreService.modes.insertMode,B=this._curAttrData;let K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&O-P>0&&K.getWidth(this._activeBuffer.x-1)===2&&K.setCellFromCodePoint(this._activeBuffer.x-1,0,1,B.fg,B.bg,B.extended);for(let $=P;$<O;++$){if(M=R[$],U=this._unicodeService.wcwidth(M),M<127&&H){const ee=H[String.fromCharCode(M)];ee&&(M=ee.charCodeAt(0))}if(q&&this._onA11yChar.fire((0,y.stringFromCodePoint)(M)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),U||!this._activeBuffer.x){if(this._activeBuffer.x+U-1>=V){if(Q){for(;this._activeBuffer.x<V;)K.setCellFromCodePoint(this._activeBuffer.x++,0,1,B.fg,B.bg,B.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),K=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=V-1,U===2)continue}if(L&&(K.insertCells(this._activeBuffer.x,U,this._activeBuffer.getNullCell(B),B),K.getWidth(V-1)===2&&K.setCellFromCodePoint(V-1,c.NULL_CELL_CODE,c.NULL_CELL_WIDTH,B.fg,B.bg,B.extended)),K.setCellFromCodePoint(this._activeBuffer.x++,M,U,B.fg,B.bg,B.extended),U>0)for(;--U;)K.setCellFromCodePoint(this._activeBuffer.x++,0,0,B.fg,B.bg,B.extended)}else K.getWidth(this._activeBuffer.x-1)?K.addCodepointToCell(this._activeBuffer.x-1,M):K.addCodepointToCell(this._activeBuffer.x-2,M)}O-P>0&&(K.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<V&&O-P>0&&K.getWidth(this._activeBuffer.x)===0&&!K.hasContent(this._activeBuffer.x)&&K.setCellFromCodePoint(this._activeBuffer.x,0,1,B.fg,B.bg,B.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,P){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,P):this._parser.registerCsiHandler(R,O=>!A(O.params[0],this._optionsService.rawOptions.windowOptions)||P(O))}registerDcsHandler(R,P){return this._parser.registerDcsHandler(R,new k.DcsHandler(P))}registerEscHandler(R,P){return this._parser.registerEscHandler(R,P)}registerOscHandler(R,P){return this._parser.registerOscHandler(R,new E.OscHandler(P))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);P.hasWidth(this._activeBuffer.x)&&!P.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,P){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+P):(this._activeBuffer.x=R,this._activeBuffer.y=P),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,P){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+P)}cursorUp(R){const P=this._activeBuffer.y-this._activeBuffer.scrollTop;return P>=0?this._moveCursor(0,-Math.min(P,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const P=this._activeBuffer.scrollBottom-this._activeBuffer.y;return P>=0?this._moveCursor(0,Math.min(P,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const P=R.params[0];return P===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:P===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let P=R.params[0]||1;for(;P--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const P=R.params[0];return P===1&&(this._curAttrData.bg|=536870912),P!==2&&P!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,P,O,M=!1,U=!1){const H=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);H.replaceCells(P,O,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),U),M&&(H.isWrapped=!1)}_resetBufferLine(R,P=!1){const O=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);O&&(O.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),P),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),O.isWrapped=!1)}eraseInDisplay(R,P=!1){let O;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);O<this._bufferService.rows;O++)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(O);break;case 1:for(O=this._activeBuffer.y,this._dirtyRowTracker.markDirty(O),this._eraseInBufferLine(O,0,this._activeBuffer.x+1,!0,P),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(O+1).isWrapped=!1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 2:for(O=this._bufferService.rows,this._dirtyRowTracker.markDirty(O-1);O--;)this._resetBufferLine(O,P);this._dirtyRowTracker.markDirty(0);break;case 3:const M=this._activeBuffer.lines.length-this._bufferService.rows;M>0&&(this._activeBuffer.lines.trimStart(M),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-M,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-M,0),this._onScroll.fire(0))}return!0}eraseInLine(R,P=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,P);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,P);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,P)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y,M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,U=this._bufferService.rows-1+this._activeBuffer.ybase-M+1;for(;P--;)this._activeBuffer.lines.splice(U-1,1),this._activeBuffer.lines.splice(O,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let P=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const O=this._activeBuffer.ybase+this._activeBuffer.y;let M;for(M=this._bufferService.rows-1-this._activeBuffer.scrollBottom,M=this._bufferService.rows-1+this._activeBuffer.ybase-M;P--;)this._activeBuffer.lines.splice(O,1),this._activeBuffer.lines.splice(M,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let P=R.params[0]||1;for(;P--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(a.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);M.deleteCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);M.insertCells(0,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);M.insertCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=R.params[0]||1;for(let O=this._activeBuffer.scrollTop;O<=this._activeBuffer.scrollBottom;++O){const M=this._activeBuffer.lines.get(this._activeBuffer.ybase+O);M.deleteCells(this._activeBuffer.x,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),M.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return P&&(P.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const P=R.params[0]||1,O=new Uint32Array(P);for(let M=0;M<P;++M)O[M]=this._parser.precedingCodepoint;return this.print(O,0,O.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(m.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(m.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(m.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(m.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(m.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),this._charsetService.setgCharset(1,g.DEFAULT_CHARSET),this._charsetService.setgCharset(2,g.DEFAULT_CHARSET),this._charsetService.setgCharset(3,g.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let P=0;P<R.length;P++)switch(R.params[P]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[P]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,P){const O=this._coreService.decPrivateModes,{activeProtocol:M,activeEncoding:U}=this._coreMouseService,H=this._coreService,{buffers:q,cols:V}=this._bufferService,{active:Q,alt:L}=q,B=this._optionsService.rawOptions,K=oe=>oe?1:2,$=R.params[0];return ee=$,Y=P?$===2?4:$===4?K(H.modes.insertMode):$===12?3:$===20?K(B.convertEol):0:$===1?K(O.applicationCursorKeys):$===3?B.windowOptions.setWinLines?V===80?2:V===132?1:0:0:$===6?K(O.origin):$===7?K(O.wraparound):$===8?3:$===9?K(M==="X10"):$===12?K(B.cursorBlink):$===25?K(!H.isCursorHidden):$===45?K(O.reverseWraparound):$===66?K(O.applicationKeypad):$===67?4:$===1e3?K(M==="VT200"):$===1002?K(M==="DRAG"):$===1003?K(M==="ANY"):$===1004?K(O.sendFocus):$===1005?4:$===1006?K(U==="SGR"):$===1015?4:$===1016?K(U==="SGR_PIXELS"):$===1048?1:$===47||$===1047||$===1049?K(Q===L):$===2004?K(O.bracketedPasteMode):0,H.triggerDataEvent(`${m.C0.ESC}[${P?"":"?"}${ee};${Y}$y`),!0;var ee,Y}_updateAttrColor(R,P,O,M,U){return P===2?(R|=50331648,R&=-16777216,R|=_.AttributeData.fromColorRGB([O,M,U])):P===5&&(R&=-50331904,R|=33554432|255&O),R}_extractColor(R,P,O){const M=[0,0,-1,0,0,0];let U=0,H=0;do{if(M[H+U]=R.params[P+H],R.hasSubParams(P+H)){const q=R.getSubParams(P+H);let V=0;do M[1]===5&&(U=1),M[H+V+1+U]=q[V];while(++V<q.length&&V+H+1+U<M.length);break}if(M[1]===5&&H+U>=2||M[1]===2&&H+U>=5)break;M[1]&&(U=1)}while(++H+P<R.length&&H+U<M.length);for(let q=2;q<M.length;++q)M[q]===-1&&(M[q]=0);switch(M[0]){case 38:O.fg=this._updateAttrColor(O.fg,M[1],M[3],M[4],M[5]);break;case 48:O.bg=this._updateAttrColor(O.bg,M[1],M[3],M[4],M[5]);break;case 58:O.extended=O.extended.clone(),O.extended.underlineColor=this._updateAttrColor(O.extended.underlineColor,M[1],M[3],M[4],M[5])}return H}_processUnderline(R,P){P.extended=P.extended.clone(),(!~R||R>5)&&(R=1),P.extended.underlineStyle=R,P.fg|=268435456,R===0&&(P.fg&=-268435457),P.updateExtended()}_processSGR0(R){R.fg=a.DEFAULT_ATTR_DATA.fg,R.bg=a.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const P=R.length;let O;const M=this._curAttrData;for(let U=0;U<P;U++)O=R.params[U],O>=30&&O<=37?(M.fg&=-50331904,M.fg|=16777216|O-30):O>=40&&O<=47?(M.bg&=-50331904,M.bg|=16777216|O-40):O>=90&&O<=97?(M.fg&=-50331904,M.fg|=16777224|O-90):O>=100&&O<=107?(M.bg&=-50331904,M.bg|=16777224|O-100):O===0?this._processSGR0(M):O===1?M.fg|=134217728:O===3?M.bg|=67108864:O===4?(M.fg|=268435456,this._processUnderline(R.hasSubParams(U)?R.getSubParams(U)[0]:1,M)):O===5?M.fg|=536870912:O===7?M.fg|=67108864:O===8?M.fg|=1073741824:O===9?M.fg|=2147483648:O===2?M.bg|=134217728:O===21?this._processUnderline(2,M):O===22?(M.fg&=-134217729,M.bg&=-134217729):O===23?M.bg&=-67108865:O===24?(M.fg&=-268435457,this._processUnderline(0,M)):O===25?M.fg&=-536870913:O===27?M.fg&=-67108865:O===28?M.fg&=-1073741825:O===29?M.fg&=2147483647:O===39?(M.fg&=-67108864,M.fg|=16777215&a.DEFAULT_ATTR_DATA.fg):O===49?(M.bg&=-67108864,M.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):O===38||O===48||O===58?U+=this._extractColor(R,U,M):O===53?M.bg|=1073741824:O===55?M.bg&=-1073741825:O===59?(M.extended=M.extended.clone(),M.extended.underlineColor=-1,M.updateExtended()):O===100?(M.fg&=-67108864,M.fg|=16777215&a.DEFAULT_ATTR_DATA.fg,M.bg&=-67108864,M.bg|=16777215&a.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",O);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${m.C0.ESC}[0n`);break;case 6:const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[${P};${O}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const P=this._activeBuffer.y+1,O=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${m.C0.ESC}[?${P};${O}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const P=R.params[0]||1;switch(P){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const O=P%2==1;return this._optionsService.options.cursorBlink=O,!0}setScrollRegion(R){const P=R.params[0]||1;let O;return(R.length<2||(O=R.params[1])>this._bufferService.rows||O===0)&&(O=this._bufferService.rows),O>P&&(this._activeBuffer.scrollTop=P-1,this._activeBuffer.scrollBottom=O-1,this._setCursor(0,0)),!0}windowOptions(R){if(!A(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const P=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:P!==2&&this._onRequestWindowsOptionsReport.fire(j.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(j.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${m.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:P!==0&&P!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),P!==0&&P!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:P!==0&&P!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),P!==0&&P!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const P=[],O=R.split(";");for(;O.length>1;){const M=O.shift(),U=O.shift();if(/^\d+$/.exec(M)){const H=parseInt(M);if(z(H))if(U==="?")P.push({type:0,index:H});else{const q=(0,x.parseColor)(U);q&&P.push({type:1,index:H,color:q})}}}return P.length&&this._onColor.fire(P),!0}setHyperlink(R){const P=R.split(";");return!(P.length<2)&&(P[1]?this._createHyperlink(P[0],P[1]):!P[0]&&this._finishHyperlink())}_createHyperlink(R,P){this._getCurrentLinkId()&&this._finishHyperlink();const O=R.split(":");let M;const U=O.findIndex(H=>H.startsWith("id="));return U!==-1&&(M=O[U].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:M,uri:P}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,P){const O=R.split(";");for(let M=0;M<O.length&&!(P>=this._specialColors.length);++M,++P)if(O[M]==="?")this._onColor.fire([{type:0,index:this._specialColors[P]}]);else{const U=(0,x.parseColor)(O[M]);U&&this._onColor.fire([{type:1,index:this._specialColors[P],color:U}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const P=[],O=R.split(";");for(let M=0;M<O.length;++M)if(/^\d+$/.exec(O[M])){const U=parseInt(O[M]);z(U)&&P.push({type:2,index:U})}return P.length&&this._onColor.fire(P),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,g.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(C[R[0]],g.CHARSETS[R[1]]||g.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=a.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=a.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new f.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let P=0;P<this._bufferService.rows;++P){const O=this._activeBuffer.ybase+this._activeBuffer.y+P,M=this._activeBuffer.lines.get(O);M&&(M.fill(R),M.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,P){const O=this._bufferService.buffer,M=this._optionsService.rawOptions;return(U=>(this._coreService.triggerDataEvent(`${m.C0.ESC}${U}${m.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${O.scrollTop+1};${O.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[M.cursorStyle]-(M.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,P){this._dirtyRowTracker.markRangeDirty(R,P)}}i.InputHandler=I;let F=class{constructor(G){this._bufferService=G,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(G){G<this.start?this.start=G:G>this.end&&(this.end=G)}markRangeDirty(G,R){G>R&&(T=G,G=R,R=T),G<this.start&&(this.start=G),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(G){return 0<=G&&G<256}F=p([v(0,w.IBufferService)],F)},844:(h,i)=>{function l(p){for(const v of p)v.dispose();p.length=0}Object.defineProperty(i,"__esModule",{value:!0}),i.getDisposeArrayDisposable=i.disposeArray=i.toDisposable=i.MutableDisposable=i.Disposable=void 0,i.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const v=this._disposables.indexOf(p);v!==-1&&this._disposables.splice(v,1)}},i.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var v;this._isDisposed||p===this._value||((v=this._value)===null||v===void 0||v.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)===null||p===void 0||p.dispose(),this._value=void 0}},i.toDisposable=function(p){return{dispose:p}},i.disposeArray=l,i.getDisposeArrayDisposable=function(p){return{dispose:()=>l(p)}}},1505:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.FourKeyMap=i.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(v,m,g){this._data[v]||(this._data[v]={}),this._data[v][m]=g}get(v,m){return this._data[v]?this._data[v][m]:void 0}clear(){this._data={}}}i.TwoKeyMap=l,i.FourKeyMap=class{constructor(){this._data=new l}set(p,v,m,g,b){this._data.get(p,v)||this._data.set(p,v,new l),this._data.get(p,v).set(m,g,b)}get(p,v,m,g){var b;return(b=this._data.get(p,v))===null||b===void 0?void 0:b.get(m,g)}clear(){this._data.clear()}}},6114:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.isChromeOS=i.isLinux=i.isWindows=i.isIphone=i.isIpad=i.isMac=i.getSafariVersion=i.isSafari=i.isLegacyEdge=i.isFirefox=i.isNode=void 0,i.isNode=typeof navigator>"u";const l=i.isNode?"node":navigator.userAgent,p=i.isNode?"node":navigator.platform;i.isFirefox=l.includes("Firefox"),i.isLegacyEdge=l.includes("Edge"),i.isSafari=/^((?!chrome|android).)*safari/i.test(l),i.getSafariVersion=function(){if(!i.isSafari)return 0;const v=l.match(/Version\/(\d+)/);return v===null||v.length<2?0:parseInt(v[1])},i.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(p),i.isIpad=p==="iPad",i.isIphone=p==="iPhone",i.isWindows=["Windows","Win16","Win32","WinCE"].includes(p),i.isLinux=p.indexOf("Linux")>=0,i.isChromeOS=/\bCrOS\b/.test(l)},6106:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SortedList=void 0;let l=0;i.SortedList=class{constructor(p){this._getKey=p,this._array=[]}clear(){this._array.length=0}insert(p){this._array.length!==0?(l=this._search(this._getKey(p)),this._array.splice(l,0,p)):this._array.push(p)}delete(p){if(this._array.length===0)return!1;const v=this._getKey(p);if(v===void 0||(l=this._search(v),l===-1)||this._getKey(this._array[l])!==v)return!1;do if(this._array[l]===p)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===v);return!1}*getKeyIterator(p){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===p)}forEachByKey(p,v){if(this._array.length!==0&&(l=this._search(p),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===p))do v(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===p)}values(){return[...this._array].values()}_search(p){let v=0,m=this._array.length-1;for(;m>=v;){let g=v+m>>1;const b=this._getKey(this._array[g]);if(b>p)m=g-1;else{if(!(b<p)){for(;g>0&&this._getKey(this._array[g-1])===p;)g--;return g}v=g+1}}return v}}},7226:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DebouncedIdleTask=i.IdleTaskQueue=i.PriorityTaskQueue=void 0;const p=l(6114);class v{constructor(){this._tasks=[],this._i=0}enqueue(b){this._tasks.push(b),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(b){this._idleCallback=void 0;let S=0,y=0,a=b.timeRemaining(),u=0;for(;this._i<this._tasks.length;){if(S=Date.now(),this._tasks[this._i]()||this._i++,S=Math.max(1,Date.now()-S),y=Math.max(S,y),u=b.timeRemaining(),1.5*y>u)return a-S<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(a-S))}ms`),void this._start();a=u}this.clear()}}class m extends v{_requestCallback(b){return setTimeout(()=>b(this._createDeadline(16)))}_cancelCallback(b){clearTimeout(b)}_createDeadline(b){const S=Date.now()+b;return{timeRemaining:()=>Math.max(0,S-Date.now())}}}i.PriorityTaskQueue=m,i.IdleTaskQueue=!p.isNode&&"requestIdleCallback"in window?class extends v{_requestCallback(g){return requestIdleCallback(g)}_cancelCallback(g){cancelIdleCallback(g)}}:m,i.DebouncedIdleTask=class{constructor(){this._queue=new i.IdleTaskQueue}set(g){this._queue.clear(),this._queue.enqueue(g)}flush(){this._queue.flush()}}},9282:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.updateWindowsModeWrappedState=void 0;const p=l(643);i.updateWindowsModeWrappedState=function(v){const m=v.buffer.lines.get(v.buffer.ybase+v.buffer.y-1),g=m==null?void 0:m.get(v.cols-1),b=v.buffer.lines.get(v.buffer.ybase+v.buffer.y);b&&g&&(b.isWrapped=g[p.CHAR_DATA_CODE_INDEX]!==p.NULL_CELL_CODE&&g[p.CHAR_DATA_CODE_INDEX]!==p.WHITESPACE_CELL_CODE)}},3734:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ExtendedAttrs=i.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new p}static toColorRGB(m){return[m>>>16&255,m>>>8&255,255&m]}static fromColorRGB(m){return(255&m[0])<<16|(255&m[1])<<8|255&m[2]}clone(){const m=new l;return m.fg=this.fg,m.bg=this.bg,m.extended=this.extended.clone(),m}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}i.AttributeData=l;class p{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(m){this._ext=m}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(m){this._ext&=-469762049,this._ext|=m<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(m){this._ext&=-67108864,this._ext|=67108863&m}get urlId(){return this._urlId}set urlId(m){this._urlId=m}constructor(m=0,g=0){this._ext=0,this._urlId=0,this._ext=m,this._urlId=g}clone(){return new p(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}i.ExtendedAttrs=p},9092:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Buffer=i.MAX_BUFFER_SIZE=void 0;const p=l(6349),v=l(7226),m=l(3734),g=l(8437),b=l(4634),S=l(511),y=l(643),a=l(4863),u=l(7116);i.MAX_BUFFER_SIZE=4294967295,i.Buffer=class{constructor(c,f,_){this._hasScrollback=c,this._optionsService=f,this._bufferService=_,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=g.DEFAULT_ATTR_DATA.clone(),this.savedCharset=u.DEFAULT_CHARSET,this.markers=[],this._nullCell=S.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=S.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new v.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(c){return c?(this._nullCell.fg=c.fg,this._nullCell.bg=c.bg,this._nullCell.extended=c.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new m.ExtendedAttrs),this._nullCell}getWhitespaceCell(c){return c?(this._whitespaceCell.fg=c.fg,this._whitespaceCell.bg=c.bg,this._whitespaceCell.extended=c.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new m.ExtendedAttrs),this._whitespaceCell}getBlankLine(c,f){return new g.BufferLine(this._bufferService.cols,this.getNullCell(c),f)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const c=this.ybase+this.y-this.ydisp;return c>=0&&c<this._rows}_getCorrectBufferLength(c){if(!this._hasScrollback)return c;const f=c+this._optionsService.rawOptions.scrollback;return f>i.MAX_BUFFER_SIZE?i.MAX_BUFFER_SIZE:f}fillViewportRows(c){if(this.lines.length===0){c===void 0&&(c=g.DEFAULT_ATTR_DATA);let f=this._rows;for(;f--;)this.lines.push(this.getBlankLine(c))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new p.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(c,f){const _=this.getNullCell(g.DEFAULT_ATTR_DATA);let w=0;const E=this._getCorrectBufferLength(f);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<c)for(let x=0;x<this.lines.length;x++)w+=+this.lines.get(x).resize(c,_);let k=0;if(this._rows<f)for(let x=this._rows;x<f;x++)this.lines.length<f+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new g.BufferLine(c,_)):this.ybase>0&&this.lines.length<=this.ybase+this.y+k+1?(this.ybase--,k++,this.ydisp>0&&this.ydisp--):this.lines.push(new g.BufferLine(c,_)));else for(let x=this._rows;x>f;x--)this.lines.length>f+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const x=this.lines.length-E;x>0&&(this.lines.trimStart(x),this.ybase=Math.max(this.ybase-x,0),this.ydisp=Math.max(this.ydisp-x,0),this.savedY=Math.max(this.savedY-x,0)),this.lines.maxLength=E}this.x=Math.min(this.x,c-1),this.y=Math.min(this.y,f-1),k&&(this.y+=k),this.savedX=Math.min(this.savedX,c-1),this.scrollTop=0}if(this.scrollBottom=f-1,this._isReflowEnabled&&(this._reflow(c,f),this._cols>c))for(let k=0;k<this.lines.length;k++)w+=+this.lines.get(k).resize(c,_);this._cols=c,this._rows=f,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let c=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,c=!1);let f=0;for(;this._memoryCleanupPosition<this.lines.length;)if(f+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),f>100)return!0;return c}get _isReflowEnabled(){const c=this._optionsService.rawOptions.windowsPty;return c&&c.buildNumber?this._hasScrollback&&c.backend==="conpty"&&c.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(c,f){this._cols!==c&&(c>this._cols?this._reflowLarger(c,f):this._reflowSmaller(c,f))}_reflowLarger(c,f){const _=(0,b.reflowLargerGetLinesToRemove)(this.lines,this._cols,c,this.ybase+this.y,this.getNullCell(g.DEFAULT_ATTR_DATA));if(_.length>0){const w=(0,b.reflowLargerCreateNewLayout)(this.lines,_);(0,b.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(c,f,w.countRemoved)}}_reflowLargerAdjustViewport(c,f,_){const w=this.getNullCell(g.DEFAULT_ATTR_DATA);let E=_;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<f&&this.lines.push(new g.BufferLine(c,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-_,0)}_reflowSmaller(c,f){const _=this.getNullCell(g.DEFAULT_ATTR_DATA),w=[];let E=0;for(let k=this.lines.length-1;k>=0;k--){let x=this.lines.get(k);if(!x||!x.isWrapped&&x.getTrimmedLength()<=c)continue;const C=[x];for(;x.isWrapped&&k>0;)x=this.lines.get(--k),C.unshift(x);const D=this.ybase+this.y;if(D>=k&&D<k+C.length)continue;const A=C[C.length-1].getTrimmedLength(),j=(0,b.reflowSmallerGetNewLineLengths)(C,this._cols,c),T=j.length-C.length;let I;I=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+T):Math.max(0,this.lines.length-this.lines.maxLength+T);const F=[];for(let M=0;M<T;M++){const U=this.getBlankLine(g.DEFAULT_ATTR_DATA,!0);F.push(U)}F.length>0&&(w.push({start:k+C.length+E,newLines:F}),E+=F.length),C.push(...F);let z=j.length-1,G=j[z];G===0&&(z--,G=j[z]);let R=C.length-T-1,P=A;for(;R>=0;){const M=Math.min(P,G);if(C[z]===void 0)break;if(C[z].copyCellsFrom(C[R],P-M,G-M,M,!0),G-=M,G===0&&(z--,G=j[z]),P-=M,P===0){R--;const U=Math.max(R,0);P=(0,b.getWrappedLineTrimmedLength)(C,U,this._cols)}}for(let M=0;M<C.length;M++)j[M]<c&&C[M].setCell(j[M],_);let O=T-I;for(;O-- >0;)this.ybase===0?this.y<f-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-f&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+T,this.ybase+f-1)}if(w.length>0){const k=[],x=[];for(let z=0;z<this.lines.length;z++)x.push(this.lines.get(z));const C=this.lines.length;let D=C-1,A=0,j=w[A];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let T=0;for(let z=Math.min(this.lines.maxLength-1,C+E-1);z>=0;z--)if(j&&j.start>D+T){for(let G=j.newLines.length-1;G>=0;G--)this.lines.set(z--,j.newLines[G]);z++,k.push({index:D+1,amount:j.newLines.length}),T+=j.newLines.length,j=w[++A]}else this.lines.set(z,x[D--]);let I=0;for(let z=k.length-1;z>=0;z--)k[z].index+=I,this.lines.onInsertEmitter.fire(k[z]),I+=k[z].amount;const F=Math.max(0,C+E-this.lines.maxLength);F>0&&this.lines.onTrimEmitter.fire(F)}}translateBufferLineToString(c,f,_=0,w){const E=this.lines.get(c);return E?E.translateToString(f,_,w):""}getWrappedRangeForLine(c){let f=c,_=c;for(;f>0&&this.lines.get(f).isWrapped;)f--;for(;_+1<this.lines.length&&this.lines.get(_+1).isWrapped;)_++;return{first:f,last:_}}setupTabStops(c){for(c!=null?this.tabs[c]||(c=this.prevStop(c)):(this.tabs={},c=0);c<this._cols;c+=this._optionsService.rawOptions.tabStopWidth)this.tabs[c]=!0}prevStop(c){for(c==null&&(c=this.x);!this.tabs[--c]&&c>0;);return c>=this._cols?this._cols-1:c<0?0:c}nextStop(c){for(c==null&&(c=this.x);!this.tabs[++c]&&c<this._cols;);return c>=this._cols?this._cols-1:c<0?0:c}clearMarkers(c){this._isClearing=!0;for(let f=0;f<this.markers.length;f++)this.markers[f].line===c&&(this.markers[f].dispose(),this.markers.splice(f--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let c=0;c<this.markers.length;c++)this.markers[c].dispose(),this.markers.splice(c--,1);this._isClearing=!1}addMarker(c){const f=new a.Marker(c);return this.markers.push(f),f.register(this.lines.onTrim(_=>{f.line-=_,f.line<0&&f.dispose()})),f.register(this.lines.onInsert(_=>{f.line>=_.index&&(f.line+=_.amount)})),f.register(this.lines.onDelete(_=>{f.line>=_.index&&f.line<_.index+_.amount&&f.dispose(),f.line>_.index&&(f.line-=_.amount)})),f.register(f.onDispose(()=>this._removeMarker(f))),f}_removeMarker(c){this._isClearing||this.markers.splice(this.markers.indexOf(c),1)}}},8437:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLine=i.DEFAULT_ATTR_DATA=void 0;const p=l(3734),v=l(511),m=l(643),g=l(482);i.DEFAULT_ATTR_DATA=Object.freeze(new p.AttributeData);let b=0;class S{constructor(a,u,c=!1){this.isWrapped=c,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*a);const f=u||v.CellData.fromCharData([0,m.NULL_CELL_CHAR,m.NULL_CELL_WIDTH,m.NULL_CELL_CODE]);for(let _=0;_<a;++_)this.setCell(_,f);this.length=a}get(a){const u=this._data[3*a+0],c=2097151&u;return[this._data[3*a+1],2097152&u?this._combined[a]:c?(0,g.stringFromCodePoint)(c):"",u>>22,2097152&u?this._combined[a].charCodeAt(this._combined[a].length-1):c]}set(a,u){this._data[3*a+1]=u[m.CHAR_DATA_ATTR_INDEX],u[m.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[a]=u[1],this._data[3*a+0]=2097152|a|u[m.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*a+0]=u[m.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|u[m.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(a){return this._data[3*a+0]>>22}hasWidth(a){return 12582912&this._data[3*a+0]}getFg(a){return this._data[3*a+1]}getBg(a){return this._data[3*a+2]}hasContent(a){return 4194303&this._data[3*a+0]}getCodePoint(a){const u=this._data[3*a+0];return 2097152&u?this._combined[a].charCodeAt(this._combined[a].length-1):2097151&u}isCombined(a){return 2097152&this._data[3*a+0]}getString(a){const u=this._data[3*a+0];return 2097152&u?this._combined[a]:2097151&u?(0,g.stringFromCodePoint)(2097151&u):""}isProtected(a){return 536870912&this._data[3*a+2]}loadCell(a,u){return b=3*a,u.content=this._data[b+0],u.fg=this._data[b+1],u.bg=this._data[b+2],2097152&u.content&&(u.combinedData=this._combined[a]),268435456&u.bg&&(u.extended=this._extendedAttrs[a]),u}setCell(a,u){2097152&u.content&&(this._combined[a]=u.combinedData),268435456&u.bg&&(this._extendedAttrs[a]=u.extended),this._data[3*a+0]=u.content,this._data[3*a+1]=u.fg,this._data[3*a+2]=u.bg}setCellFromCodePoint(a,u,c,f,_,w){268435456&_&&(this._extendedAttrs[a]=w),this._data[3*a+0]=u|c<<22,this._data[3*a+1]=f,this._data[3*a+2]=_}addCodepointToCell(a,u){let c=this._data[3*a+0];2097152&c?this._combined[a]+=(0,g.stringFromCodePoint)(u):(2097151&c?(this._combined[a]=(0,g.stringFromCodePoint)(2097151&c)+(0,g.stringFromCodePoint)(u),c&=-2097152,c|=2097152):c=u|4194304,this._data[3*a+0]=c)}insertCells(a,u,c,f){if((a%=this.length)&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),u<this.length-a){const _=new v.CellData;for(let w=this.length-a-u-1;w>=0;--w)this.setCell(a+u+w,this.loadCell(a+w,_));for(let w=0;w<u;++w)this.setCell(a+w,c)}else for(let _=a;_<this.length;++_)this.setCell(_,c);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs)}deleteCells(a,u,c,f){if(a%=this.length,u<this.length-a){const _=new v.CellData;for(let w=0;w<this.length-a-u;++w)this.setCell(a+w,this.loadCell(a+u+w,_));for(let w=this.length-u;w<this.length;++w)this.setCell(w,c)}else for(let _=a;_<this.length;++_)this.setCell(_,c);a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),this.getWidth(a)!==0||this.hasContent(a)||this.setCellFromCodePoint(a,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs)}replaceCells(a,u,c,f,_=!1){if(_)for(a&&this.getWidth(a-1)===2&&!this.isProtected(a-1)&&this.setCellFromCodePoint(a-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&!this.isProtected(u)&&this.setCellFromCodePoint(u,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs);a<u&&a<this.length;)this.isProtected(a)||this.setCell(a,c),a++;else for(a&&this.getWidth(a-1)===2&&this.setCellFromCodePoint(a-1,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs),u<this.length&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u,0,1,(f==null?void 0:f.fg)||0,(f==null?void 0:f.bg)||0,(f==null?void 0:f.extended)||new p.ExtendedAttrs);a<u&&a<this.length;)this.setCell(a++,c)}resize(a,u){if(a===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const c=3*a;if(a>this.length){if(this._data.buffer.byteLength>=4*c)this._data=new Uint32Array(this._data.buffer,0,c);else{const f=new Uint32Array(c);f.set(this._data),this._data=f}for(let f=this.length;f<a;++f)this.setCell(f,u)}else{this._data=this._data.subarray(0,c);const f=Object.keys(this._combined);for(let w=0;w<f.length;w++){const E=parseInt(f[w],10);E>=a&&delete this._combined[E]}const _=Object.keys(this._extendedAttrs);for(let w=0;w<_.length;w++){const E=parseInt(_[w],10);E>=a&&delete this._extendedAttrs[E]}}return this.length=a,4*c*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const a=new Uint32Array(this._data.length);return a.set(this._data),this._data=a,1}return 0}fill(a,u=!1){if(u)for(let c=0;c<this.length;++c)this.isProtected(c)||this.setCell(c,a);else{this._combined={},this._extendedAttrs={};for(let c=0;c<this.length;++c)this.setCell(c,a)}}copyFrom(a){this.length!==a.length?this._data=new Uint32Array(a._data):this._data.set(a._data),this.length=a.length,this._combined={};for(const u in a._combined)this._combined[u]=a._combined[u];this._extendedAttrs={};for(const u in a._extendedAttrs)this._extendedAttrs[u]=a._extendedAttrs[u];this.isWrapped=a.isWrapped}clone(){const a=new S(0);a._data=new Uint32Array(this._data),a.length=this.length;for(const u in this._combined)a._combined[u]=this._combined[u];for(const u in this._extendedAttrs)a._extendedAttrs[u]=this._extendedAttrs[u];return a.isWrapped=this.isWrapped,a}getTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0])return a+(this._data[3*a+0]>>22);return 0}getNoBgTrimmedLength(){for(let a=this.length-1;a>=0;--a)if(4194303&this._data[3*a+0]||50331648&this._data[3*a+2])return a+(this._data[3*a+0]>>22);return 0}copyCellsFrom(a,u,c,f,_){const w=a._data;if(_)for(let k=f-1;k>=0;k--){for(let x=0;x<3;x++)this._data[3*(c+k)+x]=w[3*(u+k)+x];268435456&w[3*(u+k)+2]&&(this._extendedAttrs[c+k]=a._extendedAttrs[u+k])}else for(let k=0;k<f;k++){for(let x=0;x<3;x++)this._data[3*(c+k)+x]=w[3*(u+k)+x];268435456&w[3*(u+k)+2]&&(this._extendedAttrs[c+k]=a._extendedAttrs[u+k])}const E=Object.keys(a._combined);for(let k=0;k<E.length;k++){const x=parseInt(E[k],10);x>=u&&(this._combined[x-u+c]=a._combined[x])}}translateToString(a=!1,u=0,c=this.length){a&&(c=Math.min(c,this.getTrimmedLength()));let f="";for(;u<c;){const _=this._data[3*u+0],w=2097151&_;f+=2097152&_?this._combined[u]:w?(0,g.stringFromCodePoint)(w):m.WHITESPACE_CELL_CHAR,u+=_>>22||1}return f}}i.BufferLine=S},4841:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.getRangeLength=void 0,i.getRangeLength=function(l,p){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return p*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(h,i)=>{function l(p,v,m){if(v===p.length-1)return p[v].getTrimmedLength();const g=!p[v].hasContent(m-1)&&p[v].getWidth(m-1)===1,b=p[v+1].getWidth(0)===2;return g&&b?m-1:m}Object.defineProperty(i,"__esModule",{value:!0}),i.getWrappedLineTrimmedLength=i.reflowSmallerGetNewLineLengths=i.reflowLargerApplyNewLayout=i.reflowLargerCreateNewLayout=i.reflowLargerGetLinesToRemove=void 0,i.reflowLargerGetLinesToRemove=function(p,v,m,g,b){const S=[];for(let y=0;y<p.length-1;y++){let a=y,u=p.get(++a);if(!u.isWrapped)continue;const c=[p.get(y)];for(;a<p.length&&u.isWrapped;)c.push(u),u=p.get(++a);if(g>=y&&g<a){y+=c.length-1;continue}let f=0,_=l(c,f,v),w=1,E=0;for(;w<c.length;){const x=l(c,w,v),C=x-E,D=m-_,A=Math.min(C,D);c[f].copyCellsFrom(c[w],E,_,A,!1),_+=A,_===m&&(f++,_=0),E+=A,E===x&&(w++,E=0),_===0&&f!==0&&c[f-1].getWidth(m-1)===2&&(c[f].copyCellsFrom(c[f-1],m-1,_++,1,!1),c[f-1].setCell(m-1,b))}c[f].replaceCells(_,m,b);let k=0;for(let x=c.length-1;x>0&&(x>f||c[x].getTrimmedLength()===0);x--)k++;k>0&&(S.push(y+c.length-k),S.push(k)),y+=c.length-1}return S},i.reflowLargerCreateNewLayout=function(p,v){const m=[];let g=0,b=v[g],S=0;for(let y=0;y<p.length;y++)if(b===y){const a=v[++g];p.onDeleteEmitter.fire({index:y-S,amount:a}),y+=a-1,S+=a,b=v[++g]}else m.push(y);return{layout:m,countRemoved:S}},i.reflowLargerApplyNewLayout=function(p,v){const m=[];for(let g=0;g<v.length;g++)m.push(p.get(v[g]));for(let g=0;g<m.length;g++)p.set(g,m[g]);p.length=v.length},i.reflowSmallerGetNewLineLengths=function(p,v,m){const g=[],b=p.map((u,c)=>l(p,c,v)).reduce((u,c)=>u+c);let S=0,y=0,a=0;for(;a<b;){if(b-a<m){g.push(b-a);break}S+=m;const u=l(p,y,v);S>u&&(S-=u,y++);const c=p[y].getWidth(S-1)===2;c&&S--;const f=c?m-1:m;g.push(f),a+=f}return g},i.getWrappedLineTrimmedLength=l},5295:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferSet=void 0;const p=l(8460),v=l(844),m=l(9092);class g extends v.Disposable{constructor(S,y){super(),this._optionsService=S,this._bufferService=y,this._onBufferActivate=this.register(new p.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new m.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new m.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(S){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(S),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(S,y){this._normal.resize(S,y),this._alt.resize(S,y),this.setupTabStops(S)}setupTabStops(S){this._normal.setupTabStops(S),this._alt.setupTabStops(S)}}i.BufferSet=g},511:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CellData=void 0;const p=l(482),v=l(643),m=l(3734);class g extends m.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new m.ExtendedAttrs,this.combinedData=""}static fromCharData(S){const y=new g;return y.setFromCharData(S),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,p.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(S){this.fg=S[v.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(S[v.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(S[v.CHAR_DATA_CHAR_INDEX].length===2){const a=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=a&&a<=56319){const u=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=u&&u<=57343?this.content=1024*(a-55296)+u-56320+65536|S[v.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=S[v.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|S[v.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=S[v.CHAR_DATA_CHAR_INDEX],this.content=2097152|S[v.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}i.CellData=g},643:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WHITESPACE_CELL_CODE=i.WHITESPACE_CELL_WIDTH=i.WHITESPACE_CELL_CHAR=i.NULL_CELL_CODE=i.NULL_CELL_WIDTH=i.NULL_CELL_CHAR=i.CHAR_DATA_CODE_INDEX=i.CHAR_DATA_WIDTH_INDEX=i.CHAR_DATA_CHAR_INDEX=i.CHAR_DATA_ATTR_INDEX=i.DEFAULT_EXT=i.DEFAULT_ATTR=i.DEFAULT_COLOR=void 0,i.DEFAULT_COLOR=0,i.DEFAULT_ATTR=256|i.DEFAULT_COLOR<<9,i.DEFAULT_EXT=0,i.CHAR_DATA_ATTR_INDEX=0,i.CHAR_DATA_CHAR_INDEX=1,i.CHAR_DATA_WIDTH_INDEX=2,i.CHAR_DATA_CODE_INDEX=3,i.NULL_CELL_CHAR="",i.NULL_CELL_WIDTH=1,i.NULL_CELL_CODE=0,i.WHITESPACE_CELL_CHAR=" ",i.WHITESPACE_CELL_WIDTH=1,i.WHITESPACE_CELL_CODE=32},4863:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Marker=void 0;const p=l(8460),v=l(844);class m{get id(){return this._id}constructor(b){this.line=b,this.isDisposed=!1,this._disposables=[],this._id=m._nextId++,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,v.disposeArray)(this._disposables),this._disposables.length=0)}register(b){return this._disposables.push(b),b}}i.Marker=m,m._nextId=1},7116:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DEFAULT_CHARSET=i.CHARSETS=void 0,i.CHARSETS={},i.DEFAULT_CHARSET=i.CHARSETS.B,i.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},i.CHARSETS.A={"#":""},i.CHARSETS.B=void 0,i.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},i.CHARSETS.C=i.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},i.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.E=i.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},i.CHARSETS.H=i.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},i.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(h,i)=>{var l,p,v;Object.defineProperty(i,"__esModule",{value:!0}),i.C1_ESCAPED=i.C1=i.C0=void 0,function(m){m.NUL="\0",m.SOH="",m.STX="",m.ETX="",m.EOT="",m.ENQ="",m.ACK="",m.BEL="\x07",m.BS="\b",m.HT="	",m.LF=`
`,m.VT="\v",m.FF="\f",m.CR="\r",m.SO="",m.SI="",m.DLE="",m.DC1="",m.DC2="",m.DC3="",m.DC4="",m.NAK="",m.SYN="",m.ETB="",m.CAN="",m.EM="",m.SUB="",m.ESC="\x1B",m.FS="",m.GS="",m.RS="",m.US="",m.SP=" ",m.DEL=""}(l||(i.C0=l={})),function(m){m.PAD="",m.HOP="",m.BPH="",m.NBH="",m.IND="",m.NEL="",m.SSA="",m.ESA="",m.HTS="",m.HTJ="",m.VTS="",m.PLD="",m.PLU="",m.RI="",m.SS2="",m.SS3="",m.DCS="",m.PU1="",m.PU2="",m.STS="",m.CCH="",m.MW="",m.SPA="",m.EPA="",m.SOS="",m.SGCI="",m.SCI="",m.CSI="",m.ST="",m.OSC="",m.PM="",m.APC=""}(p||(i.C1=p={})),function(m){m.ST=`${l.ESC}\\`}(v||(i.C1_ESCAPED=v={}))},7399:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.evaluateKeyboardEvent=void 0;const p=l(2584),v={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};i.evaluateKeyboardEvent=function(m,g,b,S){const y={type:0,cancel:!1,key:void 0},a=(m.shiftKey?1:0)|(m.altKey?2:0)|(m.ctrlKey?4:0)|(m.metaKey?8:0);switch(m.keyCode){case 0:m.key==="UIKeyInputUpArrow"?y.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A":m.key==="UIKeyInputLeftArrow"?y.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D":m.key==="UIKeyInputRightArrow"?y.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C":m.key==="UIKeyInputDownArrow"&&(y.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B");break;case 8:if(m.altKey){y.key=p.C0.ESC+p.C0.DEL;break}y.key=p.C0.DEL;break;case 9:if(m.shiftKey){y.key=p.C0.ESC+"[Z";break}y.key=p.C0.HT,y.cancel=!0;break;case 13:y.key=m.altKey?p.C0.ESC+p.C0.CR:p.C0.CR,y.cancel=!0;break;case 27:y.key=p.C0.ESC,m.altKey&&(y.key=p.C0.ESC+p.C0.ESC),y.cancel=!0;break;case 37:if(m.metaKey)break;a?(y.key=p.C0.ESC+"[1;"+(a+1)+"D",y.key===p.C0.ESC+"[1;3D"&&(y.key=p.C0.ESC+(b?"b":"[1;5D"))):y.key=g?p.C0.ESC+"OD":p.C0.ESC+"[D";break;case 39:if(m.metaKey)break;a?(y.key=p.C0.ESC+"[1;"+(a+1)+"C",y.key===p.C0.ESC+"[1;3C"&&(y.key=p.C0.ESC+(b?"f":"[1;5C"))):y.key=g?p.C0.ESC+"OC":p.C0.ESC+"[C";break;case 38:if(m.metaKey)break;a?(y.key=p.C0.ESC+"[1;"+(a+1)+"A",b||y.key!==p.C0.ESC+"[1;3A"||(y.key=p.C0.ESC+"[1;5A")):y.key=g?p.C0.ESC+"OA":p.C0.ESC+"[A";break;case 40:if(m.metaKey)break;a?(y.key=p.C0.ESC+"[1;"+(a+1)+"B",b||y.key!==p.C0.ESC+"[1;3B"||(y.key=p.C0.ESC+"[1;5B")):y.key=g?p.C0.ESC+"OB":p.C0.ESC+"[B";break;case 45:m.shiftKey||m.ctrlKey||(y.key=p.C0.ESC+"[2~");break;case 46:y.key=a?p.C0.ESC+"[3;"+(a+1)+"~":p.C0.ESC+"[3~";break;case 36:y.key=a?p.C0.ESC+"[1;"+(a+1)+"H":g?p.C0.ESC+"OH":p.C0.ESC+"[H";break;case 35:y.key=a?p.C0.ESC+"[1;"+(a+1)+"F":g?p.C0.ESC+"OF":p.C0.ESC+"[F";break;case 33:m.shiftKey?y.type=2:m.ctrlKey?y.key=p.C0.ESC+"[5;"+(a+1)+"~":y.key=p.C0.ESC+"[5~";break;case 34:m.shiftKey?y.type=3:m.ctrlKey?y.key=p.C0.ESC+"[6;"+(a+1)+"~":y.key=p.C0.ESC+"[6~";break;case 112:y.key=a?p.C0.ESC+"[1;"+(a+1)+"P":p.C0.ESC+"OP";break;case 113:y.key=a?p.C0.ESC+"[1;"+(a+1)+"Q":p.C0.ESC+"OQ";break;case 114:y.key=a?p.C0.ESC+"[1;"+(a+1)+"R":p.C0.ESC+"OR";break;case 115:y.key=a?p.C0.ESC+"[1;"+(a+1)+"S":p.C0.ESC+"OS";break;case 116:y.key=a?p.C0.ESC+"[15;"+(a+1)+"~":p.C0.ESC+"[15~";break;case 117:y.key=a?p.C0.ESC+"[17;"+(a+1)+"~":p.C0.ESC+"[17~";break;case 118:y.key=a?p.C0.ESC+"[18;"+(a+1)+"~":p.C0.ESC+"[18~";break;case 119:y.key=a?p.C0.ESC+"[19;"+(a+1)+"~":p.C0.ESC+"[19~";break;case 120:y.key=a?p.C0.ESC+"[20;"+(a+1)+"~":p.C0.ESC+"[20~";break;case 121:y.key=a?p.C0.ESC+"[21;"+(a+1)+"~":p.C0.ESC+"[21~";break;case 122:y.key=a?p.C0.ESC+"[23;"+(a+1)+"~":p.C0.ESC+"[23~";break;case 123:y.key=a?p.C0.ESC+"[24;"+(a+1)+"~":p.C0.ESC+"[24~";break;default:if(!m.ctrlKey||m.shiftKey||m.altKey||m.metaKey)if(b&&!S||!m.altKey||m.metaKey)!b||m.altKey||m.ctrlKey||m.shiftKey||!m.metaKey?m.key&&!m.ctrlKey&&!m.altKey&&!m.metaKey&&m.keyCode>=48&&m.key.length===1?y.key=m.key:m.key&&m.ctrlKey&&(m.key==="_"&&(y.key=p.C0.US),m.key==="@"&&(y.key=p.C0.NUL)):m.keyCode===65&&(y.type=1);else{const u=v[m.keyCode],c=u==null?void 0:u[m.shiftKey?1:0];if(c)y.key=p.C0.ESC+c;else if(m.keyCode>=65&&m.keyCode<=90){const f=m.ctrlKey?m.keyCode-64:m.keyCode+32;let _=String.fromCharCode(f);m.shiftKey&&(_=_.toUpperCase()),y.key=p.C0.ESC+_}else if(m.keyCode===32)y.key=p.C0.ESC+(m.ctrlKey?p.C0.NUL:" ");else if(m.key==="Dead"&&m.code.startsWith("Key")){let f=m.code.slice(3,4);m.shiftKey||(f=f.toLowerCase()),y.key=p.C0.ESC+f,y.cancel=!0}}else m.keyCode>=65&&m.keyCode<=90?y.key=String.fromCharCode(m.keyCode-64):m.keyCode===32?y.key=p.C0.NUL:m.keyCode>=51&&m.keyCode<=55?y.key=String.fromCharCode(m.keyCode-51+27):m.keyCode===56?y.key=p.C0.DEL:m.keyCode===219?y.key=p.C0.ESC:m.keyCode===220?y.key=p.C0.FS:m.keyCode===221&&(y.key=p.C0.GS)}return y}},482:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Utf8ToUtf32=i.StringToUtf32=i.utf32ToString=i.stringFromCodePoint=void 0,i.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},i.utf32ToString=function(l,p=0,v=l.length){let m="";for(let g=p;g<v;++g){let b=l[g];b>65535?(b-=65536,m+=String.fromCharCode(55296+(b>>10))+String.fromCharCode(b%1024+56320)):m+=String.fromCharCode(b)}return m},i.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,p){const v=l.length;if(!v)return 0;let m=0,g=0;if(this._interim){const b=l.charCodeAt(g++);56320<=b&&b<=57343?p[m++]=1024*(this._interim-55296)+b-56320+65536:(p[m++]=this._interim,p[m++]=b),this._interim=0}for(let b=g;b<v;++b){const S=l.charCodeAt(b);if(55296<=S&&S<=56319){if(++b>=v)return this._interim=S,m;const y=l.charCodeAt(b);56320<=y&&y<=57343?p[m++]=1024*(S-55296)+y-56320+65536:(p[m++]=S,p[m++]=y)}else S!==65279&&(p[m++]=S)}return m}},i.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,p){const v=l.length;if(!v)return 0;let m,g,b,S,y=0,a=0,u=0;if(this.interim[0]){let _=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let E,k=0;for(;(E=63&this.interim[++k])&&k<4;)w<<=6,w|=E;const x=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,C=x-k;for(;u<C;){if(u>=v)return 0;if(E=l[u++],(192&E)!=128){u--,_=!0;break}this.interim[k++]=E,w<<=6,w|=63&E}_||(x===2?w<128?u--:p[y++]=w:x===3?w<2048||w>=55296&&w<=57343||w===65279||(p[y++]=w):w<65536||w>1114111||(p[y++]=w)),this.interim.fill(0)}const c=v-4;let f=u;for(;f<v;){for(;!(!(f<c)||128&(m=l[f])||128&(g=l[f+1])||128&(b=l[f+2])||128&(S=l[f+3]));)p[y++]=m,p[y++]=g,p[y++]=b,p[y++]=S,f+=4;if(m=l[f++],m<128)p[y++]=m;else if((224&m)==192){if(f>=v)return this.interim[0]=m,y;if(g=l[f++],(192&g)!=128){f--;continue}if(a=(31&m)<<6|63&g,a<128){f--;continue}p[y++]=a}else if((240&m)==224){if(f>=v)return this.interim[0]=m,y;if(g=l[f++],(192&g)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,y;if(b=l[f++],(192&b)!=128){f--;continue}if(a=(15&m)<<12|(63&g)<<6|63&b,a<2048||a>=55296&&a<=57343||a===65279)continue;p[y++]=a}else if((248&m)==240){if(f>=v)return this.interim[0]=m,y;if(g=l[f++],(192&g)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,y;if(b=l[f++],(192&b)!=128){f--;continue}if(f>=v)return this.interim[0]=m,this.interim[1]=g,this.interim[2]=b,y;if(S=l[f++],(192&S)!=128){f--;continue}if(a=(7&m)<<18|(63&g)<<12|(63&b)<<6|63&S,a<65536||a>1114111)continue;p[y++]=a}}return y}}},225:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],p=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;i.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let m=0;m<l.length;++m)v.fill(0,l[m][0],l[m][1]+1)}}wcwidth(m){return m<32?0:m<127?1:m<65536?v[m]:function(g,b){let S,y=0,a=b.length-1;if(g<b[0][0]||g>b[a][1])return!1;for(;a>=y;)if(S=y+a>>1,g>b[S][1])y=S+1;else{if(!(g<b[S][0]))return!0;a=S-1}return!1}(m,p)?0:m>=131072&&m<=196605||m>=196608&&m<=262141?2:1}}},5981:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.WriteBuffer=void 0;const p=l(8460),v=l(844);class m extends v.Disposable{constructor(b){super(),this._action=b,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new p.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(b,S){if(S!==void 0&&this._syncCalls>S)return void(this._syncCalls=0);if(this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const a=this._callbacks.shift();a&&a()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(b,S){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(S),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=b.length,this._writeBuffer.push(b),this._callbacks.push(S)}_innerWrite(b=0,S=!0){const y=b||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const a=this._writeBuffer[this._bufferOffset],u=this._action(a,S);if(u){const f=_=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,_)):this._innerWrite(y,_);return void u.catch(_=>(queueMicrotask(()=>{throw _}),Promise.resolve(!1))).then(f)}const c=this._callbacks[this._bufferOffset];if(c&&c(),this._bufferOffset++,this._pendingData-=a.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}i.WriteBuffer=m},5941:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.toRgbString=i.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,p=/^[\da-f]+$/;function v(m,g){const b=m.toString(16),S=b.length<2?"0"+b:b;switch(g){case 4:return b[0];case 8:return S;case 12:return(S+S).slice(0,3);default:return S+S}}i.parseColor=function(m){if(!m)return;let g=m.toLowerCase();if(g.indexOf("rgb:")===0){g=g.slice(4);const b=l.exec(g);if(b){const S=b[1]?15:b[4]?255:b[7]?4095:65535;return[Math.round(parseInt(b[1]||b[4]||b[7]||b[10],16)/S*255),Math.round(parseInt(b[2]||b[5]||b[8]||b[11],16)/S*255),Math.round(parseInt(b[3]||b[6]||b[9]||b[12],16)/S*255)]}}else if(g.indexOf("#")===0&&(g=g.slice(1),p.exec(g)&&[3,6,9,12].includes(g.length))){const b=g.length/3,S=[0,0,0];for(let y=0;y<3;++y){const a=parseInt(g.slice(b*y,b*y+b),16);S[y]=b===1?a<<4:b===2?a:b===3?a>>4:a>>8}return S}},i.toRgbString=function(m,g=16){const[b,S,y]=m;return`rgb:${v(b,g)}/${v(S,g)}/${v(y,g)}`}},5770:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.PAYLOAD_LIMIT=void 0,i.PAYLOAD_LIMIT=1e7},6351:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DcsHandler=i.DcsParser=void 0;const p=l(482),v=l(8742),m=l(5770),g=[];i.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=g,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=g}registerHandler(S,y){this._handlers[S]===void 0&&(this._handlers[S]=[]);const a=this._handlers[S];return a.push(y),{dispose:()=>{const u=a.indexOf(y);u!==-1&&a.splice(u,1)}}}clearHandler(S){this._handlers[S]&&delete this._handlers[S]}setHandlerFallback(S){this._handlerFb=S}reset(){if(this._active.length)for(let S=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;S>=0;--S)this._active[S].unhook(!1);this._stack.paused=!1,this._active=g,this._ident=0}hook(S,y){if(this.reset(),this._ident=S,this._active=this._handlers[S]||g,this._active.length)for(let a=this._active.length-1;a>=0;a--)this._active[a].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(S,y,a){if(this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].put(S,y,a);else this._handlerFb(this._ident,"PUT",(0,p.utf32ToString)(S,y,a))}unhook(S,y=!0){if(this._active.length){let a=!1,u=this._active.length-1,c=!1;if(this._stack.paused&&(u=this._stack.loopPosition-1,a=y,c=this._stack.fallThrough,this._stack.paused=!1),!c&&a===!1){for(;u>=0&&(a=this._active[u].unhook(S),a!==!0);u--)if(a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!1,a;u--}for(;u>=0;u--)if(a=this._active[u].unhook(!1),a instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=u,this._stack.fallThrough=!0,a}else this._handlerFb(this._ident,"UNHOOK",S);this._active=g,this._ident=0}};const b=new v.Params;b.addParam(0),i.DcsHandler=class{constructor(S){this._handler=S,this._data="",this._params=b,this._hitLimit=!1}hook(S){this._params=S.length>1||S.params[0]?S.clone():b,this._data="",this._hitLimit=!1}put(S,y,a){this._hitLimit||(this._data+=(0,p.utf32ToString)(S,y,a),this._data.length>m.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(S){let y=!1;if(this._hitLimit)y=!1;else if(S&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(a=>(this._params=b,this._data="",this._hitLimit=!1,a));return this._params=b,this._data="",this._hitLimit=!1,y}}},2015:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.EscapeSequenceParser=i.VT500_TRANSITION_TABLE=i.TransitionTable=void 0;const p=l(844),v=l(8742),m=l(6242),g=l(6351);class b{constructor(u){this.table=new Uint8Array(u)}setDefault(u,c){this.table.fill(u<<4|c)}add(u,c,f,_){this.table[c<<8|u]=f<<4|_}addMany(u,c,f,_){for(let w=0;w<u.length;w++)this.table[c<<8|u[w]]=f<<4|_}}i.TransitionTable=b;const S=160;i.VT500_TRANSITION_TABLE=function(){const a=new b(4095),u=Array.apply(null,Array(256)).map((k,x)=>x),c=(k,x)=>u.slice(k,x),f=c(32,127),_=c(0,24);_.push(25),_.push.apply(_,c(28,32));const w=c(0,14);let E;for(E in a.setDefault(1,0),a.addMany(f,0,2,0),w)a.addMany([24,26,153,154],E,3,0),a.addMany(c(128,144),E,3,0),a.addMany(c(144,152),E,3,0),a.add(156,E,0,0),a.add(27,E,11,1),a.add(157,E,4,8),a.addMany([152,158,159],E,0,7),a.add(155,E,11,3),a.add(144,E,11,9);return a.addMany(_,0,3,0),a.addMany(_,1,3,1),a.add(127,1,0,1),a.addMany(_,8,0,8),a.addMany(_,3,3,3),a.add(127,3,0,3),a.addMany(_,4,3,4),a.add(127,4,0,4),a.addMany(_,6,3,6),a.addMany(_,5,3,5),a.add(127,5,0,5),a.addMany(_,2,3,2),a.add(127,2,0,2),a.add(93,1,4,8),a.addMany(f,8,5,8),a.add(127,8,5,8),a.addMany([156,27,24,26,7],8,6,0),a.addMany(c(28,32),8,0,8),a.addMany([88,94,95],1,0,7),a.addMany(f,7,0,7),a.addMany(_,7,0,7),a.add(156,7,0,0),a.add(127,7,0,7),a.add(91,1,11,3),a.addMany(c(64,127),3,7,0),a.addMany(c(48,60),3,8,4),a.addMany([60,61,62,63],3,9,4),a.addMany(c(48,60),4,8,4),a.addMany(c(64,127),4,7,0),a.addMany([60,61,62,63],4,0,6),a.addMany(c(32,64),6,0,6),a.add(127,6,0,6),a.addMany(c(64,127),6,0,0),a.addMany(c(32,48),3,9,5),a.addMany(c(32,48),5,9,5),a.addMany(c(48,64),5,0,6),a.addMany(c(64,127),5,7,0),a.addMany(c(32,48),4,9,5),a.addMany(c(32,48),1,9,2),a.addMany(c(32,48),2,9,2),a.addMany(c(48,127),2,10,0),a.addMany(c(48,80),1,10,0),a.addMany(c(81,88),1,10,0),a.addMany([89,90,92],1,10,0),a.addMany(c(96,127),1,10,0),a.add(80,1,11,9),a.addMany(_,9,0,9),a.add(127,9,0,9),a.addMany(c(28,32),9,0,9),a.addMany(c(32,48),9,9,12),a.addMany(c(48,60),9,8,10),a.addMany([60,61,62,63],9,9,10),a.addMany(_,11,0,11),a.addMany(c(32,128),11,0,11),a.addMany(c(28,32),11,0,11),a.addMany(_,10,0,10),a.add(127,10,0,10),a.addMany(c(28,32),10,0,10),a.addMany(c(48,60),10,8,10),a.addMany([60,61,62,63],10,0,11),a.addMany(c(32,48),10,9,12),a.addMany(_,12,0,12),a.add(127,12,0,12),a.addMany(c(28,32),12,0,12),a.addMany(c(32,48),12,9,12),a.addMany(c(48,64),12,0,11),a.addMany(c(64,127),12,12,13),a.addMany(c(64,127),10,12,13),a.addMany(c(64,127),9,12,13),a.addMany(_,13,13,13),a.addMany(f,13,13,13),a.add(127,13,0,13),a.addMany([27,156,24,26],13,14,0),a.add(S,0,2,0),a.add(S,8,5,8),a.add(S,6,0,6),a.add(S,11,0,11),a.add(S,13,13,13),a}();class y extends p.Disposable{constructor(u=i.VT500_TRANSITION_TABLE){super(),this._transitions=u,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new v.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(c,f,_)=>{},this._executeHandlerFb=c=>{},this._csiHandlerFb=(c,f)=>{},this._escHandlerFb=c=>{},this._errorHandlerFb=c=>c,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,p.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new m.OscParser),this._dcsParser=this.register(new g.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(u,c=[64,126]){let f=0;if(u.prefix){if(u.prefix.length>1)throw new Error("only one byte as prefix supported");if(f=u.prefix.charCodeAt(0),f&&60>f||f>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(u.intermediates){if(u.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<u.intermediates.length;++w){const E=u.intermediates.charCodeAt(w);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");f<<=8,f|=E}}if(u.final.length!==1)throw new Error("final must be a single byte");const _=u.final.charCodeAt(0);if(c[0]>_||_>c[1])throw new Error(`final must be in range ${c[0]} .. ${c[1]}`);return f<<=8,f|=_,f}identToString(u){const c=[];for(;u;)c.push(String.fromCharCode(255&u)),u>>=8;return c.reverse().join("")}setPrintHandler(u){this._printHandler=u}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(u,c){const f=this._identifier(u,[48,126]);this._escHandlers[f]===void 0&&(this._escHandlers[f]=[]);const _=this._escHandlers[f];return _.push(c),{dispose:()=>{const w=_.indexOf(c);w!==-1&&_.splice(w,1)}}}clearEscHandler(u){this._escHandlers[this._identifier(u,[48,126])]&&delete this._escHandlers[this._identifier(u,[48,126])]}setEscHandlerFallback(u){this._escHandlerFb=u}setExecuteHandler(u,c){this._executeHandlers[u.charCodeAt(0)]=c}clearExecuteHandler(u){this._executeHandlers[u.charCodeAt(0)]&&delete this._executeHandlers[u.charCodeAt(0)]}setExecuteHandlerFallback(u){this._executeHandlerFb=u}registerCsiHandler(u,c){const f=this._identifier(u);this._csiHandlers[f]===void 0&&(this._csiHandlers[f]=[]);const _=this._csiHandlers[f];return _.push(c),{dispose:()=>{const w=_.indexOf(c);w!==-1&&_.splice(w,1)}}}clearCsiHandler(u){this._csiHandlers[this._identifier(u)]&&delete this._csiHandlers[this._identifier(u)]}setCsiHandlerFallback(u){this._csiHandlerFb=u}registerDcsHandler(u,c){return this._dcsParser.registerHandler(this._identifier(u),c)}clearDcsHandler(u){this._dcsParser.clearHandler(this._identifier(u))}setDcsHandlerFallback(u){this._dcsParser.setHandlerFallback(u)}registerOscHandler(u,c){return this._oscParser.registerHandler(u,c)}clearOscHandler(u){this._oscParser.clearHandler(u)}setOscHandlerFallback(u){this._oscParser.setHandlerFallback(u)}setErrorHandler(u){this._errorHandler=u}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(u,c,f,_,w){this._parseStack.state=u,this._parseStack.handlers=c,this._parseStack.handlerPos=f,this._parseStack.transition=_,this._parseStack.chunkPos=w}parse(u,c,f){let _,w=0,E=0,k=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,k=this._parseStack.chunkPos+1;else{if(f===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const x=this._parseStack.handlers;let C=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(f===!1&&C>-1){for(;C>=0&&(_=x[C](this._params),_!==!0);C--)if(_ instanceof Promise)return this._parseStack.handlerPos=C,_}this._parseStack.handlers=[];break;case 4:if(f===!1&&C>-1){for(;C>=0&&(_=x[C](),_!==!0);C--)if(_ instanceof Promise)return this._parseStack.handlerPos=C,_}this._parseStack.handlers=[];break;case 6:if(w=u[this._parseStack.chunkPos],_=this._dcsParser.unhook(w!==24&&w!==26,f),_)return _;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=u[this._parseStack.chunkPos],_=this._oscParser.end(w!==24&&w!==26,f),_)return _;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,k=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let x=k;x<c;++x){switch(w=u[x],E=this._transitions.table[this.currentState<<8|(w<160?w:S)],E>>4){case 2:for(let T=x+1;;++T){if(T>=c||(w=u[T])<32||w>126&&w<S){this._printHandler(u,x,T),x=T-1;break}if(++T>=c||(w=u[T])<32||w>126&&w<S){this._printHandler(u,x,T),x=T-1;break}if(++T>=c||(w=u[T])<32||w>126&&w<S){this._printHandler(u,x,T),x=T-1;break}if(++T>=c||(w=u[T])<32||w>126&&w<S){this._printHandler(u,x,T),x=T-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:x,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const C=this._csiHandlers[this._collect<<8|w];let D=C?C.length-1:-1;for(;D>=0&&(_=C[D](this._params),_!==!0);D--)if(_ instanceof Promise)return this._preserveStack(3,C,D,E,x),_;D<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++x<c&&(w=u[x])>47&&w<60);x--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const A=this._escHandlers[this._collect<<8|w];let j=A?A.length-1:-1;for(;j>=0&&(_=A[j](),_!==!0);j--)if(_ instanceof Promise)return this._preserveStack(4,A,j,E,x),_;j<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let T=x+1;;++T)if(T>=c||(w=u[T])===24||w===26||w===27||w>127&&w<S){this._dcsParser.put(u,x,T),x=T-1;break}break;case 14:if(_=this._dcsParser.unhook(w!==24&&w!==26),_)return this._preserveStack(6,[],0,E,x),_;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let T=x+1;;T++)if(T>=c||(w=u[T])<32||w>127&&w<S){this._oscParser.put(u,x,T),x=T-1;break}break;case 6:if(_=this._oscParser.end(w!==24&&w!==26),_)return this._preserveStack(5,[],0,E,x),_;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}i.EscapeSequenceParser=y},6242:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OscHandler=i.OscParser=void 0;const p=l(5770),v=l(482),m=[];i.OscParser=class{constructor(){this._state=0,this._active=m,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(g,b){this._handlers[g]===void 0&&(this._handlers[g]=[]);const S=this._handlers[g];return S.push(b),{dispose:()=>{const y=S.indexOf(b);y!==-1&&S.splice(y,1)}}}clearHandler(g){this._handlers[g]&&delete this._handlers[g]}setHandlerFallback(g){this._handlerFb=g}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=m}reset(){if(this._state===2)for(let g=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;g>=0;--g)this._active[g].end(!1);this._stack.paused=!1,this._active=m,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||m,this._active.length)for(let g=this._active.length-1;g>=0;g--)this._active[g].start();else this._handlerFb(this._id,"START")}_put(g,b,S){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(g,b,S);else this._handlerFb(this._id,"PUT",(0,v.utf32ToString)(g,b,S))}start(){this.reset(),this._state=1}put(g,b,S){if(this._state!==3){if(this._state===1)for(;b<S;){const y=g[b++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&S-b>0&&this._put(g,b,S)}}end(g,b=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let S=!1,y=this._active.length-1,a=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,S=b,a=this._stack.fallThrough,this._stack.paused=!1),!a&&S===!1){for(;y>=0&&(S=this._active[y].end(g),S!==!0);y--)if(S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,S;y--}for(;y>=0;y--)if(S=this._active[y].end(!1),S instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,S}else this._handlerFb(this._id,"END",g);this._active=m,this._id=-1,this._state=0}}},i.OscHandler=class{constructor(g){this._handler=g,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(g,b,S){this._hitLimit||(this._data+=(0,v.utf32ToString)(g,b,S),this._data.length>p.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(g){let b=!1;if(this._hitLimit)b=!1;else if(g&&(b=this._handler(this._data),b instanceof Promise))return b.then(S=>(this._data="",this._hitLimit=!1,S));return this._data="",this._hitLimit=!1,b}}},8742:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.Params=void 0;const l=2147483647;class p{static fromArray(m){const g=new p;if(!m.length)return g;for(let b=Array.isArray(m[0])?1:0;b<m.length;++b){const S=m[b];if(Array.isArray(S))for(let y=0;y<S.length;++y)g.addSubParam(S[y]);else g.addParam(S)}return g}constructor(m=32,g=32){if(this.maxLength=m,this.maxSubParamsLength=g,g>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(m),this.length=0,this._subParams=new Int32Array(g),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(m),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const m=new p(this.maxLength,this.maxSubParamsLength);return m.params.set(this.params),m.length=this.length,m._subParams.set(this._subParams),m._subParamsLength=this._subParamsLength,m._subParamsIdx.set(this._subParamsIdx),m._rejectDigits=this._rejectDigits,m._rejectSubDigits=this._rejectSubDigits,m._digitIsSub=this._digitIsSub,m}toArray(){const m=[];for(let g=0;g<this.length;++g){m.push(this.params[g]);const b=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-b>0&&m.push(Array.prototype.slice.call(this._subParams,b,S))}return m}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(m){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=m>l?l:m}}addSubParam(m){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(m<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=m>l?l:m,this._subParamsIdx[this.length-1]++}}hasSubParams(m){return(255&this._subParamsIdx[m])-(this._subParamsIdx[m]>>8)>0}getSubParams(m){const g=this._subParamsIdx[m]>>8,b=255&this._subParamsIdx[m];return b-g>0?this._subParams.subarray(g,b):null}getSubParamsAll(){const m={};for(let g=0;g<this.length;++g){const b=this._subParamsIdx[g]>>8,S=255&this._subParamsIdx[g];S-b>0&&(m[g]=this._subParams.slice(b,S))}return m}addDigit(m){let g;if(this._rejectDigits||!(g=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const b=this._digitIsSub?this._subParams:this.params,S=b[g-1];b[g-1]=~S?Math.min(10*S+m,l):m}}i.Params=p},5741:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.AddonManager=void 0,i.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,p){const v={instance:p,dispose:p.dispose,isDisposed:!1};this._addons.push(v),p.dispose=()=>this._wrappedAddonDispose(v),p.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let p=-1;for(let v=0;v<this._addons.length;v++)if(this._addons[v]===l){p=v;break}if(p===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(p,1)}}},8771:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferApiView=void 0;const p=l(3785),v=l(511);i.BufferApiView=class{constructor(m,g){this._buffer=m,this.type=g}init(m){return this._buffer=m,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(m){const g=this._buffer.lines.get(m);if(g)return new p.BufferLineApiView(g)}getNullCell(){return new v.CellData}}},3785:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferLineApiView=void 0;const p=l(511);i.BufferLineApiView=class{constructor(v){this._line=v}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(v,m){if(!(v<0||v>=this._line.length))return m?(this._line.loadCell(v,m),m):this._line.loadCell(v,new p.CellData)}translateToString(v,m,g){return this._line.translateToString(v,m,g)}}},8285:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.BufferNamespaceApi=void 0;const p=l(8771),v=l(8460),m=l(844);class g extends m.Disposable{constructor(S){super(),this._core=S,this._onBufferChange=this.register(new v.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new p.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new p.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}i.BufferNamespaceApi=g},7975:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.ParserApi=void 0,i.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,p){return this._core.registerCsiHandler(l,v=>p(v.toArray()))}addCsiHandler(l,p){return this.registerCsiHandler(l,p)}registerDcsHandler(l,p){return this._core.registerDcsHandler(l,(v,m)=>p(v,m.toArray()))}addDcsHandler(l,p){return this.registerDcsHandler(l,p)}registerEscHandler(l,p){return this._core.registerEscHandler(l,p)}addEscHandler(l,p){return this.registerEscHandler(l,p)}registerOscHandler(l,p){return this._core.registerOscHandler(l,p)}addOscHandler(l,p){return this.registerOscHandler(l,p)}}},7090:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeApi=void 0,i.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(h,i,l){var p=this&&this.__decorate||function(a,u,c,f){var _,w=arguments.length,E=w<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,u,c,f);else for(var k=a.length-1;k>=0;k--)(_=a[k])&&(E=(w<3?_(E):w>3?_(u,c,E):_(u,c))||E);return w>3&&E&&Object.defineProperty(u,c,E),E},v=this&&this.__param||function(a,u){return function(c,f){u(c,f,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.BufferService=i.MINIMUM_ROWS=i.MINIMUM_COLS=void 0;const m=l(8460),g=l(844),b=l(5295),S=l(2585);i.MINIMUM_COLS=2,i.MINIMUM_ROWS=1;let y=i.BufferService=class extends g.Disposable{get buffer(){return this.buffers.active}constructor(a){super(),this.isUserScrolling=!1,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new m.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(a.rawOptions.cols||0,i.MINIMUM_COLS),this.rows=Math.max(a.rawOptions.rows||0,i.MINIMUM_ROWS),this.buffers=this.register(new b.BufferSet(a,this))}resize(a,u){this.cols=a,this.rows=u,this.buffers.resize(a,u),this._onResize.fire({cols:a,rows:u})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(a,u=!1){const c=this.buffer;let f;f=this._cachedBlankLine,f&&f.length===this.cols&&f.getFg(0)===a.fg&&f.getBg(0)===a.bg||(f=c.getBlankLine(a,u),this._cachedBlankLine=f),f.isWrapped=u;const _=c.ybase+c.scrollTop,w=c.ybase+c.scrollBottom;if(c.scrollTop===0){const E=c.lines.isFull;w===c.lines.length-1?E?c.lines.recycle().copyFrom(f):c.lines.push(f.clone()):c.lines.splice(w+1,0,f.clone()),E?this.isUserScrolling&&(c.ydisp=Math.max(c.ydisp-1,0)):(c.ybase++,this.isUserScrolling||c.ydisp++)}else{const E=w-_+1;c.lines.shiftElements(_+1,E-1,-1),c.lines.set(w,f.clone())}this.isUserScrolling||(c.ydisp=c.ybase),this._onScroll.fire(c.ydisp)}scrollLines(a,u,c){const f=this.buffer;if(a<0){if(f.ydisp===0)return;this.isUserScrolling=!0}else a+f.ydisp>=f.ybase&&(this.isUserScrolling=!1);const _=f.ydisp;f.ydisp=Math.max(Math.min(f.ydisp+a,f.ybase),0),_!==f.ydisp&&(u||this._onScroll.fire(f.ydisp))}};i.BufferService=y=p([v(0,S.IOptionsService)],y)},7994:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.CharsetService=void 0,i.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,p){this._charsets[l]=p,this.glevel===l&&(this.charset=p)}}},1753:function(h,i,l){var p=this&&this.__decorate||function(f,_,w,E){var k,x=arguments.length,C=x<3?_:E===null?E=Object.getOwnPropertyDescriptor(_,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(f,_,w,E);else for(var D=f.length-1;D>=0;D--)(k=f[D])&&(C=(x<3?k(C):x>3?k(_,w,C):k(_,w))||C);return x>3&&C&&Object.defineProperty(_,w,C),C},v=this&&this.__param||function(f,_){return function(w,E){_(w,E,f)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreMouseService=void 0;const m=l(2585),g=l(8460),b=l(844),S={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:f=>f.button!==4&&f.action===1&&(f.ctrl=!1,f.alt=!1,f.shift=!1,!0)},VT200:{events:19,restrict:f=>f.action!==32},DRAG:{events:23,restrict:f=>f.action!==32||f.button!==3},ANY:{events:31,restrict:f=>!0}};function y(f,_){let w=(f.ctrl?16:0)|(f.shift?4:0)|(f.alt?8:0);return f.button===4?(w|=64,w|=f.action):(w|=3&f.button,4&f.button&&(w|=64),8&f.button&&(w|=128),f.action===32?w|=32:f.action!==0||_||(w|=3)),w}const a=String.fromCharCode,u={DEFAULT:f=>{const _=[y(f,!1)+32,f.col+32,f.row+32];return _[0]>255||_[1]>255||_[2]>255?"":`\x1B[M${a(_[0])}${a(_[1])}${a(_[2])}`},SGR:f=>{const _=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${y(f,!0)};${f.col};${f.row}${_}`},SGR_PIXELS:f=>{const _=f.action===0&&f.button!==4?"m":"M";return`\x1B[<${y(f,!0)};${f.x};${f.y}${_}`}};let c=i.CoreMouseService=class extends b.Disposable{constructor(f,_){super(),this._bufferService=f,this._coreService=_,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new g.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(S))this.addProtocol(w,S[w]);for(const w of Object.keys(u))this.addEncoding(w,u[w]);this.reset()}addProtocol(f,_){this._protocols[f]=_}addEncoding(f,_){this._encodings[f]=_}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(f){if(!this._protocols[f])throw new Error(`unknown protocol "${f}"`);this._activeProtocol=f,this._onProtocolChange.fire(this._protocols[f].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(f){if(!this._encodings[f])throw new Error(`unknown encoding "${f}"`);this._activeEncoding=f}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(f){if(f.col<0||f.col>=this._bufferService.cols||f.row<0||f.row>=this._bufferService.rows||f.button===4&&f.action===32||f.button===3&&f.action!==32||f.button!==4&&(f.action===2||f.action===3)||(f.col++,f.row++,f.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,f,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(f))return!1;const _=this._encodings[this._activeEncoding](f);return _&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(_):this._coreService.triggerDataEvent(_,!0)),this._lastEvent=f,!0}explainEvents(f){return{down:!!(1&f),up:!!(2&f),drag:!!(4&f),move:!!(8&f),wheel:!!(16&f)}}_equalEvents(f,_,w){if(w){if(f.x!==_.x||f.y!==_.y)return!1}else if(f.col!==_.col||f.row!==_.row)return!1;return f.button===_.button&&f.action===_.action&&f.ctrl===_.ctrl&&f.alt===_.alt&&f.shift===_.shift}};i.CoreMouseService=c=p([v(0,m.IBufferService),v(1,m.ICoreService)],c)},6975:function(h,i,l){var p=this&&this.__decorate||function(c,f,_,w){var E,k=arguments.length,x=k<3?f:w===null?w=Object.getOwnPropertyDescriptor(f,_):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")x=Reflect.decorate(c,f,_,w);else for(var C=c.length-1;C>=0;C--)(E=c[C])&&(x=(k<3?E(x):k>3?E(f,_,x):E(f,_))||x);return k>3&&x&&Object.defineProperty(f,_,x),x},v=this&&this.__param||function(c,f){return function(_,w){f(_,w,c)}};Object.defineProperty(i,"__esModule",{value:!0}),i.CoreService=void 0;const m=l(1439),g=l(8460),b=l(844),S=l(2585),y=Object.freeze({insertMode:!1}),a=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let u=i.CoreService=class extends b.Disposable{constructor(c,f,_){super(),this._bufferService=c,this._logService=f,this._optionsService=_,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new g.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new g.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new g.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new g.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,m.clone)(y),this.decPrivateModes=(0,m.clone)(a)}reset(){this.modes=(0,m.clone)(y),this.decPrivateModes=(0,m.clone)(a)}triggerDataEvent(c,f=!1){if(this._optionsService.rawOptions.disableStdin)return;const _=this._bufferService.buffer;f&&this._optionsService.rawOptions.scrollOnUserInput&&_.ybase!==_.ydisp&&this._onRequestScrollToBottom.fire(),f&&this._onUserInput.fire(),this._logService.debug(`sending data "${c}"`,()=>c.split("").map(w=>w.charCodeAt(0))),this._onData.fire(c)}triggerBinaryEvent(c){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${c}"`,()=>c.split("").map(f=>f.charCodeAt(0))),this._onBinary.fire(c))}};i.CoreService=u=p([v(0,S.IBufferService),v(1,S.ILogService),v(2,S.IOptionsService)],u)},9074:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.DecorationService=void 0;const p=l(8055),v=l(8460),m=l(844),g=l(6106);let b=0,S=0;class y extends m.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new g.SortedList(c=>c==null?void 0:c.marker.line),this._onDecorationRegistered=this.register(new v.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new v.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,m.toDisposable)(()=>this.reset()))}registerDecoration(c){if(c.marker.isDisposed)return;const f=new a(c);if(f){const _=f.marker.onDispose(()=>f.dispose());f.onDispose(()=>{f&&(this._decorations.delete(f)&&this._onDecorationRemoved.fire(f),_.dispose())}),this._decorations.insert(f),this._onDecorationRegistered.fire(f)}return f}reset(){for(const c of this._decorations.values())c.dispose();this._decorations.clear()}*getDecorationsAtCell(c,f,_){var w,E,k;let x=0,C=0;for(const D of this._decorations.getKeyIterator(f))x=(w=D.options.x)!==null&&w!==void 0?w:0,C=x+((E=D.options.width)!==null&&E!==void 0?E:1),c>=x&&c<C&&(!_||((k=D.options.layer)!==null&&k!==void 0?k:"bottom")===_)&&(yield D)}forEachDecorationAtCell(c,f,_,w){this._decorations.forEachByKey(f,E=>{var k,x,C;b=(k=E.options.x)!==null&&k!==void 0?k:0,S=b+((x=E.options.width)!==null&&x!==void 0?x:1),c>=b&&c<S&&(!_||((C=E.options.layer)!==null&&C!==void 0?C:"bottom")===_)&&w(E)})}}i.DecorationService=y;class a extends m.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=p.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=p.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(c){super(),this.options=c,this.onRenderEmitter=this.register(new v.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new v.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=c.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.InstantiationService=i.ServiceCollection=void 0;const p=l(2585),v=l(8343);class m{constructor(...b){this._entries=new Map;for(const[S,y]of b)this.set(S,y)}set(b,S){const y=this._entries.get(b);return this._entries.set(b,S),y}forEach(b){for(const[S,y]of this._entries.entries())b(S,y)}has(b){return this._entries.has(b)}get(b){return this._entries.get(b)}}i.ServiceCollection=m,i.InstantiationService=class{constructor(){this._services=new m,this._services.set(p.IInstantiationService,this)}setService(g,b){this._services.set(g,b)}getService(g){return this._services.get(g)}createInstance(g,...b){const S=(0,v.getServiceDependencies)(g).sort((u,c)=>u.index-c.index),y=[];for(const u of S){const c=this._services.get(u.id);if(!c)throw new Error(`[createInstance] ${g.name} depends on UNKNOWN service ${u.id}.`);y.push(c)}const a=S.length>0?S[0].index:b.length;if(b.length!==a)throw new Error(`[createInstance] First service dependency of ${g.name} at position ${a+1} conflicts with ${b.length} static arguments`);return new g(...b,...y)}}},7866:function(h,i,l){var p=this&&this.__decorate||function(a,u,c,f){var _,w=arguments.length,E=w<3?u:f===null?f=Object.getOwnPropertyDescriptor(u,c):f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,u,c,f);else for(var k=a.length-1;k>=0;k--)(_=a[k])&&(E=(w<3?_(E):w>3?_(u,c,E):_(u,c))||E);return w>3&&E&&Object.defineProperty(u,c,E),E},v=this&&this.__param||function(a,u){return function(c,f){u(c,f,a)}};Object.defineProperty(i,"__esModule",{value:!0}),i.traceCall=i.setTraceLogger=i.LogService=void 0;const m=l(844),g=l(2585),b={trace:g.LogLevelEnum.TRACE,debug:g.LogLevelEnum.DEBUG,info:g.LogLevelEnum.INFO,warn:g.LogLevelEnum.WARN,error:g.LogLevelEnum.ERROR,off:g.LogLevelEnum.OFF};let S,y=i.LogService=class extends m.Disposable{get logLevel(){return this._logLevel}constructor(a){super(),this._optionsService=a,this._logLevel=g.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),S=this}_updateLogLevel(){this._logLevel=b[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(a){for(let u=0;u<a.length;u++)typeof a[u]=="function"&&(a[u]=a[u]())}_log(a,u,c){this._evalLazyOptionalParams(c),a.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+u,...c)}trace(a,...u){var c,f;this._logLevel<=g.LogLevelEnum.TRACE&&this._log((f=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.trace.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,a,u)}debug(a,...u){var c,f;this._logLevel<=g.LogLevelEnum.DEBUG&&this._log((f=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.debug.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.log,a,u)}info(a,...u){var c,f;this._logLevel<=g.LogLevelEnum.INFO&&this._log((f=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.info.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.info,a,u)}warn(a,...u){var c,f;this._logLevel<=g.LogLevelEnum.WARN&&this._log((f=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.warn.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.warn,a,u)}error(a,...u){var c,f;this._logLevel<=g.LogLevelEnum.ERROR&&this._log((f=(c=this._optionsService.options.logger)===null||c===void 0?void 0:c.error.bind(this._optionsService.options.logger))!==null&&f!==void 0?f:console.error,a,u)}};i.LogService=y=p([v(0,g.IOptionsService)],y),i.setTraceLogger=function(a){S=a},i.traceCall=function(a,u,c){if(typeof c.value!="function")throw new Error("not supported");const f=c.value;c.value=function(..._){if(S.logLevel!==g.LogLevelEnum.TRACE)return f.apply(this,_);S.trace(`GlyphRenderer#${f.name}(${_.map(E=>JSON.stringify(E)).join(", ")})`);const w=f.apply(this,_);return S.trace(`GlyphRenderer#${f.name} return`,w),w}}},7302:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.OptionsService=i.DEFAULT_OPTIONS=void 0;const p=l(8460),v=l(844),m=l(6114);i.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:m.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const g=["normal","bold","100","200","300","400","500","600","700","800","900"];class b extends v.Disposable{constructor(y){super(),this._onOptionChange=this.register(new p.EventEmitter),this.onOptionChange=this._onOptionChange.event;const a=Object.assign({},i.DEFAULT_OPTIONS);for(const u in y)if(u in a)try{const c=y[u];a[u]=this._sanitizeAndValidateOption(u,c)}catch(c){console.error(c)}this.rawOptions=a,this.options=Object.assign({},a),this._setupOptions()}onSpecificOptionChange(y,a){return this.onOptionChange(u=>{u===y&&a(this.rawOptions[y])})}onMultipleOptionChange(y,a){return this.onOptionChange(u=>{y.indexOf(u)!==-1&&a()})}_setupOptions(){const y=u=>{if(!(u in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);return this.rawOptions[u]},a=(u,c)=>{if(!(u in i.DEFAULT_OPTIONS))throw new Error(`No option with key "${u}"`);c=this._sanitizeAndValidateOption(u,c),this.rawOptions[u]!==c&&(this.rawOptions[u]=c,this._onOptionChange.fire(u))};for(const u in this.rawOptions){const c={get:y.bind(this,u),set:a.bind(this,u)};Object.defineProperty(this.options,u,c)}}_sanitizeAndValidateOption(y,a){switch(y){case"cursorStyle":if(a||(a=i.DEFAULT_OPTIONS[y]),!function(u){return u==="block"||u==="underline"||u==="bar"}(a))throw new Error(`"${a}" is not a valid value for ${y}`);break;case"wordSeparator":a||(a=i.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof a=="number"&&1<=a&&a<=1e3)break;a=g.includes(a)?a:i.DEFAULT_OPTIONS[y];break;case"cursorWidth":a=Math.floor(a);case"lineHeight":case"tabStopWidth":if(a<1)throw new Error(`${y} cannot be less than 1, value: ${a}`);break;case"minimumContrastRatio":a=Math.max(1,Math.min(21,Math.round(10*a)/10));break;case"scrollback":if((a=Math.min(a,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${a}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(a<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${a}`);break;case"rows":case"cols":if(!a&&a!==0)throw new Error(`${y} must be numeric, value: ${a}`);break;case"windowsPty":a=a??{}}return a}}i.OptionsService=b},2660:function(h,i,l){var p=this&&this.__decorate||function(b,S,y,a){var u,c=arguments.length,f=c<3?S:a===null?a=Object.getOwnPropertyDescriptor(S,y):a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(b,S,y,a);else for(var _=b.length-1;_>=0;_--)(u=b[_])&&(f=(c<3?u(f):c>3?u(S,y,f):u(S,y))||f);return c>3&&f&&Object.defineProperty(S,y,f),f},v=this&&this.__param||function(b,S){return function(y,a){S(y,a,b)}};Object.defineProperty(i,"__esModule",{value:!0}),i.OscLinkService=void 0;const m=l(2585);let g=i.OscLinkService=class{constructor(b){this._bufferService=b,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(b){const S=this._bufferService.buffer;if(b.id===void 0){const _=S.addMarker(S.ybase+S.y),w={data:b,id:this._nextId++,lines:[_]};return _.onDispose(()=>this._removeMarkerFromLink(w,_)),this._dataByLinkId.set(w.id,w),w.id}const y=b,a=this._getEntryIdKey(y),u=this._entriesWithId.get(a);if(u)return this.addLineToLink(u.id,S.ybase+S.y),u.id;const c=S.addMarker(S.ybase+S.y),f={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[c]};return c.onDispose(()=>this._removeMarkerFromLink(f,c)),this._entriesWithId.set(f.key,f),this._dataByLinkId.set(f.id,f),f.id}addLineToLink(b,S){const y=this._dataByLinkId.get(b);if(y&&y.lines.every(a=>a.line!==S)){const a=this._bufferService.buffer.addMarker(S);y.lines.push(a),a.onDispose(()=>this._removeMarkerFromLink(y,a))}}getLinkData(b){var S;return(S=this._dataByLinkId.get(b))===null||S===void 0?void 0:S.data}_getEntryIdKey(b){return`${b.id};;${b.uri}`}_removeMarkerFromLink(b,S){const y=b.lines.indexOf(S);y!==-1&&(b.lines.splice(y,1),b.lines.length===0&&(b.data.id!==void 0&&this._entriesWithId.delete(b.key),this._dataByLinkId.delete(b.id)))}};i.OscLinkService=g=p([v(0,m.IBufferService)],g)},8343:(h,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.createDecorator=i.getServiceDependencies=i.serviceRegistry=void 0;const l="di$target",p="di$dependencies";i.serviceRegistry=new Map,i.getServiceDependencies=function(v){return v[p]||[]},i.createDecorator=function(v){if(i.serviceRegistry.has(v))return i.serviceRegistry.get(v);const m=function(g,b,S){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,a,u){a[l]===a?a[p].push({id:y,index:u}):(a[p]=[{id:y,index:u}],a[l]=a)})(m,g,S)};return m.toString=()=>v,i.serviceRegistry.set(v,m),m}},2585:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.IDecorationService=i.IUnicodeService=i.IOscLinkService=i.IOptionsService=i.ILogService=i.LogLevelEnum=i.IInstantiationService=i.ICharsetService=i.ICoreService=i.ICoreMouseService=i.IBufferService=void 0;const p=l(8343);var v;i.IBufferService=(0,p.createDecorator)("BufferService"),i.ICoreMouseService=(0,p.createDecorator)("CoreMouseService"),i.ICoreService=(0,p.createDecorator)("CoreService"),i.ICharsetService=(0,p.createDecorator)("CharsetService"),i.IInstantiationService=(0,p.createDecorator)("InstantiationService"),function(m){m[m.TRACE=0]="TRACE",m[m.DEBUG=1]="DEBUG",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.OFF=5]="OFF"}(v||(i.LogLevelEnum=v={})),i.ILogService=(0,p.createDecorator)("LogService"),i.IOptionsService=(0,p.createDecorator)("OptionsService"),i.IOscLinkService=(0,p.createDecorator)("OscLinkService"),i.IUnicodeService=(0,p.createDecorator)("UnicodeService"),i.IDecorationService=(0,p.createDecorator)("DecorationService")},1480:(h,i,l)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.UnicodeService=void 0;const p=l(8460),v=l(225);i.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new p.EventEmitter,this.onChange=this._onChange.event;const m=new v.UnicodeV6;this.register(m),this._active=m.version,this._activeProvider=m}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(m){if(!this._providers[m])throw new Error(`unknown Unicode version "${m}"`);this._active=m,this._activeProvider=this._providers[m],this._onChange.fire(m)}register(m){this._providers[m.version]=m}wcwidth(m){return this._activeProvider.wcwidth(m)}getStringCellWidth(m){let g=0;const b=m.length;for(let S=0;S<b;++S){let y=m.charCodeAt(S);if(55296<=y&&y<=56319){if(++S>=b)return g+this.wcwidth(y);const a=m.charCodeAt(S);56320<=a&&a<=57343?y=1024*(y-55296)+a-56320+65536:g+=this.wcwidth(a)}g+=this.wcwidth(y)}return g}}}},s={};function n(h){var i=s[h];if(i!==void 0)return i.exports;var l=s[h]={exports:{}};return r[h].call(l.exports,l,l.exports,n),l.exports}var o={};return(()=>{var h=o;Object.defineProperty(h,"__esModule",{value:!0}),h.Terminal=void 0;const i=n(9042),l=n(3236),p=n(844),v=n(5741),m=n(8285),g=n(7975),b=n(7090),S=["cols","rows"];class y extends p.Disposable{constructor(u){super(),this._core=this.register(new l.Terminal(u)),this._addonManager=this.register(new v.AddonManager),this._publicOptions=Object.assign({},this._core.options);const c=_=>this._core.options[_],f=(_,w)=>{this._checkReadonlyOptions(_),this._core.options[_]=w};for(const _ in this._core.options){const w={get:c.bind(this,_),set:f.bind(this,_)};Object.defineProperty(this._publicOptions,_,w)}}_checkReadonlyOptions(u){if(S.includes(u))throw new Error(`Option "${u}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new g.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new b.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new m.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const u=this._core.coreService.decPrivateModes;let c="none";switch(this._core.coreMouseService.activeProtocol){case"X10":c="x10";break;case"VT200":c="vt200";break;case"DRAG":c="drag";break;case"ANY":c="any"}return{applicationCursorKeysMode:u.applicationCursorKeys,applicationKeypadMode:u.applicationKeypad,bracketedPasteMode:u.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:c,originMode:u.origin,reverseWraparoundMode:u.reverseWraparound,sendFocusMode:u.sendFocus,wraparoundMode:u.wraparound}}get options(){return this._publicOptions}set options(u){for(const c in u)this._publicOptions[c]=u[c]}blur(){this._core.blur()}focus(){this._core.focus()}resize(u,c){this._verifyIntegers(u,c),this._core.resize(u,c)}open(u){this._core.open(u)}attachCustomKeyEventHandler(u){this._core.attachCustomKeyEventHandler(u)}registerLinkProvider(u){return this._core.registerLinkProvider(u)}registerCharacterJoiner(u){return this._checkProposedApi(),this._core.registerCharacterJoiner(u)}deregisterCharacterJoiner(u){this._checkProposedApi(),this._core.deregisterCharacterJoiner(u)}registerMarker(u=0){return this._verifyIntegers(u),this._core.registerMarker(u)}registerDecoration(u){var c,f,_;return this._checkProposedApi(),this._verifyPositiveIntegers((c=u.x)!==null&&c!==void 0?c:0,(f=u.width)!==null&&f!==void 0?f:0,(_=u.height)!==null&&_!==void 0?_:0),this._core.registerDecoration(u)}hasSelection(){return this._core.hasSelection()}select(u,c,f){this._verifyIntegers(u,c,f),this._core.select(u,c,f)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(u,c){this._verifyIntegers(u,c),this._core.selectLines(u,c)}dispose(){super.dispose()}scrollLines(u){this._verifyIntegers(u),this._core.scrollLines(u)}scrollPages(u){this._verifyIntegers(u),this._core.scrollPages(u)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(u){this._verifyIntegers(u),this._core.scrollToLine(u)}clear(){this._core.clear()}write(u,c){this._core.write(u,c)}writeln(u,c){this._core.write(u),this._core.write(`\r
`,c)}paste(u){this._core.paste(u)}refresh(u,c){this._verifyIntegers(u,c),this._core.refresh(u,c)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(u){this._addonManager.loadAddon(this,u)}static get strings(){return i}_verifyIntegers(...u){for(const c of u)if(c===1/0||isNaN(c)||c%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...u){for(const c of u)if(c&&(c===1/0||isNaN(c)||c%1!=0||c<0))throw new Error("This API only accepts positive integers")}}h.Terminal=y})(),o})())})(Em);var zw=Em.exports,Rm={exports:{}};(function(e,t){(function(r,s){e.exports=s()})(self,()=>(()=>{var r={};return(()=>{var s=r;Object.defineProperty(s,"__esModule",{value:!0}),s.FitAddon=void 0,s.FitAddon=class{activate(n){this._terminal=n}dispose(){}fit(){const n=this.proposeDimensions();if(!n||!this._terminal||isNaN(n.cols)||isNaN(n.rows))return;const o=this._terminal._core;this._terminal.rows===n.rows&&this._terminal.cols===n.cols||(o._renderService.clear(),this._terminal.resize(n.cols,n.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const n=this._terminal._core,o=n._renderService.dimensions;if(o.css.cell.width===0||o.css.cell.height===0)return;const h=this._terminal.options.scrollback===0?0:n.viewport.scrollBarWidth,i=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(i.getPropertyValue("height")),p=Math.max(0,parseInt(i.getPropertyValue("width"))),v=window.getComputedStyle(this._terminal.element),m=l-(parseInt(v.getPropertyValue("padding-top"))+parseInt(v.getPropertyValue("padding-bottom"))),g=p-(parseInt(v.getPropertyValue("padding-right"))+parseInt(v.getPropertyValue("padding-left")))-h;return{cols:Math.max(2,Math.floor(g/o.css.cell.width)),rows:Math.max(1,Math.floor(m/o.css.cell.height))}}}})(),r})())})(Rm);var $w=Rm.exports;function Ww(){const[e,t]=N.useState([]),[r,s]=N.useState([]),[n,o]=N.useState(null),[h,i]=N.useState(!0),[l,p]=N.useState(""),[v,m]=N.useState(""),[g,b]=N.useState([]),[S,y]=N.useState(new Set),[a,u]=N.useState(!1),[c,f]=N.useState("none"),[_,w]=N.useState(!1),[E,k]=N.useState(null),[x,C]=N.useState({username:"",password:"",credential_id:""}),[D,A]=N.useState([]),j=N.useRef(null),{toast:T}=st();N.useEffect(()=>{G(),I(),z()},[]);const I=async()=>{try{const q=(await J.get("/favorites")).data||[];y(new Set(q.map(V=>V.id)))}catch(H){console.error(":",H)}},F=async(H,q)=>{var V,Q;q.stopPropagation();try{S.has(H)?(await J.delete(`/assets/${H}/favorite`),y(B=>{const K=new Set(B);return K.delete(H),K})):(await J.post(`/assets/${H}/favorite`),y(B=>new Set(B).add(H)))}catch(L){alert(((Q=(V=L.response)==null?void 0:V.data)==null?void 0:Q.error)||"")}};N.useEffect(()=>{if(n&&j.current){const H=r.find(q=>q.id===n);H&&(j.current.innerHTML="",H.terminal.open(j.current),H.fitAddon.fit())}},[n,r]),N.useEffect(()=>{const H=()=>{if(n){const q=r.find(V=>V.id===n);if(q&&(q.fitAddon.fit(),q.ws&&q.ws.readyState===WebSocket.OPEN)){const V=q.terminal.cols,Q=q.terminal.rows;try{q.ws.send(JSON.stringify({type:"resize",cols:V,rows:Q}))}catch(L){console.error(" resize :",L)}}}};return window.addEventListener("resize",H),()=>window.removeEventListener("resize",H)},[n,r]);const z=async()=>{try{const q=(await J.get("/asset-credentials")).data||[];A(q)}catch(H){console.error(":",H)}},G=async()=>{try{const q=(await J.get("/assets?page=1&limit=1000")).data.data||[];t(q);const V=new Set;q.forEach(Q=>{var L;(L=Q.project)!=null&&L.name&&V.add(Q.project.name)}),b(Array.from(V).sort())}catch(H){console.error(":",H)}},R=async H=>{k(H),C({username:"",password:"",credential_id:""}),w(!0)},P=async()=>{var H,q;if(E)try{let V=x.username,Q=x.password;if(x.credential_id){const pe=D.find(te=>te.id===x.credential_id);pe&&(V=pe.username)}const L=await J.post("/webssh/connect",{asset_id:E.id,username:V,password:Q,credential_id:x.credential_id||void 0}),{session_id:B,ws_url:K}=L.data,$=new zw.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'Monaco, Menlo, "Ubuntu Mono", monospace'}),ee=new $w.FitAddon;$.loadAddon(ee);const oe=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}${K}`,ce=new WebSocket(oe);ce.onopen=()=>{console.log("WebSocket connected")},ce.onmessage=pe=>{pe.data instanceof Blob?pe.data.arrayBuffer().then(te=>{$.write(new Uint8Array(te))}):(pe.data,$.write(pe.data))},ce.onerror=pe=>{console.error("WebSocket error:",pe),$.writeln(`\r
\x1B[31m\x1B[0m`)},ce.onclose=()=>{$.writeln(`\r
\x1B[31m\x1B[0m`),s(pe=>pe.map(te=>te.id===B?{...te,connected:!1,ws:null}:te))},$.onData(pe=>{ce.readyState===WebSocket.OPEN&&ce.send(pe)});const Ae={id:B,assetId:E.id,assetName:E.name,terminal:$,fitAddon:ee,ws:ce,connected:!0};s(pe=>[...pe,Ae]),o(B),w(!1),j.current&&(j.current.innerHTML="",$.open(j.current),ee.fit()),T({title:"",description:"",variant:"success"})}catch(V){T({title:"",description:((q=(H=V.response)==null?void 0:H.data)==null?void 0:q.error)||"",variant:"error"})}},O=async H=>{const q=r.find(V=>V.id===H);if(q){q.ws&&q.ws.close(),q.terminal.dispose();try{await J.delete(`/webssh/${H}`)}catch(V){console.error(":",V)}}if(s(V=>V.filter(Q=>Q.id!==H)),n===H){const V=r.filter(Q=>Q.id!==H);V.length>0?o(V[0].id):(o(null),j.current&&(j.current.innerHTML=""))}},M=e.filter(H=>{var L;const q=H.name.toLowerCase().includes(l.toLowerCase())||H.type.toLowerCase().includes(l.toLowerCase()),V=!v||((L=H.project)==null?void 0:L.name)===v,Q=!a||S.has(H.id);return q&&V&&Q}),U=()=>{if(c==="none")return{:M};const H={};return M.forEach(q=>{var Q;let V="";c==="type"?V=q.type||"":c==="project"?V=((Q=q.project)==null?void 0:Q.name)||"":c==="favorite"&&(V=S.has(q.id)?"":""),H[V]||(H[V]=[]),H[V].push(q)}),H};return d.jsxs("div",{className:"flex h-screen",children:[h&&d.jsxs("div",{className:"w-80 bg-white border-r flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:""}),d.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:""})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("input",{type:"text",placeholder:"...",value:l,onChange:H=>p(H.target.value),className:"w-full px-3 py-2 border rounded text-sm"}),d.jsxs("select",{value:v,onChange:H=>m(H.target.value),className:"w-full px-3 py-2 border rounded text-sm",children:[d.jsx("option",{value:"",children:""}),g.map(H=>d.jsx("option",{value:H,children:H},H))]}),d.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:H=>u(H.target.checked),className:"rounded"}),d.jsx("span",{className:"text-sm",children:""})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsxs("select",{value:c,onChange:H=>f(H.target.value),className:"w-full px-3 py-2 border rounded text-sm",children:[d.jsx("option",{value:"none",children:""}),d.jsx("option",{value:"type",children:""}),d.jsx("option",{value:"project",children:""}),d.jsx("option",{value:"favorite",children:""})]})]})]})]}),d.jsx("div",{className:"flex-1 overflow-y-auto",children:d.jsx("div",{className:"p-2",children:Object.entries(U()).map(([H,q])=>d.jsxs("div",{className:"mb-4",children:[c!=="none"&&d.jsxs("div",{className:"text-xs font-semibold text-gray-500 mb-2 px-2",children:[H," (",q.length,")"]}),d.jsx("div",{className:"space-y-1",children:q.map(V=>{var L;const Q=r.find(B=>B.assetId===V.id);return d.jsx("div",{className:`p-3 rounded cursor-pointer hover:bg-gray-50 ${n===(Q==null?void 0:Q.id)?"bg-blue-50 border border-blue-300":""}`,onClick:()=>{Q?o(Q.id):R(V)},children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"font-medium text-sm",children:V.name}),d.jsx("button",{onClick:B=>F(V.id,B),className:`text-sm ${S.has(V.id)?"text-yellow-500":"text-gray-400 hover:text-yellow-500"}`,children:""})]}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[V.type," ",((L=V.project)==null?void 0:L.name)&&` ${V.project.name}`]}),Q&&d.jsxs("div",{className:"text-xs mt-1",children:[d.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-1 ${Q.connected?"bg-green-500":"bg-gray-400"}`}),Q.connected?"":""]})]}),d.jsx("div",{className:"flex gap-1",children:Q&&d.jsx("button",{onClick:B=>{B.stopPropagation(),O(Q.id)},className:"text-red-500 hover:text-red-700 text-xs",children:""})})]})},V.id)})})]},H))})})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[r.length>0&&d.jsxs("div",{className:"bg-gray-100 border-b flex items-center px-4",children:[!h&&d.jsx("button",{onClick:()=>i(!0),className:"mr-2 px-3 py-1 text-sm bg-white border rounded hover:bg-gray-50",children:""}),d.jsx("div",{className:"flex-1 flex overflow-x-auto",children:r.map(H=>d.jsx("div",{className:`px-4 py-2 cursor-pointer border-b-2 ${n===H.id?"border-blue-500 bg-white":"border-transparent hover:bg-gray-200"}`,onClick:()=>o(H.id),children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm",children:H.assetName}),d.jsx("button",{onClick:q=>{q.stopPropagation(),O(H.id)},className:"text-gray-400 hover:text-red-500",children:""})]})},H.id))})]}),d.jsx("div",{className:"flex-1 bg-black p-2",children:n?d.jsx("div",{ref:j,className:"h-full"}):d.jsx("div",{className:"h-full flex items-center justify-center text-gray-400",children:r.length===0?d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"mb-4",children:""}),d.jsx("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""})]}):d.jsx("div",{children:""})})})]}),_&&E&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[" ",E.name]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsxs("select",{value:x.credential_id,onChange:H=>{const q=H.target.value,V=D.find(Q=>Q.id===q);C({...x,credential_id:q,username:V?V.username:x.username})},className:"w-full px-3 py-2 border rounded",children:[d.jsx("option",{value:"",children:""}),D.filter(H=>!H.asset_id||H.asset_id===(E==null?void 0:E.id)).map(H=>d.jsxs("option",{value:H.id,children:[H.name," (",H.username,")"]},H.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsx("input",{type:"text",value:x.username,onChange:H=>C({...x,username:H.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:"root",autoFocus:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block mb-1 text-sm",children:""}),d.jsx("input",{type:"password",value:x.password,onChange:H=>C({...x,password:H.target.value}),className:"w-full px-3 py-2 border rounded",placeholder:""})]})]}),d.jsxs("div",{className:"flex gap-2 mt-6",children:[d.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:""}),d.jsx("button",{onClick:()=>w(!1),className:"flex-1 px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:""})]})]})})]})}function Vw(){const[e,t]=N.useState(!1),[r,s]=N.useState(!0),{ToastProvider:n}=st();return N.useEffect(()=>{const o=()=>{const l=localStorage.getItem("access_token");t(!!l),s(!1)};o();const h=l=>{l.key==="access_token"&&o()},i=()=>{o()};return window.addEventListener("storage",h),window.addEventListener("authStateChange",i),()=>{window.removeEventListener("storage",h),window.removeEventListener("authStateChange",i)}},[]),r?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"..."}):d.jsxs(d.Fragment,{children:[d.jsx(n,{}),d.jsx(t0,{children:d.jsxs(G_,{children:[d.jsx(je,{path:"/login",element:d.jsx(Pw,{})}),d.jsx(je,{path:"/",element:e?d.jsx(Ie,{to:"/dashboard"}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/dashboard",element:e?d.jsx(Je,{children:d.jsx(Sx,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/projects",element:e?d.jsx(Je,{children:d.jsx(Nw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/assets",element:e?d.jsx(Je,{children:d.jsx(Dw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/asset-credentials",element:e?d.jsx(Je,{children:d.jsx(Aw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/assets/:assetId/permissions",element:e?d.jsx(Je,{children:d.jsx(Fw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/projects/:projectId/permissions",element:e?d.jsx(Je,{children:d.jsx(Hw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/users",element:e?d.jsx(Je,{children:d.jsx(Tw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/user-groups",element:e?d.jsx(Je,{children:d.jsx(Ow,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/roles",element:e?d.jsx(Je,{children:d.jsx(Mw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/user-roles",element:e?d.jsx(Je,{children:d.jsx(Bw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/group-roles",element:e?d.jsx(Je,{children:d.jsx(Iw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/audit",element:e?d.jsx(Je,{children:d.jsx(Uw,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/webssh",element:e?d.jsx(Je,{children:d.jsx(Ww,{})}):d.jsx(Ie,{to:"/login"})}),d.jsx(je,{path:"/health",element:d.jsx("div",{children:"Health Check"})})]})})]})}Af(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(Vw,{})}));
